import{_ as n,c as s}from"./app.406a4cec.js";var a="/naive-dafou-ui-dist/assets/16373841215398.9a923bf0.jpg",e="/naive-dafou-ui-dist/assets/16373843421200.dbd2d936.jpg",p="/naive-dafou-ui-dist/assets/16373869173752.078fb233.jpg",t="/naive-dafou-ui-dist/assets/16374037914554.b83015a5.jpg",o="/naive-dafou-ui-dist/assets/16374038036359.40af87bf.jpg",l="/naive-dafou-ui-dist/assets/16374165697721.0a6d1023.jpg",c="/naive-dafou-ui-dist/assets/16374249284848.7aada199.jpg",i="/naive-dafou-ui-dist/assets/16374644383399.1758c089.jpg",d="/naive-dafou-ui-dist/assets/16374666878700.41eeecec.jpg",k="/naive-dafou-ui-dist/assets/16374667827223.efc80efd.jpg",u="/naive-dafou-ui-dist/assets/16374682525362.1b5b8086.jpg",r="/naive-dafou-ui-dist/assets/16374725395202.7e9b92d8.jpg",m="/naive-dafou-ui-dist/assets/16375141407605.f9a3d8dd.jpg",v="/naive-dafou-ui-dist/assets/16375156331762.eaf837ef.jpg",b="/naive-dafou-ui-dist/assets/16375167671429.d4a70953.jpg",y="/naive-dafou-ui-dist/assets/16375172015679.23003221.jpg",w="/naive-dafou-ui-dist/assets/16375172140689.ab9cd701.jpg",E="/naive-dafou-ui-dist/assets/16375179304527.72db13e0.jpg",T="/naive-dafou-ui-dist/assets/16375181486011.fbcf9bd7.jpg",R="/naive-dafou-ui-dist/assets/16375516209302.a2e4c263.jpg",N="/naive-dafou-ui-dist/assets/16375516407468.c053927e.jpg",_="/naive-dafou-ui-dist/assets/16375553140647.ca480929.jpg",L="/naive-dafou-ui-dist/assets/16375584847552.ca56879c.jpg",A="/naive-dafou-ui-dist/assets/16376197006528.1504e101.jpg";const O={},S=s(`<h2 id="\u6982\u5FF5"><a class="header-anchor" href="#\u6982\u5FF5" aria-hidden="true">#</a> \u6982\u5FF5</h2><h3 id="\u6570\u636E\u5E93\u7684\u76F8\u5173\u6982\u5FF5"><a class="header-anchor" href="#\u6570\u636E\u5E93\u7684\u76F8\u5173\u6982\u5FF5" aria-hidden="true">#</a> \u6570\u636E\u5E93\u7684\u76F8\u5173\u6982\u5FF5</h3><p>DB \u6570\u636E\u5E93\uFF08database\uFF09</p><p>DBMS \u6570\u636E\u5E93\u7BA1\u7406\u7CFB\u7EDF\uFF08database management system\uFF09</p><p>SQL \u7ED3\u6784\u5316\u67E5\u8BE2\u8BED\u8A00\uFF08structure query language\uFF09\uFF0C\u4E13\u95E8\u7528\u6765\u548C\u6570\u636E\u5E93\u901A\u4FE1\u7684\u8BED\u8A00</p><h3 id="\u6570\u636E\u5E93\u5B58\u50A8\u6570\u636E\u7684\u7279\u70B9"><a class="header-anchor" href="#\u6570\u636E\u5E93\u5B58\u50A8\u6570\u636E\u7684\u7279\u70B9" aria-hidden="true">#</a> \u6570\u636E\u5E93\u5B58\u50A8\u6570\u636E\u7684\u7279\u70B9</h3><ul><li>\u5C06\u6570\u636E\u5E93\u653E\u5230\u8868\u4E2D\uFF0C\u8868\u5728\u653E\u5230\u5E93\u5E93\u4E2D</li><li>\u4E00\u4E2A\u6570\u636E\u5E93\u4E2D\u53EF\u4EE5\u6709\u591A\u5F20\u8868\uFF0C\u6BCF\u4E2A\u8868\u6709\u4E00\u4E2A\u540D\u5B57\uFF0C\u8868\u540D\u5177\u6709\u552F\u4E00\u6027</li><li>\u8868\u5177\u6709\u4E00\u4E9B\u7279\u6027\uFF0C\u5B9A\u4E49\u4E86\u6570\u636E\u5728\u8868\u4E2D\u5982\u4F55\u5B58\u50A8\uFF0C\u7C7B\u4F3C\u4E8EJava\u4E2D\u7684\u7C7B\u7684\u8BBE\u8BA1</li><li>\u8868\u5B57\u6BB5\uFF0C\u7C7B\u4F3C\u4E8EJava\u4E2D\u7684\u5C5E\u6027</li><li>\u6309\u884C\u5B58\u50A8\uFF0C\u7C7B\u4F3CJava\u7684\u5BF9\u8C61</li></ul><h3 id="dbms\u5206\u4E3A\u4E24\u7C7B"><a class="header-anchor" href="#dbms\u5206\u4E3A\u4E24\u7C7B" aria-hidden="true">#</a> DBMS\u5206\u4E3A\u4E24\u7C7B</h3><ul><li>\u57FA\u4E8E\u5171\u4EAB\u6587\u4EF6\u7CFB\u7EDF\u7684DBMS</li><li>\u57FA\u4E8E\u5BA2\u6237\u673A-\u670D\u52A1\u5668\u7684DBMS\uFF08mysql\u3001Oracle\uFF09</li></ul><p>\u5B89\u88C5\u6570\u636E\u5E93\u4E00\u822C\u5B89\u88C5\u670D\u52A1\u7AEF</p><h3 id="mysql\u57FA\u672C\u4F7F\u7528"><a class="header-anchor" href="#mysql\u57FA\u672C\u4F7F\u7528" aria-hidden="true">#</a> mysql\u57FA\u672C\u4F7F\u7528</h3><h4 id="msyql-\u7684\u5B89\u88C5"><a class="header-anchor" href="#msyql-\u7684\u5B89\u88C5" aria-hidden="true">#</a> msyql \u7684\u5B89\u88C5</h4><p>\u6309\u7167\u6559\u7A0B\u5B89\u88C5\u5373\u53EF</p><h4 id="\u914D\u7F6E\u6587\u4EF6\u8BE6\u89E3"><a class="header-anchor" href="#\u914D\u7F6E\u6587\u4EF6\u8BE6\u89E3" aria-hidden="true">#</a> \u914D\u7F6E\u6587\u4EF6\u8BE6\u89E3</h4><p>my.ini</p><ul><li>port\uFF1A\u53EF\u4EE5\u4FEE\u6539\u7AEF\u53E3\u53F7</li><li>datadir\uFF1A\u6570\u636E\u5B58\u50A8\u8DEF\u5F84</li><li>charcter-set-server\uFF1A\u6570\u636E\u5E93\u7F16\u7801</li><li>dafault-storage-engine\uFF1A\u5B58\u50A8\u5F15\u64CE</li></ul><p>\u5982\u679C\u4FEE\u6539\u7684\u8BDD\uFF0C\u9700\u8981\u91CD\u542Fmysql\u670D\u52A1</p><h4 id="mysql\u7684\u542F\u52A8\u548C\u505C\u6B62"><a class="header-anchor" href="#mysql\u7684\u542F\u52A8\u548C\u505C\u6B62" aria-hidden="true">#</a> mysql\u7684\u542F\u52A8\u548C\u505C\u6B62</h4><p>\u7EC8\u7AEF\u542F\u52A8\u548C\u505C\u6B62</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">## \u542F\u52A8MySQL\u670D\u52A1</span>
<span class="token function">sudo</span> /usr/local/MySQL/support-files/mysql.server start

<span class="token comment">## \u505C\u6B62MySQL\u670D\u52A1</span>
<span class="token function">sudo</span> /usr/local/mysql/support-files/mysql.server stop

<span class="token comment">## \u91CD\u542FMySQL\u670D\u52A1</span>
<span class="token function">sudo</span> /usr/local/mysql/support-files/mysql.server restart
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u76F4\u63A5\u5728\u8BBE\u7F6E\u4E2D\u542F\u52A8\u548C\u505C\u6B62</p><p><img src="`+a+'" alt=""></p><h4 id="mysql-\u670D\u52A1\u7AEF\u7684\u767B\u5F55\u548C\u9000\u51FA"><a class="header-anchor" href="#mysql-\u670D\u52A1\u7AEF\u7684\u767B\u5F55\u548C\u9000\u51FA" aria-hidden="true">#</a> mysql \u670D\u52A1\u7AEF\u7684\u767B\u5F55\u548C\u9000\u51FA</h4><p><img src="'+e+`" alt=""></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">## \u5982\u679C\u662F\u8FDE\u63A5\u8FDC\u7A0B\u7684\uFF0C\u9700\u8981\u8F93\u5165\u5730\u5740\u548C\u7AEF\u53E3</span>
mysql -hlocalhost -p3306 -uroot -p

<span class="token comment">## \u5982\u679C\u662F\u8FDE\u63A5\u672C\u5730</span>
mysql -uroot -p

<span class="token comment">## \u9000\u51FA</span>
<span class="token builtin class-name">exit</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="mysql\u5E38\u89C1\u547D\u4EE4"><a class="header-anchor" href="#mysql\u5E38\u89C1\u547D\u4EE4" aria-hidden="true">#</a> mysql\u5E38\u89C1\u547D\u4EE4</h4><ul><li>show databases; \u663E\u793A\u6240\u6709\u7684\u6570\u636E\u5E93</li><li>use test; \u4F7F\u7528test\u6570\u636E\u5E93</li><li>show tables; \u663E\u793A\u6240\u6709\u7684\u8868</li><li>show tables form test1; \u663E\u793Atest1\u4E2D\u6240\u6709\u8868</li><li>select database(); \u67E5\u770B\u5F53\u524D\u5728\u90A3\u4E2A\u5E93</li><li>select version(); \u67E5\u770B\u6570\u636E\u5E93\u7248\u672C\uFF08\u5728\u767B\u5F55\u4E4B\u540E\uFF09</li><li>msyql --version \u67E5\u770B\u6570\u636E\u5E93\u7248\u672C\uFF08\u6CA1\u6709\u767B\u5F55\u5728\u7EC8\u7AEF\uFF0C\u4E5F\u53EF\u4EE5\u662Fmysql -V\uFF09</li></ul><h4 id="mysql-\u7684\u8BED\u6CD5\u89C4\u8303"><a class="header-anchor" href="#mysql-\u7684\u8BED\u6CD5\u89C4\u8303" aria-hidden="true">#</a> mysql \u7684\u8BED\u6CD5\u89C4\u8303</h4><ul><li>\u4E0D\u533A\u5206\u5927\u5C0F\u5199\uFF0C\u5EFA\u8BAE\u5173\u952E\u5B57\u5927\u5199\uFF0C\u5176\u4ED6\u7684\u8868\u540D\u3001\u5217\u540D\u5C0F\u5199</li><li>\u6BCF\u6761\u547D\u4EE4\u4F7F\u7528\u5206\u53F7\u7ED3\u5C3E</li><li>\u6BCF\u6761\u547D\u4EE4\u6839\u636E\u9700\u8981\uFF0C\u53EF\u4EE5\u8FDB\u884C\u7F29\u8FDB\u6216\u8005\u6362\u884C</li><li>\u6CE8\u91CA <ul><li>\u5355\u884C\u6CE8\u91CA\uFF1A## \u6CE8\u91CA\u6587\u5B57</li><li>\u591A\u884C\u6CE8\u91CA\uFF1A-- \u6CE8\u91CA\u6587\u5B57</li><li>\u591A\u884C\u6CE8\u91CA\uFF1A/* \u6CE8\u91CA\u6587\u5B57 */</li></ul></li></ul><h2 id="dql\u8BED\u8A00\u5B66\u4E60"><a class="header-anchor" href="#dql\u8BED\u8A00\u5B66\u4E60" aria-hidden="true">#</a> DQL\u8BED\u8A00\u5B66\u4E60</h2><p>DQL\uFF1AData Query Language \u6570\u636E\u67E5\u8BE2\u8BED\u8A00</p><h3 id="\u7EC3\u4E60\u7684\u6570\u636E\u5E93\u4ECB\u7ECD"><a class="header-anchor" href="#\u7EC3\u4E60\u7684\u6570\u636E\u5E93\u4ECB\u7ECD" aria-hidden="true">#</a> \u7EC3\u4E60\u7684\u6570\u636E\u5E93\u4ECB\u7ECD</h3><p><img src="`+p+`" alt=""></p><h4 id="employees\u8868"><a class="header-anchor" href="#employees\u8868" aria-hidden="true">#</a> employees\u8868</h4><p>\u5458\u5DE5\u8868</p><ul><li>\u5458\u5DE5\u7F16\u53F7</li><li>\u540D</li><li>\u59D3</li><li>\u90AE\u7BB1</li><li>\u7535\u8BDD\u53F7\u7801</li><li>\u5DE5\u79CD\u7F16\u53F7\uFF08\u804C\u4E1A\u7C7B\u522B\uFF09</li><li>\u6708\u85AA</li><li>\u5956\u91D1\u7387</li><li>\u4E0A\u7EA7\u9886\u5BFC\u7684\u5458\u5DE5\u7F16\u53F7</li><li>\u90E8\u95E8\u7F16\u53F7</li><li>\u5165\u804C\u65E5\u671F</li></ul><h4 id="departments\u8868"><a class="header-anchor" href="#departments\u8868" aria-hidden="true">#</a> departments\u8868</h4><p>\u90E8\u95E8\u8868</p><ul><li>\u90E8\u95E8\u7F16\u53F7</li><li>\u90E8\u95E8\u540D\u79F0</li><li>\u90E8\u95E8\u9886\u5BFC\u7684\u5458\u5DE5\u7F16\u53F7</li><li>\u4F4D\u7F6E\u7F16\u53F7</li></ul><h4 id="locations\u8868"><a class="header-anchor" href="#locations\u8868" aria-hidden="true">#</a> locations\u8868</h4><p>\u4F4D\u7F6E\u8868</p><ul><li>\u4F4D\u7F6E\u7F16\u53F7</li><li>\u6240\u5C5E\u8857\u9053</li><li>\u90AE\u7F16</li><li>\u57CE\u5E02</li><li>\u5DDE/\u7701</li><li>\u56FD\u5BB6\u7F16\u53F7</li></ul><h4 id="jobs\u8868"><a class="header-anchor" href="#jobs\u8868" aria-hidden="true">#</a> jobs\u8868</h4><p>\u5DE5\u79CD\u8868</p><ul><li>\u5DE5\u79CD\u7F16\u53F7</li><li>\u5DE5\u79CD\u540D\u79F0</li><li>\u6700\u4F4E\u5DE5\u8D44</li><li>\u6700\u9AD8\u5DE5\u8D44</li></ul><h3 id="\u57FA\u7840\u67E5\u8BE2"><a class="header-anchor" href="#\u57FA\u7840\u67E5\u8BE2" aria-hidden="true">#</a> \u57FA\u7840\u67E5\u8BE2</h3><h4 id="\u4F7F\u7528"><a class="header-anchor" href="#\u4F7F\u7528" aria-hidden="true">#</a> \u4F7F\u7528</h4><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">/*
select  \u67E5\u8BE2\u5217\u8868 from \u8868\u540D;

\u7279\u70B9\uFF1A
1 \u67E5\u8BE2\u5217\u8868\u53EF\u4EE5\u662F\uFF1A\u8868\u4E2D\u7684\u5B57\u6BB5\u3001\u5E38\u91CF\u503C\u3001\u8868\u8FBE\u5F0F\u3001\u51FD\u6570
2 \u67E5\u8BE2\u7684\u7ED3\u679C\u662F\u4E00\u4E2A\u865A\u62DF\u7684\u8868\u683C
*/</span>

<span class="token keyword">use</span> myemployees<span class="token punctuation">;</span>

<span class="token comment">## 1. \u67E5\u8BE2\u5355\u4E2A\u5B57\u6BB5</span>
<span class="token keyword">select</span> last_name <span class="token keyword">from</span> employees<span class="token punctuation">;</span>

<span class="token comment">## 2. \u67E5\u8BE2\u8868\u4E2D\u7684\u591A\u4E2A\u5B57\u6BB5</span>
<span class="token keyword">select</span> last_name<span class="token punctuation">,</span>salary<span class="token punctuation">,</span>email <span class="token keyword">from</span> employees<span class="token punctuation">;</span>

<span class="token comment">## 3. \u67E5\u8BE2\u8868\u4E2D\u7684\u6240\u6709\u5B57\u6BB5\uFF0C\u53EF\u4EE5\u5199\u4E0A\u6240\u6709\u7684\u5B57\u6BB5\uFF0C\u4E5F\u53EF\u4EE5\u4F7F\u7528*</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employees<span class="token punctuation">;</span>

<span class="token comment">## 4. \u67E5\u8BE2\u5E38\u91CF\u503C </span>
<span class="token keyword">select</span> <span class="token number">100</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token string">&#39;john&#39;</span><span class="token punctuation">;</span>

<span class="token comment">## 5. \u67E5\u8BE2\u8868\u8FBE\u5F0F </span>
<span class="token keyword">select</span> <span class="token number">100</span><span class="token operator">*</span><span class="token number">89</span><span class="token punctuation">;</span>

<span class="token comment">## 6. \u67E5\u8BE2\u51FD\u6570 </span>
<span class="token keyword">select</span> VERSION<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">## \u67E5\u8BE2mysql\u7248\u672C</span>

<span class="token comment">## 7. \u8D77\u522B\u540D </span>
<span class="token comment">## \u4FBF\u4E8E\u7406\u89E3 </span>
<span class="token comment">## \u5982\u679C\u8981\u67E5\u8BE2\u7684\u5B57\u6BB5\u6709\u91CD\u540D\u7684\u60C5\u51B5\uFF0C\u4F7F\u7528\u522B\u540D\u53EF\u4EE5\u533A\u5206</span>
<span class="token comment">## \u65B9\u5F0F\u4E00 \u4F7F\u7528 as</span>
<span class="token keyword">select</span> <span class="token number">100</span><span class="token operator">*</span><span class="token number">89</span> <span class="token keyword">as</span> result<span class="token punctuation">;</span>
<span class="token keyword">select</span> last_name <span class="token keyword">as</span> \u59D3<span class="token punctuation">,</span>first_name <span class="token keyword">as</span> \u540D <span class="token keyword">from</span> employees<span class="token punctuation">;</span>
<span class="token comment">## \u65B9\u5F0F\u4E8C \u4F7F\u7528\u7A7A\u683C</span>
<span class="token keyword">select</span> last_name \u59D3<span class="token punctuation">,</span>first_name \u540D <span class="token keyword">from</span> employees<span class="token punctuation">;</span>
<span class="token comment">## \u5982\u679C\u522B\u540D\u6709\u7A7A\u683C\u7B49\u7279\u6B8A\u7B26\u53F7\uFF0C\u4F7F\u7528\u53CC\u5F15\u53F7</span>
<span class="token keyword">select</span> last_name <span class="token string">&quot;out put&quot;</span> <span class="token keyword">from</span> employees<span class="token punctuation">;</span>

<span class="token comment">## 8. \u53BB\u91CD</span>
<span class="token comment">## \u6848\u4F8B\uFF1A\u67E5\u8BE2\u5458\u5DE5\u8868\u4E2D\u6D89\u53CA\u5230\u7684\u6240\u6709\u7684\u90E8\u95E8\u7F16\u53F7</span>
<span class="token keyword">select</span> <span class="token keyword">DISTINCT</span> department_id <span class="token keyword">from</span> employees<span class="token punctuation">;</span>

<span class="token comment">## 9. +\u53F7\u7684\u4F5C\u7528\uFF0C\u4EC5\u4EC5\u53EA\u6709\u4E00\u4E2A\u529F\u80FD\uFF1A\u8FD0\u7B97\u7B26</span>
<span class="token keyword">select</span> <span class="token number">100</span><span class="token operator">+</span><span class="token number">90</span><span class="token punctuation">;</span>
<span class="token comment">## \u5047\u5982\u6709\u5176\u4E2D\u4E00\u65B9\u662F\u5B57\u7B26\u578B\uFF0C\u8BD5\u56FE\u5C06\u5B57\u7B26\u578B\u8F6C\u6362\u6210\u6570\u503C\u578B\uFF0C\u5982\u679C\u8F6C\u6362\u6210\u529F\uFF0C\u5219\u7EE7\u7EED\u505A\u52A0\u6CD5\u8FD0\u7B97\uFF0C\u5982\u679C\u8F6C\u6362\u5931\u8D25\uFF0C\u5219\u5C06\u5B57\u7B26\u4E32\u578B\u7684\u6570\u503C\u8F6C\u62100\uFF0C\u7EE7\u7EED\u505A\u52A0\u6CD5\u8FD0\u7B97</span>
<span class="token keyword">select</span> <span class="token string">&#39;22&#39;</span><span class="token operator">+</span><span class="token number">22</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token string">&#39;john&#39;</span><span class="token operator">+</span><span class="token number">22</span><span class="token punctuation">;</span>
<span class="token comment">## \u53EA\u8981\u5176\u4E2D\u4E00\u65B9\u4E3Anull\uFF0C\u5219\u7ED3\u679C\u80AF\u5B9A\u4E3Anull</span>
<span class="token keyword">select</span> <span class="token boolean">null</span><span class="token operator">+</span><span class="token number">10</span><span class="token punctuation">;</span>
<span class="token comment">## \u6848\u4F8B \u67E5\u8BE2\u5458\u5DE5\u540D\u548C\u59D3\u8FDE\u63A5\u6210\u4E00\u4E2A\u5B57\u6BB5\uFF0C\u5E76\u663E\u793A\u4E3A \u59D3\u540D</span>
<span class="token comment">## + \u53F7\u662F\u5C06\u4E24\u8FB9\u7684\u64CD\u4F5C\u6570\u8F6C\u53D8\u6210\u6570\u5B57\u4E4B\u540E\u5728\u76F8\u52A0</span>
<span class="token keyword">select</span> CONCAT<span class="token punctuation">(</span>last_name<span class="token punctuation">,</span><span class="token string">&#39; &#39;</span><span class="token punctuation">,</span>first_name<span class="token punctuation">)</span> <span class="token keyword">as</span> \u59D3\u540D <span class="token keyword">from</span> employees<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u7EC3\u4E60"><a class="header-anchor" href="#\u7EC3\u4E60" aria-hidden="true">#</a> \u7EC3\u4E60</h4><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">## 1. \u4E0B\u9762\u7684\u8BED\u53E5\u662F\u5426\u53EF\u4EE5\u6267\u884C\u6210\u529F</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>job_id<span class="token punctuation">,</span>salary <span class="token keyword">AS</span> sal <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span> <span class="token comment">## \u53EF\u4EE5</span>
<span class="token comment">## 2. \u4E0B\u9762\u7684\u8BED\u53E5\u662F\u5426\u53EF\u4EE5\u6267\u884C\u6210\u529F</span>
<span class="token keyword">SELECT</span><span class="token operator">*</span><span class="token keyword">FROM</span> employees<span class="token punctuation">;</span> <span class="token comment">## \u53EF\u4EE5</span>
<span class="token comment">## 3. \u627E\u51FA\u4E0B\u9762\u8BED\u53E5\u4E2D\u7684\u9519\u8BEF</span>
<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>salary<span class="token operator">*</span><span class="token number">12</span> <span class="token keyword">AS</span> <span class="token string">&quot;ANNUAL SALARY&quot;</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span> 
<span class="token comment">## 4. \u663E\u793A\u8868 departments \u7684\u7ED3\u6784\uFF0C\u5E76\u67E5\u8BE2\u5176\u4E2D\u7684\u5168\u90E8\u6570\u636E</span>
<span class="token keyword">DESC</span> departments<span class="token punctuation">;</span> <span class="token keyword">SELECT</span><span class="token operator">*</span><span class="token keyword">FROM</span> departments<span class="token punctuation">;</span> 
<span class="token comment">## 5. \u663E\u793A\u51FA\u8868 employees \u4E2D\u7684\u5168\u90E8 job_id\uFF08\u4E0D\u80FD\u91CD\u590D\uFF09</span>
<span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> job_id <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span> 
<span class="token comment">## 6. \u663E\u793A\u51FA\u8868 employees \u7684\u5168\u90E8\u5217\uFF0C\u5404\u4E2A\u5217\u4E4B\u95F4\u7528\u9017\u53F7\u8FDE\u63A5\uFF0C\u5217\u5934\u663E\u793A\u6210 OUT_PUT</span>
<span class="token keyword">SELECT</span> CONCAT<span class="token punctuation">(</span>first_name<span class="token punctuation">,</span><span class="token string">&#39;,&#39;</span><span class="token punctuation">,</span>last_name<span class="token punctuation">,</span><span class="token string">&#39;,&#39;</span><span class="token punctuation">,</span>job_id<span class="token punctuation">)</span> <span class="token keyword">AS</span> out_put <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u6761\u4EF6\u67E5\u8BE2"><a class="header-anchor" href="#\u6761\u4EF6\u67E5\u8BE2" aria-hidden="true">#</a> \u6761\u4EF6\u67E5\u8BE2</h3><h4 id="\u4F7F\u7528-1"><a class="header-anchor" href="#\u4F7F\u7528-1" aria-hidden="true">#</a> \u4F7F\u7528</h4><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">## \u6761\u4EF6\u67E5\u8BE2</span>
<span class="token comment">/*
\u8BED\u6CD5\uFF1A
select \u67E5\u8BE2\u5217\u8868 from \u8868\u540D where \u7B5B\u9009\u6761\u4EF6

\u7B5B\u9009\u6761\u4EF6\u5206\u7C7B\uFF1A
1. \u6309\u6761\u4EF6\u8868\u8FBE\u5F0F\u7B5B\u9009
	&gt; &lt; = !=(&lt;&gt;) &lt;= &gt;=
2. \u6309\u903B\u8F91\u8868\u8FBE\u5F0F\u7B5B\u9009\uFF0C\u7528\u4E8E\u8FDE\u63A5\u6761\u4EF6\u8868\u8FBE\u5F0F
	&amp;&amp; || ! and or not
3. \u6A21\u7CCA\u67E5\u8BE2
	like\\between and\\in\\is null
*/</span>

<span class="token comment">## 1. \u6309\u6761\u4EF6\u8868\u8FBE\u5F0F\u7B5B\u9009</span>
<span class="token comment">## \u6848\u4F8B1 \u67E5\u8BE2\u5DE5\u8D44&gt;12000\u7684\u5458\u5DE5\u4FE1\u606F</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employees <span class="token keyword">where</span> salary<span class="token operator">&gt;</span><span class="token number">12000</span><span class="token punctuation">;</span>
<span class="token comment">## \u6848\u4F8B2 \u67E5\u8BE2\u90E8\u95E8\u7F16\u53F7\u4E0D\u7B49\u4E8E90\u53F7\u7684\u5458\u5DE5\u540D\u548C\u90E8\u95E8\u7F16\u53F7</span>
<span class="token keyword">select</span> last_name<span class="token punctuation">,</span> department_id <span class="token keyword">from</span> employees <span class="token keyword">where</span> department_id<span class="token operator">&lt;&gt;</span><span class="token number">90</span><span class="token punctuation">;</span>

<span class="token comment">## 2. \u6309\u903B\u8F91\u8868\u8FBE\u5F0F\u7B5B\u9009</span>
<span class="token comment">## \u6848\u4F8B1 \u67E5\u8BE2\u5DE5\u8D44\u572810000\u523020000\u4E4B\u95F4\u7684\u5458\u5DE5\u540D\u3001\u5DE5\u8D44\u4EE5\u53CA\u5956\u91D1</span>
<span class="token keyword">select</span> last_name<span class="token punctuation">,</span>salary<span class="token punctuation">,</span>commission_pct <span class="token keyword">from</span> employees <span class="token keyword">where</span> salary<span class="token operator">&gt;=</span><span class="token number">10000</span> <span class="token operator">and</span> salary<span class="token operator">&lt;=</span><span class="token number">20000</span><span class="token punctuation">;</span>

<span class="token comment">## \u6848\u4F8B2 \u67E5\u8BE2\u90E8\u95E8\u7F16\u53F7\u4E0D\u572890\u548C110\u4E4B\u95F4\uFF0C\u6216\u8005 \u5DE5\u8D44\u9AD8\u4E8E15000\u7684\u5458\u5DE5\u4FE1\u606F</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employees <span class="token keyword">where</span> department_id<span class="token operator">&lt;</span><span class="token number">90</span> <span class="token operator">or</span> department_id<span class="token operator">&gt;</span><span class="token number">110</span> <span class="token operator">or</span> salary<span class="token operator">&gt;</span><span class="token number">15000</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employees <span class="token keyword">where</span> <span class="token operator">not</span><span class="token punctuation">(</span>department_id<span class="token operator">&gt;=</span><span class="token number">90</span> <span class="token operator">and</span> department_id<span class="token operator">&lt;=</span><span class="token number">110</span><span class="token punctuation">)</span> <span class="token operator">or</span> salary<span class="token operator">&gt;</span><span class="token number">15000</span><span class="token punctuation">;</span>

<span class="token comment">## 3. \u6A21\u7CCA\u67E5\u8BE2</span>
<span class="token comment">## like \u4E00\u822C\u548C\u901A\u914D\u7B26\u642D\u914D\u4F7F\u7528</span>
<span class="token comment">## % \u4EFB\u610F\u591A\u4E2A\u5B57\u7B26\uFF0C\u5305\u542B0\u4E2A\u5B57\u7B26\u4E32</span>
<span class="token comment">## _ \u4EFB\u610F\u5355\u4E2A\u5B57\u7B26</span>
<span class="token comment">## \u6848\u4F8B1 \u67E5\u8BE2\u5458\u5DE5\u540D\u4E2D\u5305\u542B\u5B57\u7B26a\u7684\u5458\u5DE5\u4FE1\u606F</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employees <span class="token keyword">where</span> last_name <span class="token operator">like</span> <span class="token string">&#39;%a%&#39;</span><span class="token punctuation">;</span>
<span class="token comment">## \u6848\u4F8B2 \u67E5\u8BE2\u5458\u5DE5\u540D\u4E2D\u7B2C\u4E09\u4E2A\u5B57\u7B26\u4E3An\uFF0C\u7B2C\u4E94\u4E2A\u5B57\u7B26\u4E3Al\u7684\u5458\u5DE5\u540D\u548C\u5DE5\u8D44</span>
<span class="token keyword">select</span> last_name<span class="token punctuation">,</span> salary <span class="token keyword">from</span> employees <span class="token keyword">where</span> last_name <span class="token operator">like</span> <span class="token string">&quot;__n_l%&quot;</span><span class="token punctuation">;</span>
<span class="token comment">## \u6848\u4F8B3 \u67E5\u8BE2\u5458\u5DE5\u540D\u4E2D\u7B2C\u4E8C\u4E2A\u5B57\u7B26\u4E3A_\u7684\u5458\u5DE5\u540D</span>
<span class="token keyword">select</span> last_name <span class="token keyword">from</span> employees <span class="token keyword">where</span> last_name <span class="token operator">like</span> <span class="token string">&quot;_\\_%&quot;</span><span class="token punctuation">;</span> <span class="token comment">## \\\u662F\u8F6C\u4E49</span>
<span class="token keyword">select</span> last_name <span class="token keyword">from</span> employees <span class="token keyword">where</span> last_name <span class="token operator">like</span> <span class="token string">&quot;_$_%&quot;</span> <span class="token keyword">ESCAPE</span> <span class="token string">&#39;$&#39;</span><span class="token punctuation">;</span> <span class="token comment">## \u8868\u793A $\u662F\u8F6C\u4E49\u5B57\u7B26</span>

<span class="token comment">## between and</span>
<span class="token comment">## \u4F7F\u7528between and \u53EF\u4EE5\u63D0\u9AD8\u8BED\u53E5\u7684\u7B80\u6D01\u5EA6</span>
<span class="token comment">## \u5305\u542B\u4E34\u754C\u503C</span>
<span class="token comment">## \u8868\u793A\u4ECE...\u5F00\u59CB\u5230...\uFF0C\u4E0D\u8981\u8C03\u6362\u987A\u5E8F</span>
<span class="token comment">## \u6848\u4F8B1 \u67E5\u8BE2\u5458\u5DE5\u7F16\u53F7\u5728100 \u5230120 \u4E4B\u95F4\u7684\u5458\u5DE5\u4FE1\u606F </span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employees <span class="token keyword">where</span> employee_id<span class="token operator">&gt;=</span><span class="token number">100</span> <span class="token operator">and</span> employee_id<span class="token operator">&lt;=</span><span class="token number">120</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employees <span class="token keyword">where</span> employee_id <span class="token operator">BETWEEN</span> <span class="token number">100</span> <span class="token operator">and</span> <span class="token number">120</span><span class="token punctuation">;</span>

<span class="token comment">## in</span>
<span class="token comment">## \u7528\u4E8E\u53BB\u5224\u65AD\u67D0\u5B57\u6BB5\u7684\u503C\u662F\u5426\u5C5E\u4E8Ein\u5217\u8868\u4E2D\u7684\u67D0\u4E00\u9879</span>
<span class="token comment">## \u4F7F\u7528in\u63D0\u9AD8\u8BED\u53E5\u7B80\u6D01\u5EA6</span>
<span class="token comment">## in\u5217\u8868\u7684\u503C\u7C7B\u578B\u5FC5\u987B\u7EDF\u4E00\uFF0C\u6216\u8005\u662F\u517C\u5BB9</span>
<span class="token comment">## in\u5217\u8868\u4E0D\u652F\u6301\u901A\u914D\u7B26</span>
<span class="token comment">## \u6848\u4F8B \u67E5\u8BE2\u5458\u5DE5\u7684\u5DE5\u79CD\u7F16\u53F7\u662F IT_PROG\u3001AD_VP\u3001AD_PRES \u4E2D\u7684\u4E00\u4E2A\u5458\u5DE5\u540D\u548C\u5DE5\u79CD\u7F16\u53F7</span>
<span class="token keyword">select</span> last_name<span class="token punctuation">,</span> job_id <span class="token keyword">from</span> employees <span class="token keyword">where</span> job_id<span class="token operator">=</span><span class="token string">&quot;IT_PROG&quot;</span> <span class="token operator">or</span> job_id<span class="token operator">=</span><span class="token string">&quot;AD_VP&quot;</span> <span class="token operator">or</span> job_id<span class="token operator">=</span><span class="token string">&quot;AD_PRES&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> last_name<span class="token punctuation">,</span>job_id <span class="token keyword">from</span> employees <span class="token keyword">where</span> job_id <span class="token operator">in</span><span class="token punctuation">(</span><span class="token string">&quot;IT_PROG&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;AD_VP&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;AD_PRES&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">## is null</span>
<span class="token comment">## = \u6216\u8005 &lt;&gt;\u4E0D\u80FD\u5224\u65ADnull</span>
<span class="token comment">## is null \u6216\u8005 is not null \u53EF\u4EE5\u5224\u65ADnull</span>
<span class="token comment">## \u6848\u4F8B1 \u67E5\u8BE2\u6CA1\u6709\u5956\u91D1\u7684\u5458\u5DE5\u540D\u548C\u5956\u91D1\u7387</span>
<span class="token keyword">select</span> last_name<span class="token punctuation">,</span>commission_pct <span class="token keyword">from</span> employees <span class="token keyword">where</span> commission_pct <span class="token operator">is</span> <span class="token boolean">null</span><span class="token punctuation">;</span>
<span class="token comment">## \u6848\u4F8B2 \u67E5\u8BE2\u6709\u5956\u91D1\u7684\u5458\u5DE5\u540D\u548C\u5956\u91D1\u7387</span>
<span class="token keyword">select</span> last_name<span class="token punctuation">,</span>commission_pct <span class="token keyword">from</span> employees <span class="token keyword">where</span> commission_pct <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">;</span>

<span class="token comment">## \u4F7F\u7528\u5B89\u5168\u7B49\u4E8E&lt;=&gt;</span>
<span class="token keyword">select</span> last_name<span class="token punctuation">,</span>commission_pct <span class="token keyword">from</span> employees <span class="token keyword">where</span> commission_pct <span class="token operator">&lt;=&gt;</span> <span class="token boolean">null</span><span class="token punctuation">;</span>
<span class="token comment">## \u6848\u4F8B \u67E5\u8BE2\u5DE5\u8D44\u4E3A120000\u7684\u5458\u5DE5\u4FE1\u606F</span>
<span class="token keyword">select</span> last_name<span class="token punctuation">,</span>salary <span class="token keyword">from</span> employees <span class="token keyword">where</span> salary <span class="token operator">&lt;=&gt;</span> <span class="token number">12000</span><span class="token punctuation">;</span>

<span class="token comment">## is null vs &lt;=&gt;</span>
<span class="token comment">## is null \u4EC5\u4EC5\u53EF\u4EE5\u5224\u65ADnull\u503C\uFF0C\u53EF\u8BFB\u6027\u8F83\u9AD8</span>
<span class="token comment">## &lt;=&gt; \u65E2\u53EF\u4EE5\u5224\u65ADnull\u503C\uFF0C\u53C8\u53EF\u4EE5\u5224\u65AD\u666E\u901A\u7684\u6570\u503C\uFF0C\u53EF\u8BFB\u6027\u8F83\u4F4E</span>

<span class="token comment">## \u6848\u4F8B \u67E5\u8BE2\u5458\u5DE5\u53F7\u4E3A176\u7684\u5458\u5DE5\u7684\u59D3\u540D\u548C\u90E8\u95E8\u53F7\u548C\u5E74\u85AA</span>
<span class="token keyword">select</span> last_name<span class="token punctuation">,</span>department_id<span class="token punctuation">,</span>salary<span class="token operator">*</span><span class="token number">12</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">+</span>ifnull<span class="token punctuation">(</span>commission_pct<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">as</span> \u5E74\u85AA <span class="token keyword">from</span> employees <span class="token keyword">where</span> employee_id<span class="token operator">=</span><span class="token number">176</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u7EC3\u4E60-1"><a class="header-anchor" href="#\u7EC3\u4E60-1" aria-hidden="true">#</a> \u7EC3\u4E60</h4><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">## \u67E5\u8BE2\u6CA1\u6709\u5956\u91D1\uFF0C\u4E14\u5DE5\u8D44\u5C0F\u4E8E18000\u7684salary\u548Clast_name</span>
<span class="token keyword">select</span> salary<span class="token punctuation">,</span>last_name <span class="token keyword">from</span> employees <span class="token keyword">where</span> commission_pct <span class="token operator">&lt;=&gt;</span> <span class="token boolean">null</span> <span class="token operator">and</span> salary<span class="token operator">&lt;</span><span class="token number">18000</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> salary<span class="token punctuation">,</span>last_name <span class="token keyword">from</span> employees <span class="token keyword">where</span> commission_pct <span class="token operator">is</span> <span class="token boolean">null</span> <span class="token operator">and</span> salary<span class="token operator">&lt;</span><span class="token number">18000</span><span class="token punctuation">;</span>

<span class="token comment">## \u67E5\u8BE2employees\u8868\u4E2D\uFF0Cjob_id\u4E0D\u4E3A IT \u6216\u8005 \u5DE5\u8D44\u4E3A12000\u7684\u5458\u5DE5\u4FE1\u606F</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employees <span class="token keyword">where</span> job_id <span class="token operator">&lt;&gt;</span> <span class="token string">&quot;IT&quot;</span> <span class="token operator">or</span> salary <span class="token operator">=</span><span class="token number">12000</span><span class="token punctuation">;</span>

<span class="token comment">## \u67E5\u770B\u90E8\u95E8departments\u8868\u7684\u7ED3\u6784</span>
<span class="token keyword">desc</span> departments<span class="token punctuation">;</span>

<span class="token comment">## \u67E5\u8BE2\u90E8\u95E8departments\u8868\u4E2D\u6D89\u53CA\u5230\u4E86\u90A3\u4E9B\u4F4D\u7F6E\u7F16\u53F7</span>
<span class="token keyword">select</span> <span class="token keyword">distinct</span> location_id <span class="token keyword">from</span> departments<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7ECF\u5178\u9762\u8BD5\u9898\uFF1A \u8BF7\u95EE\uFF1A<code>select * from employees;</code>\u548C<code>select * from employees where commission_pct like &#39;%%&#39; and last_name like &#39;%%&#39;;</code>\u7ED3\u679C\u662F\u5426\u4E00\u6837\uFF1F</p><p>\u4E0D\u4E00\u6837\uFF0C\u5982\u679C\u5224\u65AD\u7684\u5B57\u6BB5\u6709null\u503C\u5C31\u4E0D\u4E00\u6837\u4E86\u3002</p><p>\u5982\u679C\u662F\u4F7F\u7528 or \u8FDE\u63A5\u6240\u6709\u7684\u5B57\u6BB5\u7684\u8BDD\uFF0C\u5C31\u4E00\u6837\u4E86\uFF0C\u56E0\u4E3A\u63D2\u5165\u8FDB\u8868\u7684\u884C\uFF0C\u603B\u6709\u4E00\u4E2A\u5B57\u6BB5\u662F\u4E0D\u4E3Anull\u7684\u3002</p><h3 id="\u6392\u5E8F\u67E5\u8BE2"><a class="header-anchor" href="#\u6392\u5E8F\u67E5\u8BE2" aria-hidden="true">#</a> \u6392\u5E8F\u67E5\u8BE2</h3><h4 id="\u4F7F\u7528-2"><a class="header-anchor" href="#\u4F7F\u7528-2" aria-hidden="true">#</a> \u4F7F\u7528</h4><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">/*
\u8BED\u6CD5\uFF1A
select \u67E5\u8BE2\u5217\u8868 from \u8868 [where \u7B5B\u5E8F\u6761\u4EF6] order by \u6392\u5E8F\u5217\u8868 [asc|desc]

\u7279\u70B9\uFF1A
asc \u4EE3\u8868\u662F\u5347\u5E8F\uFF0Cdesc\u4EE3\u8868\u662F\u964D\u5E8F\uFF0C\u5982\u679C\u4E0D\u5199\uFF0C\u9ED8\u8BA4\u662F\u5347\u5E8F
order by \u5B50\u53E5\u4E2D\u53EF\u4EE5\u652F\u6301\u5355\u4E2A\u5B57\u6BB5\u3001\u591A\u4E2A\u5B57\u6BB5\u3001\u8868\u8FBE\u5F0F\u3001\u51FD\u6570\u3001\u522B\u540D
order by \u5B50\u53E5\u4E00\u822C\u662F\u653E\u5728\u67E5\u8BE2\u8BED\u53E5\u7684\u6700\u540E\uFF0C\u4F46limit\u5B50\u53E5\u9664\u5916
*/</span>

<span class="token comment">## \u6848\u4F8B1 \u67E5\u8BE2\u5458\u5DE5\u4FE1\u606F\uFF0C\u8981\u6C42\u5DE5\u8D44\u4ECE\u9AD8\u5230\u4F4E\u6392\u5E8F</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employees <span class="token keyword">order</span> <span class="token keyword">by</span> salary <span class="token keyword">desc</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employees <span class="token keyword">order</span> <span class="token keyword">by</span> salary <span class="token keyword">asc</span><span class="token punctuation">;</span>

<span class="token comment">## \u6848\u4F8B2 \u67E5\u8BE2\u90E8\u95E8\u7F16\u53F7&gt;=90\u7684\u5458\u5DE5\u4FE1\u606F\uFF0C\u6309\u5165\u804C\u65F6\u95F4\u5148\u540E\u6392\u5E8F</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employees <span class="token keyword">where</span> department_id <span class="token operator">&gt;=</span><span class="token number">90</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> hiredate<span class="token punctuation">;</span>

<span class="token comment">## \u6848\u4F8B3 \u6309\u8868\u8FBE\u5F0F\u6392\u5E8F\uFF0C\u6309\u5E74\u85AA\u7684\u9AD8\u4F4E\u663E\u793A\u5458\u5DE5\u7684\u4FE1\u606F\u548C\u5E74\u85AA</span>
<span class="token keyword">select</span> <span class="token operator">*</span><span class="token punctuation">,</span>salary<span class="token operator">*</span><span class="token number">12</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">+</span>ifnull<span class="token punctuation">(</span>commission_pct<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">as</span> \u5E74\u85AA <span class="token keyword">from</span> employees <span class="token keyword">order</span> <span class="token keyword">by</span> salary<span class="token operator">*</span><span class="token number">12</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">+</span>ifnull<span class="token punctuation">(</span>commission_pct<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">desc</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span><span class="token punctuation">,</span>salary<span class="token operator">*</span><span class="token number">12</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">+</span>ifnull<span class="token punctuation">(</span>commission_pct<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">as</span> \u5E74\u85AA <span class="token keyword">from</span> employees <span class="token keyword">order</span> <span class="token keyword">by</span> \u5E74\u85AA <span class="token keyword">desc</span><span class="token punctuation">;</span>

<span class="token comment">## \u6848\u4F8B5 \u6309\u59D3\u540D\u7684\u957F\u5EA6\u663E\u793A\u5458\u5DE5\u7684\u59D3\u540D\u548C\u5DE5\u8D44[\u6309\u51FD\u6570\u6392\u5E8F]</span>
<span class="token keyword">select</span> LENGTH<span class="token punctuation">(</span>last_name<span class="token punctuation">)</span> \u5B57\u8282\u957F\u5EA6<span class="token punctuation">,</span> last_name<span class="token punctuation">,</span>salary <span class="token keyword">from</span> employees <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> LENGTH<span class="token punctuation">(</span>last_name<span class="token punctuation">)</span> <span class="token keyword">desc</span><span class="token punctuation">;</span>

<span class="token comment">## \u6848\u4F8B6 \u67E5\u8BE2\u5458\u5DE5\u4FE1\u606F\uFF0C\u8981\u6C42\u5148\u6309\u5DE5\u8D44\u6392\u5E8F[\u5347\u5E8F]\uFF0C\u518D\u6309\u5458\u5DE5\u7F16\u53F7\u6392\u5E8F[\u964D\u5E8F]\u3010\u6309\u591A\u4E2A\u5B57\u6BB5\u6392\u5E8F\u3011</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employees <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> salary <span class="token keyword">asc</span><span class="token punctuation">,</span> employee_id <span class="token keyword">desc</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u7EC3\u4E60-2"><a class="header-anchor" href="#\u7EC3\u4E60-2" aria-hidden="true">#</a> \u7EC3\u4E60</h4><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">## \u67E5\u8BE2\u5458\u5DE5\u7684\u59D3\u540D\u548C\u90E8\u95E8\u53F7\u548C\u5E74\u85AA\uFF0C\u6309\u5E74\u85AA\u964D\u5E8F\uFF0C\u6309\u59D3\u540D\u5347\u5E8F</span>
<span class="token keyword">select</span> last_name<span class="token punctuation">,</span>department_id<span class="token punctuation">,</span><span class="token punctuation">(</span>salary<span class="token operator">*</span><span class="token number">12</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">+</span>IFNULL<span class="token punctuation">(</span>commission_pct<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">as</span> \u5E74\u85AA <span class="token keyword">from</span> employees <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> \u5E74\u85AA <span class="token keyword">desc</span><span class="token punctuation">,</span> last_name <span class="token keyword">asc</span><span class="token punctuation">;</span>

<span class="token comment">## \u9009\u62E9\u5DE5\u8D44\u4E0D\u57288000\u523017000\u7684\u5458\u5DE5\u7684\u59D3\u540D\u548C\u5DE5\u8D44\uFF0C\u6309\u5DE5\u8D44\u964D\u5E8F</span>
<span class="token keyword">select</span> last_name<span class="token punctuation">,</span>salary <span class="token keyword">from</span> employees <span class="token keyword">where</span> salary<span class="token operator">&lt;</span><span class="token number">8000</span> <span class="token operator">or</span> salary<span class="token operator">&gt;</span><span class="token number">17000</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> salary <span class="token keyword">desc</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> last_name<span class="token punctuation">,</span>salary <span class="token keyword">from</span> employees <span class="token keyword">where</span> salary <span class="token operator">not</span> <span class="token operator">BETWEEN</span> <span class="token number">8000</span> <span class="token operator">and</span> <span class="token number">17000</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> salary <span class="token keyword">desc</span><span class="token punctuation">;</span>

<span class="token comment">## \u67E5\u8BE2\u90AE\u7BB1\u4E2D\u5305\u542Be\u7684\u5458\u5DE5\u4FE1\u606F\uFF0C\u5E76\u5148\u6309\u90AE\u7BB1\u7684\u5B57\u8282\u6570\u964D\u5E8F\uFF0C\u518D\u6309\u90E8\u95E8\u53F7\u5347\u5E8F</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employees <span class="token keyword">WHERE</span> email <span class="token operator">like</span> <span class="token string">&quot;%e%&quot;</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> LENGTH<span class="token punctuation">(</span>email<span class="token punctuation">)</span> <span class="token keyword">desc</span><span class="token punctuation">,</span> department_id <span class="token keyword">asc</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5E38\u89C1\u51FD\u6570"><a class="header-anchor" href="#\u5E38\u89C1\u51FD\u6570" aria-hidden="true">#</a> \u5E38\u89C1\u51FD\u6570</h3><h4 id="\u4F7F\u7528-3"><a class="header-anchor" href="#\u4F7F\u7528-3" aria-hidden="true">#</a> \u4F7F\u7528</h4><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">/*
\u5E38\u89C1\u51FD\u6570

\u6982\u5FF5\uFF1A\u7C7B\u4F3C\u4E8EJava\u7684\u65B9\u6CD5\uFF0C\u5C06\u4E00\u7EC4\u903B\u8F91\u8BED\u53E5\u5C01\u88C5\u5728\u65B9\u6CD5\u4F53\u4E2D\uFF0C\u5BF9\u5916\u66B4\u9732\u65B9\u6CD5\u540D
\u597D\u5904\uFF1A1\u3001\u56E0\u6B64\u4E86\u5B9E\u73B0\u7EC6\u8282 2\u3001\u63D0\u9AD8\u4E86\u4EE3\u7801\u7684\u91CD\u7528\u6027

\u8C03\u7528\uFF1Aselect \u51FD\u6570\u540D(\u5B9E\u53C2\u5217\u8868) [from \u8868];
\u7279\u70B9\uFF1A
1\u3001\u53EB\u4EC0\u4E48\uFF08\u51FD\u6570\u540D\uFF09
2\u3001\u5E72\u4EC0\u4E48\uFF08\u51FD\u6570\u529F\u80FD\uFF09
\u5206\u7C7B\uFF1A
1\u3001\u5355\u884C\u51FD\u6570\uFF0C\u6BD4\u5982 concat\u3001length\u3001ifnull\u7B49
	\u5B57\u7B26\u51FD\u6570
	\u6570\u5B66\u51FD\u6570
	\u65E5\u671F\u51FD\u6570
	\u5176\u4ED6\u51FD\u6570
	\u6D41\u7A0B\u63A7\u5236\u51FD\u6570
2\u3001\u5206\u7EC4\u51FD\u6570\uFF0C\u529F\u80FD\u505A\u7EDF\u8BA1\u4F7F\u7528\uFF0C\u53C8\u79F0\u4E3A\u7EDF\u8BA1\u51FD\u6570\u3001\u805A\u5408\u51FD\u6570\u3001\u7EC4\u51FD\u6570
*/</span>

<span class="token comment">## \u5B57\u7B26\u51FD\u6570</span>
<span class="token comment">## LENGTH(str)</span>
<span class="token keyword">select</span> LENGTH<span class="token punctuation">(</span><span class="token string">&#39;john&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> LENGTH<span class="token punctuation">(</span><span class="token string">&#39;\u5F20\u4E09\u4E30hhh&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">SHOW</span> VARIABLES <span class="token operator">LIKE</span> <span class="token string">&#39;%char%&#39;</span><span class="token punctuation">;</span><span class="token comment">## \u67E5\u770B\u5F53\u524D\u6570\u636E\u5E93\u4F7F\u7528\u7684\u5B57\u7B26\u96C6</span>

<span class="token comment">## CONCAT(str1,str2,...) \u62FC\u63A5\u5B57\u7B26\u4E32</span>
<span class="token keyword">select</span> CONCAT<span class="token punctuation">(</span>last_name<span class="token punctuation">,</span><span class="token string">&#39;_&#39;</span><span class="token punctuation">,</span>first_name<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>

<span class="token comment">## UPPER(str)\u3001LOWER(str)</span>
<span class="token keyword">SELECT</span> UPPER<span class="token punctuation">(</span><span class="token string">&#39;john&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> LOWER<span class="token punctuation">(</span><span class="token string">&#39;JOHN&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">## \u6848\u4F8B \u5C06\u59D3\u53D8\u6210\u5927\u5199\uFF0C\u540D\u53D8\u6210\u5C0F\u5199\uFF0C\u7136\u540E\u62FC\u63A5</span>
<span class="token keyword">SELECT</span> CONCAT<span class="token punctuation">(</span>UPPER<span class="token punctuation">(</span>last_name<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&#39;_&#39;</span><span class="token punctuation">,</span>LOWER<span class="token punctuation">(</span>first_name<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>

<span class="token comment">## SUBSTR(str FROM pos FOR len)</span>
<span class="token comment">## \u6CE8\u610F\uFF1A\u7D22\u5F15\u4ECE1\u5F00\u59CB</span>
<span class="token comment">## \u622A\u53D6\u4ECE\u6307\u5B9A\u7D22\u5F15\u5904\u540E\u9762\u7684\u6240\u6709\u5B57\u7B26</span>
<span class="token keyword">SELECT</span> SUBSTR<span class="token punctuation">(</span><span class="token string">&#39;\u674E\u83AB\u6101\u7231\u4E0A\u4E86\u9646\u5C55\u5143&#39;</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">)</span> out_put<span class="token punctuation">;</span> <span class="token comment">## \u9646\u5C55\u5143</span>
<span class="token comment">## \u622A\u53D6\u4ECE\u6307\u5B9A\u7D22\u5F15\u4F4D\u7F6E\u5904\u6307\u5B9A\u957F\u5EA6\u7684\u5B57\u7B26</span>
<span class="token keyword">select</span> SUBSTR<span class="token punctuation">(</span><span class="token string">&#39;\u674E\u83AB\u6101\u7231\u4E0A\u4E86\u9646\u5C55\u5143&#39;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> out_put<span class="token punctuation">;</span> <span class="token comment">## \u674E\u83AB\u6101</span>

<span class="token comment">## \u6848\u4F8B \u59D3\u540D\u6C47\u603B\u9996\u5B57\u7B26\u5927\u5199\uFF0C\u5176\u4ED6\u5B57\u7B26\u5C0F\u5199\uFF0C\u7136\u540E\u7528\u4E0B\u5212\u7EBF\u62FC\u63A5</span>
<span class="token keyword">SELECT</span> CONCAT<span class="token punctuation">(</span>UPPER<span class="token punctuation">(</span>SUBSTR<span class="token punctuation">(</span>last_name<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&quot;_&quot;</span><span class="token punctuation">,</span>LOWER<span class="token punctuation">(</span>SUBSTR<span class="token punctuation">(</span>last_name<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">from</span> employees<span class="token punctuation">;</span>

<span class="token comment">## INSTR(str,substr) \u8FD4\u56DE\u5B50\u4E32\u5728\u5927\u7684\u5B57\u7B26\u4E32\u4E2D\u7684\u7B2C\u4E00\u6B21\u51FA\u73B0\u7684\u7D22\u5F15\u503C\uFF0C\u5982\u679C\u4E0D\u5B58\u5728\u8FD4\u56DE0</span>
<span class="token keyword">SELECT</span> INSTR<span class="token punctuation">(</span><span class="token string">&#39;\u6768\u4E0D\u6094\u7231\u4E0A\u4E86\u6BB7\u516D\u4FA0&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;\u6BB7\u516D\u4FA0&#39;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> out_put<span class="token punctuation">;</span>

<span class="token comment">## TRIM([remstr FROM] str)</span>
<span class="token keyword">SELECT</span> TRIM<span class="token punctuation">(</span><span class="token string">&#39;    \u5F20\u7FE0\u5C71   &#39;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> out_put<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> TRIM<span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span> <span class="token keyword">FROM</span> <span class="token string">&#39;aaaaaaaa\u5F20aaaaaa\u7FE0aaaaaa\u5C71aaaaaaaa&#39;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> out_put<span class="token punctuation">;</span> <span class="token comment">## \u5F20aaaaaa\u7FE0aaaaaa\u5C71</span>

<span class="token comment">## LPAD(str,len,padstr)</span>
<span class="token comment">## \u7528\u6307\u5B9A\u7684\u5B57\u7B26\u5DE6\u586B\u5145\u6307\u5B9A\u7684\u957F\u5EA6\uFF0C10\u8868\u793A\u603B\u957F\u5EA6 \u5982\u679C\u5B57\u7B26\u4E32\u957F\u5EA6\u8D85\u8FC7\u6307\u5B9A\u7684\u603B\u957F\u5EA6\uFF0C\u5C31\u4F1A\u622A\u53D6</span>
<span class="token keyword">SELECT</span> LPAD<span class="token punctuation">(</span><span class="token string">&#39;\u6BB7\u7D20\u7D20&#39;</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token string">&#39;*&#39;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> out_put<span class="token punctuation">;</span>

<span class="token comment">## RPAD(str,len,padstr)</span>
<span class="token comment">## \u7528\u6307\u5B9A\u7684\u5B57\u7B26\u5DE6\u586B\u5145\u6307\u5B9A\u7684\u957F\u5EA6\uFF0C10\u8868\u793A\u603B\u957F\u5EA6 \u5982\u679C\u5B57\u7B26\u4E32\u957F\u5EA6\u8D85\u8FC7\u6307\u5B9A\u7684\u603B\u957F\u5EA6\uFF0C\u5C31\u4F1A\u622A\u53D6</span>
<span class="token keyword">SELECT</span> RPAD<span class="token punctuation">(</span><span class="token string">&#39;\u6BB7\u7D20\u7D20&#39;</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token string">&#39;*&#39;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> out_put<span class="token punctuation">;</span>

<span class="token comment">## REPLACE(str,from_str,to_str)</span>
<span class="token keyword">SELECT</span> <span class="token keyword">REPLACE</span><span class="token punctuation">(</span><span class="token string">&#39;\u5F20\u65E0\u5FCC\u7231\u4E0A\u4E86\u5468\u82B7\u82E5\u5468\u82B7\u82E5\u5468\u82B7\u82E5\u5468\u82B7\u82E5&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;\u5468\u82B7\u82E5&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;\u8D75\u654F&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">## \u6570\u5B66\u51FD\u6570</span>

<span class="token comment">## ROUND(X) \u56DB\u820D\u4E94\u5165</span>
<span class="token keyword">SELECT</span> <span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token number">1.65</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">## 2</span>
<span class="token keyword">SELECT</span> <span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token number">1.45</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">## 1</span>
<span class="token keyword">SELECT</span> <span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1.65</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">## -2</span>
<span class="token keyword">SELECT</span> <span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1.45</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">## -1</span>
<span class="token keyword">SELECT</span> <span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token number">1.567</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token comment">## \u5C0F\u6570\u70B9\u540E\u4FDD\u75592\u4F4D 1.57</span>

<span class="token comment">## ceil \u5411\u4E0A\u53D6\u6574 \u8FD4\u56DE\u5927\u4E8E\u7B49\u4E8E\u8BE5\u53C2\u6570\u7684\u6700\u5C0F\u6574\u6570</span>
<span class="token keyword">SELECT</span> CEIL<span class="token punctuation">(</span><span class="token number">1.0003</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">## 2</span>
<span class="token keyword">SELECT</span> CEIL<span class="token punctuation">(</span><span class="token number">1.000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">## 1</span>
<span class="token keyword">SELECT</span> CEIL<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1.0003</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">## -1</span>

<span class="token comment">## FLOOR(X) \u5411\u4E0B\u53D6\u6574\uFF0C\u8FD4\u56DE\u5C0F\u4E8E\u7B49\u4E8E\u8BE5\u53C2\u6570\u7684\u6700\u5927\u6574\u6570</span>
<span class="token keyword">SELECT</span> FLOOR<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">9.99</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">## -10</span>

<span class="token comment">## TRUNCATE(X,D) \u622A\u65AD \u5C0F\u6570\u70B9\u540E\u4FDD\u7559\u51E0\u4F4D</span>
<span class="token keyword">SELECT</span> <span class="token keyword">TRUNCATE</span><span class="token punctuation">(</span><span class="token number">1.65444444</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">## MOD(N,M) \u53D6\u4F59</span>
<span class="token comment">## MOD(N,M) N-N/M*M</span>
<span class="token keyword">SELECT</span> <span class="token function">MOD</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">## 1</span>
<span class="token keyword">SELECT</span> <span class="token number">10</span><span class="token operator">%</span><span class="token number">3</span><span class="token punctuation">;</span><span class="token comment">## 1</span>
<span class="token keyword">SELECT</span> <span class="token function">MOD</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">## -1</span>
<span class="token keyword">SELECT</span> <span class="token function">MOD</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">## 1</span>
<span class="token keyword">SELECT</span> <span class="token function">MOD</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">## -1</span>


<span class="token comment">## \u65E5\u671F\u51FD\u6570</span>

<span class="token comment">## NOW() \u8FD4\u56DE\u5F53\u524D\u7CFB\u7EDF\u65E5\u671F+\u65F6\u95F4</span>
<span class="token keyword">SELECT</span> <span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">## CURDATE() \u8FD4\u56DE\u5F53\u524D\u7CFB\u7EDF\u65E5\u671F\uFF0C\u4E0D\u5305\u542B\u65F6\u95F4</span>
<span class="token keyword">SELECT</span> CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">## \u8FD4\u56DE\u5F53\u524D\u7684\u65F6\u95F4\uFF0C\u4E0D\u5305\u542B\u65E5\u671F</span>
<span class="token keyword">SELECT</span> CURTIME<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">## \u53EF\u4EE5\u83B7\u53D6\u6307\u5B9A\u7684\u90E8\u5206 \u5E74\u3001\u6708\u3001\u65E5\u3001\u5C0F\u65F6\u3001\u5206\u949F\u3001\u79D2</span>
<span class="token keyword">SELECT</span> <span class="token keyword">YEAR</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token keyword">YEAR</span><span class="token punctuation">(</span><span class="token string">&#39;1998-1-1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token keyword">YEAR</span><span class="token punctuation">(</span>hiredate<span class="token punctuation">)</span> <span class="token keyword">from</span> employees<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token keyword">MONTH</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">## 11</span>
<span class="token keyword">SELECT</span> MONTHNAME<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">## November</span>

<span class="token comment">## STR_TO_DATE(str,format) \u5C06\u65E5\u671F\u683C\u5F0F\u7684\u5B57\u7B26\u8F6C\u6362\u6210\u6307\u5B9A\u683C\u5F0F\u7684\u65E5\u671F</span>
<span class="token keyword">SELECT</span> STR_TO_DATE<span class="token punctuation">(</span><span class="token string">&#39;1998-3-2&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;%Y-%c-%d&#39;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> out_put<span class="token punctuation">;</span>
<span class="token comment">## \u67E5\u8BE2\u5165\u804C\u65E5\u671F\u4E3A1992-4-3\u7684\u5458\u5DE5\u4FE1\u606F</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> employees <span class="token keyword">where</span> hiredate <span class="token operator">=</span> STR_TO_DATE<span class="token punctuation">(</span><span class="token string">&#39;4-3 1992&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;%c-%d %Y&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">## DATE_FORMAT(date,format) \u5C06\u65E5\u671F\u8F6C\u6362\u6210\u5B57\u7B26</span>
<span class="token keyword">SELECT</span> DATE_FORMAT<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&#39;%Y\u5E74%m\u6708%d\u65E5&#39;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> out_put<span class="token punctuation">;</span>

<span class="token comment">## \u67E5\u8BE2\u6709\u5956\u91D1\u7684\u5458\u5DE5\u540D\u548C\u5165\u804C\u65E5\u671F\uFF08xx\u6708/xx\u65E5 xx\u5E74\uFF09</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>DATE_FORMAT<span class="token punctuation">(</span>hiredate<span class="token punctuation">,</span><span class="token string">&#39;%m\u6708 %d\u65E5 %y\u5E74&#39;</span><span class="token punctuation">)</span> \u5165\u804C\u65E5\u671F <span class="token keyword">from</span> employees <span class="token keyword">where</span> commission_pct <span class="token operator">&lt;=&gt;</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>

<span class="token comment">## \u5176\u4ED6\u51FD\u6570</span>
<span class="token keyword">SELECT</span> VERSION<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token keyword">DATABASE</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token keyword">USER</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">## \u6D41\u7A0B\u63A7\u5236\u51FD\u6570</span>
<span class="token comment">## if \u51FD\u6570\uFF0Cif else \u7684\u6548\u679C</span>
<span class="token keyword">SELECT</span> <span class="token keyword">IF</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token operator">&gt;</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token string">&#39;\u5927&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;\u5C0F&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>commission_pct<span class="token punctuation">,</span> <span class="token keyword">IF</span><span class="token punctuation">(</span>commission_pct <span class="token operator">is</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token string">&#39;\u6CA1\u5956\u91D1&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;\u6709\u5956\u91D1&#39;</span><span class="token punctuation">)</span> <span class="token keyword">from</span> employees<span class="token punctuation">;</span>

<span class="token comment">## case \u51FD\u6570\u7684\u4F7F\u7528\u4E00\uFF1Aswitch case\u7684\u6548\u679C</span>
<span class="token comment">/*
case \u8981\u5224\u65AD\u7684\u5B57\u6BB5\u6216\u8868\u8FBE\u5F0F
when \u5E38\u91CF\u503C1 then \u8981\u663E\u793A\u7684\u503C1\u6216\u8BED\u53E51;
when \u5E38\u91CF\u503C2 then \u8981\u663E\u793A\u7684\u503C1\u6216\u8BED\u53E52;
...
else \u8981\u663E\u793A\u7684\u503C\u6216\u8BED\u53E5n;
end
*/</span>

<span class="token comment">/*
\u6848\u4F8B \u67E5\u8BE2\u5458\u5DE5\u7684\u5DE5\u8D44\uFF0C\u8981\u6C42
\u90E8\u95E8\u53F7=30 \u663E\u793A\u7684\u5DE5\u8D44\u4E3A1.1\u500D
\u90E8\u95E8\u53F7=40 \u663E\u793A\u7684\u5DE5\u8D44\u4E3A1.2\u500D
\u90E8\u95E8\u53F7=50 \u663E\u793A\u7684\u5DE5\u8D44\u4E3A1.3\u500D
\u5176\u4ED6\u90E8\u95E8 \u663E\u793A\u7684\u5DE5\u8D44\u4E3A\u539F\u5DE5\u8D44
*/</span>
<span class="token keyword">SELECT</span> salary \u539F\u59CB\u5DE5\u8D44<span class="token punctuation">,</span>department_id<span class="token punctuation">,</span>
<span class="token keyword">CASE</span> department_id
<span class="token keyword">WHEN</span> <span class="token number">30</span> <span class="token keyword">THEN</span> salary<span class="token operator">*</span><span class="token number">1.1</span>
<span class="token keyword">WHEN</span> <span class="token number">40</span> <span class="token keyword">THEN</span> salary<span class="token operator">*</span><span class="token number">1.2</span>
<span class="token keyword">WHEN</span> <span class="token number">50</span> <span class="token keyword">THEN</span> salary<span class="token operator">*</span><span class="token number">1.3</span>
<span class="token keyword">ELSE</span> salary
<span class="token keyword">END</span> <span class="token keyword">as</span> \u65B0\u5DE5\u8D44
<span class="token keyword">from</span> employees<span class="token punctuation">;</span>

<span class="token comment">## case \u51FD\u6570\u7684\u4F7F\u7528\u4E8C \u7C7B\u4F3C\u4E8E\u591A\u91CDif</span>
<span class="token comment">/*
CASE
WHEN \u6761\u4EF61 then \u8981\u663E\u793A\u7684\u503C1\u6216\u8005\u8BED\u53E51
WHEN \u6761\u4EF62 then \u8981\u663E\u793A\u7684\u503C1\u6216\u8005\u8BED\u53E52
WHEN \u6761\u4EF63 then \u8981\u663E\u793A\u7684\u503C1\u6216\u8005\u8BED\u53E53
ELSE \u8981\u663E\u793A\u7684\u503Cn\u6216\u8BED\u53E5n
END
*/</span>
<span class="token comment">/*
\u6848\u4F8B \u67E5\u8BE2\u5458\u5DE5\u7684\u5DE5\u8D44\u7684\u60C5\u51B5
\u5982\u679C\u5DE5\u8D44&gt;20000 \u663E\u793AA\u7EA7\u522B
\u5982\u679C\u5DE5\u8D44&gt;15000 \u663E\u793AB\u7EA7\u522B
\u5982\u679C\u5DE5\u8D44&gt;10000 \u663E\u793AC\u7EA7\u522B
\u5426\u5219\uFF0C\u663E\u793AD\u7EA7\u522B
*/</span>
<span class="token keyword">SELECT</span> salary<span class="token punctuation">,</span>
<span class="token keyword">CASE</span> 
	<span class="token keyword">WHEN</span> salary<span class="token operator">&gt;</span><span class="token number">20000</span> <span class="token keyword">THEN</span> <span class="token string">&#39;A&#39;</span>
	<span class="token keyword">WHEN</span> salary<span class="token operator">&gt;</span><span class="token number">15000</span> <span class="token keyword">THEN</span> <span class="token string">&#39;B&#39;</span>
	<span class="token keyword">WHEN</span> salary<span class="token operator">&gt;</span><span class="token number">10000</span> <span class="token keyword">THEN</span> <span class="token string">&#39;C&#39;</span>
	<span class="token keyword">ELSE</span> <span class="token string">&#39;D&#39;</span>
		
<span class="token keyword">END</span> <span class="token keyword">as</span> \u5DE5\u8D44\u7EA7\u522B
<span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+t+'" alt=""></p><p><img src="'+o+`" alt=""></p><h4 id="\u7EC3\u4E60-3"><a class="header-anchor" href="#\u7EC3\u4E60-3" aria-hidden="true">#</a> \u7EC3\u4E60</h4><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">## \u663E\u793A\u7CFB\u7EDF\u65F6\u95F4</span>
<span class="token keyword">SELECT</span> <span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">## \u67E5\u8BE2\u5458\u5DE5\u53F7\uFF0C\u59D3\u540D\uFF0C\u5DE5\u8D44\uFF0C\u4EE5\u53CA\u5DE5\u8D44\u63D0\u9AD8\u767E\u5206\u4E4B20%\u540E\u7684\u7ED3\u679C</span>
<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>salary<span class="token punctuation">,</span>salary<span class="token operator">*</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">+</span><span class="token number">0.2</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">&#39;new salary&#39;</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>

<span class="token comment">## \u5C06\u5458\u5DE5\u7684\u59D3\u540D\u6309\u9996\u5B57\u6BCD\u6392\u5E8F\uFF0C\u5E76\u5199\u51FA\u59D3\u540D\u7684\u957F\u5EA6</span>
<span class="token keyword">SELECT</span> LENGTH<span class="token punctuation">(</span>last_name<span class="token punctuation">)</span><span class="token punctuation">,</span>last_name <span class="token keyword">from</span> employees <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> SUBSTR<span class="token punctuation">(</span>last_name<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">## \u505A\u4E00\u4E2A\u67E5\u8BE2\u4EA7\u751F\u4E0B\u9762\u7684\u7ED3\u679C</span>
<span class="token keyword">SELECT</span> CONCAT<span class="token punctuation">(</span>last_name<span class="token punctuation">,</span><span class="token string">&#39; earns &#39;</span><span class="token punctuation">,</span><span class="token keyword">TRUNCATE</span><span class="token punctuation">(</span>salary<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&#39; monthly but wants &#39;</span><span class="token punctuation">,</span><span class="token keyword">TRUNCATE</span><span class="token punctuation">(</span>salary<span class="token operator">*</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>

<span class="token comment">## \u4F7F\u7528case-when\uFF0C\u6309\u7167\u4E0B\u9762\u7684\u6761\u4EF6</span>
<span class="token keyword">SELECT</span> job_id<span class="token punctuation">,</span>
<span class="token keyword">CASE</span> job_id
	<span class="token keyword">WHEN</span> <span class="token string">&#39;AD_PRES&#39;</span> <span class="token keyword">THEN</span> <span class="token string">&#39;A&#39;</span>
	<span class="token keyword">WHEN</span> <span class="token string">&#39;ST_MAN&#39;</span> <span class="token keyword">THEN</span> <span class="token string">&#39;B&#39;</span>
	<span class="token keyword">WHEN</span> <span class="token string">&#39;IT_PROG&#39;</span> <span class="token keyword">THEN</span> <span class="token string">&#39;C&#39;</span>
	<span class="token keyword">ELSE</span> <span class="token string">&#39;D&#39;</span>
<span class="token keyword">END</span> <span class="token keyword">AS</span> grade <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5206\u7EC4\u51FD\u6570"><a class="header-anchor" href="#\u5206\u7EC4\u51FD\u6570" aria-hidden="true">#</a> \u5206\u7EC4\u51FD\u6570</h3><h4 id="\u4F7F\u7528-4"><a class="header-anchor" href="#\u4F7F\u7528-4" aria-hidden="true">#</a> \u4F7F\u7528</h4><p>\u8FD9\u91CC\u7684\u5206\u7EC4\u51FD\u6570\u4E0D\u662F\u4E4B\u540E\u7684group by \u800C\u662F\u4E00\u4E9Bmax min sum count avg</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">/*
\u529F\u80FD\uFF1A\u7528\u4F5C\u7EDF\u8BA1\u4F7F\u7528\uFF0C\u53C8\u79F0\u4E3A\u805A\u5408\u51FD\u6570\u6216\u8005\u7EDF\u8BA1\u51FD\u6570\u6216\u7EC4\u51FD\u6570

\u5206\u7C7B
	sum
	avg
	max
	min
	count
\u7279\u70B9\uFF1A
1\u3001sum\u3001avg\u4E00\u822C\u7528\u4E8E\u5904\u7406\u6570\u503C\u578B
	max min count \u53EF\u4EE5\u5904\u7406\u4EFB\u4F55\u7C7B\u578B
2\u3001\u662F\u5426\u5FFD\u7565null\u503C\uFF1F
	\u90FD\u5FFD\u7565null\uFF0C\u4E5F\u5C31\u662F\u8BA1\u7B97\u7684\u65F6\u5019\u4E0D\u8BA9null\u53C2\u4E0E\u8BA1\u7B97
3\u3001\u53EF\u4EE5\u548Cdistinct\u642D\u914D\u5B9E\u73B0\u53BB\u91CD
4\u3001count\u4E00\u822C\u7528\u4F5C\u7EDF\u8BA1\u884C\u6570
5\u3001\u548C\u5206\u7EC4\u51FD\u6570\u4E00\u540C\u67E5\u8BE2\u7684\u5B57\u6BB5\u8981\u6C42\u662Fgroup by\u540E\u7684\u5B57\u6BB5
*/</span>

<span class="token comment">## 1 \u7B80\u5355\u4F7F\u7528</span>
<span class="token keyword">SELECT</span> <span class="token function">SUM</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">from</span> employees<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">from</span> employees<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token function">MIN</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> <span class="token function">SUM</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">from</span> employees<span class="token punctuation">;</span>

<span class="token comment">## 2 \u53C2\u6570\u652F\u6301\u54EA\u4E9B\u7C7B\u578B</span>
<span class="token comment">## SELECT SUM(last_name) ,AVG(last_name) from employees; \u4E0D\u652F\u6301\uFF0C\u6570\u503C\u578B</span>
<span class="token comment">## SELECT max(last_name),MIN(last_name) from employees; \u652F\u6301</span>
<span class="token comment">## SELECT max(hiredate),MIN(hiredate) FROM employees; \u652F\u6301</span>
<span class="token comment">## SELECT COUNT(last_name) FROM employees \u652F\u6301</span>
<span class="token keyword">SELECT</span> <span class="token function">count</span><span class="token punctuation">(</span>commission_pct<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span> <span class="token comment">## \u5982\u679C\u51FA\u73B0\u4E3Anull\u7684\uFF0C\u53EA\u80FD\u8BA1\u7B97\u4E0D\u4E3ANull\u7684\u503C</span>

<span class="token comment">## 4 \u548Cdistinct\u642D\u914D</span>
<span class="token keyword">SELECT</span> <span class="token function">SUM</span><span class="token punctuation">(</span><span class="token keyword">DISTINCT</span> salary<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">SUM</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>

<span class="token comment">## 5 count\u51FD\u6570\u7684\u8BE6\u7EC6\u4ECB\u7ECD</span>
<span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">from</span> employees<span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> employees<span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span><span class="token comment">## \u5982\u679C\u662F\u7ED9\u5E38\u91CF\u5B57\u7B26\u4E32\u7B49\u4E5F\u662F\u8868\u793A\u7EDF\u8BA1\u603B\u884C\u6570\uFF0C\u4E5F\u5C31\u662F\u8868\u793A\u5728\u6BCF\u4E00\u884C\u4E0A\u52A0\u4E0A\u4E00\u4E2A\u8FD9\u4E2A\u503C</span>
<span class="token comment">## \u6548\u7387\u7684\u95EE\u9898\uFF1A</span>
<span class="token comment">## \u4E4B\u524D\u662F\u8FD9\u4E2AMYISAM\u5B58\u50A8\u5F15\u64CE \u4F7F\u7528count(*)\u6548\u7387\u6700\u9AD8\uFF0C\u56E0\u4E3A\u91CC\u9762\u6709\u4E00\u4E2A\u5185\u7F6E\u7684\u8BA1\u6570\u5668</span>
<span class="token comment">## \u73B0\u5728\u662FINNODB\u8FD9\u4E2A\u5F15\u64CE \u7ECF\u8FC7\u6D4B\u8BD5count(*) \u548C count(1) \u6548\u7387\u5DEE\u4E0D\u591A\uFF0C\u6BD4count(\u5B57\u6BB5)\u8981\u9AD8\u4E00\u4E9B\uFF0C\u56E0\u4E3A\u8981\u591A\u5224\u65AD\u4E00\u6B21\u662F\u5426\u4E3Anull</span>

<span class="token comment">## 6 \u548C\u5206\u7EC4\u51FD\u6570\u4E00\u540C\u67E5\u8BE2\u7684\u5B57\u6BB5\u6709\u9650\u5236</span>
<span class="token comment">## SELECT AVG(salary),employee_id FROM employees;\u4E00\u822C\u4E0D\u8FD9\u4E48\u64CD\u4F5C\uFF0C\u56E0\u4E3A\u8FD4\u56DE\u53EA\u6709\u4E00\u884C</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u7EC3\u4E60-4"><a class="header-anchor" href="#\u7EC3\u4E60-4" aria-hidden="true">#</a> \u7EC3\u4E60</h4><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">## \u67E5\u8BE2\u516C\u53F8\u5458\u5DE5\u5DE5\u8D44\u7684\u6700\u5927\u503C\uFF0C\u6700\u5C0F\u503C\uFF0C\u5E73\u5747\u503C\uFF0C\u603B\u548C</span>
<span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">MIN</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">SUM</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>

<span class="token comment">## \u67E5\u8BE2\u5458\u5DE5\u8868\u4E2D\u7684\u6700\u5927\u5165\u804C\u65F6\u95F4\u548C\u6700\u5C0F\u5165\u804C\u65F6\u95F4\u7684\u76F8\u5DEE\u5929\u6570</span>
<span class="token keyword">SELECT</span> DATEDIFF<span class="token punctuation">(</span><span class="token function">MAX</span><span class="token punctuation">(</span>hiredate<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">MIN</span><span class="token punctuation">(</span>hiredate<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">from</span> employees<span class="token punctuation">;</span>

<span class="token comment">## \u67E5\u8BE2\u90E8\u95E8\u7F16\u53F7\u4E3A90\u7684\u5458\u5DE5\u4E2A\u6570</span>
<span class="token keyword">SELECT</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> employees <span class="token keyword">WHERE</span> department_id <span class="token operator">=</span> <span class="token number">90</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5206\u7EC4\u67E5\u8BE2"><a class="header-anchor" href="#\u5206\u7EC4\u67E5\u8BE2" aria-hidden="true">#</a> \u5206\u7EC4\u67E5\u8BE2</h3><h4 id="\u4F7F\u7528-5"><a class="header-anchor" href="#\u4F7F\u7528-5" aria-hidden="true">#</a> \u4F7F\u7528</h4><p><img src="`+l+`" alt=""></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">/**
\u5206\u7EC4\u67E5\u8BE2 group by

\u8BED\u6CD5\uFF1A
select \u5206\u7EC4\u51FD\u6570,\u5217\uFF08\u8981\u6C42\u51FA\u73B0\u5728group by\u7684\u540E\u9762\uFF09
from \u8868
[where \u7B5B\u9009\u6761\u4EF6]
GROUP BY \u5206\u7EC4\u7684\u5217\u8868
[ORDER BY \u5B50\u53E5]

\u6CE8\u610F\uFF1A
	\u67E5\u8BE2\u5217\u8868\u5FC5\u987B\u7279\u6B8A\uFF0C\u8981\u6C42\u662F\u5206\u7EC4\u51FD\u6570\u548Cgroup by\u540E\u51FA\u73B0\u7684\u5B57\u6BB5
\u7279\u70B9\uFF1A
1\u3001\u5206\u7EC4\u67E5\u8BE2\u4E2D\u7684\u7B5B\u9009\u6761\u4EF6\u5206\u4E3A\u4E24\u7C7B\uFF1A
								\u6570\u636E\u6E90					\u4F4D\u7F6E							\u8FDE\u63A5\u7684\u5173\u952E\u5B57
\u5206\u7EC4\u524D\u7B5B\u9009				\u539F\u59CB\u8868					GROUP BY\u524D\u9762			WHERE
\u5206\u7EC4\u540E\u7B5B\u9009				\u5206\u7EC4\u540E\u7684\u7ED3\u679C\u96C6		GROUP BY\u540E\u9762			HAVING

\u5206\u7EC4\u51FD\u6570\u505A\u6761\u4EF6\u80AF\u5B9A\u662F\u653E\u5728having\u5B50\u53E5\u4E2D
\u80FD\u7528\u5206\u7EC4\u524D\u7B5B\u9009\u7684\uFF0C\u4F18\u5148\u8003\u8651\u4F7F\u7528\u5206\u7EC4\u524D\u7B5B\u9009

2\u3001GROUP BY \u5B50\u53E5\u652F\u6301\u5355\u4E2A\u5B57\u6BB5\u5206\u7EC4\uFF0C\u591A\u4E2A\u5B57\u6BB5\u5206\u7EC4\uFF08\u591A\u4E2A\u5B57\u6BB5\u4E4B\u95F4\u4F7F\u7528,\u5206\u5F00\uFF0C\u6CA1\u6709\u987A\u5E8F\u8981\u6C42\uFF09\uFF0C\u8868\u8FBE\u5F0F\u6216\u8005\u51FD\u6570
3\u3001\u4E5F\u53EF\u4EE5\u6DFB\u52A0\u6392\u5E8F\uFF08\u6392\u5E8F\u653E\u5728\u6574\u4E2A\u5206\u7EC4\u7684\u6700\u540E\uFF09
*/</span>

<span class="token comment">## \u67E5\u8BE2\u6BCF\u4E2A\u90E8\u95E8\u7684\u5E73\u5747\u5DE5\u8D44</span>
<span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id<span class="token punctuation">;</span>

<span class="token comment">## \u6848\u4F8B1 \u67E5\u8BE2\u6BCF\u4E2A\u5DE5\u79CD\u7684\u6700\u9AD8\u5DE5\u8D44</span>
<span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span>job_id <span class="token keyword">FROM</span> employees <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> job_id<span class="token punctuation">;</span>

<span class="token comment">## \u6848\u4F8B2 \u67E5\u8BE2\u6BCF\u4E2A\u4F4D\u7F6E\u4E0A\u7684\u90E8\u95E8\u4E2A\u6570</span>
<span class="token keyword">SELECT</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span>location_id <span class="token keyword">from</span> departments <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> location_id<span class="token punctuation">;</span>

<span class="token comment">## \u6DFB\u52A0\u7B5B\u9009\u6761\u4EF6</span>
<span class="token comment">## \u6848\u4F8B1 \u67E5\u8BE2\u90AE\u7BB1\u4E2D\u5305\u542Ba\u5B57\u7B26\u7684\uFF0C\u6BCF\u4E2A\u90E8\u95E8\u7684\u5E73\u5747\u5DE5\u8D44</span>
<span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span>department_id <span class="token keyword">FROM</span> employees <span class="token keyword">WHERE</span> email <span class="token operator">like</span> <span class="token string">&#39;%a%&#39;</span> <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id<span class="token punctuation">;</span>

<span class="token comment">## \u6848\u4F8B2 \u67E5\u8BE2\u6709\u5956\u91D1\u7684\u6BCF\u4E2A\u9886\u5BFC\u624B\u4E0B\u5458\u5DE5\u7684\u6700\u9AD8\u5DE5\u8D44</span>
<span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span>manager_id <span class="token keyword">from</span> employees <span class="token keyword">WHERE</span> commission_pct <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> manager_id<span class="token punctuation">;</span>

<span class="token comment">## \u6DFB\u52A0\u590D\u6742\u7684\u7B5B\u9009\u6761\u4EF6 \u5206\u7EC4\u540E\u5728\u8FDB\u884C\u6761\u4EF6\u5224\u5B9A</span>
<span class="token comment">## \u6848\u4F8B1 \u67E5\u8BE2\u90A3\u4E2A\u90E8\u95E8\u7684\u5458\u5DE5\u4E2A\u6570&gt;2</span>
<span class="token comment">## 1\u3001\u67E5\u8BE2\u6BCF\u4E2A\u90E8\u95E8\u7684\u5458\u5DE5\u4E2A\u6570</span>
<span class="token comment">## 2\u3001\u6839\u636E\u7B2C\u4E00\u4E2A\u7ED3\u679C\u8FDB\u884C\u7B5B\u9009\uFF0C\u67E5\u8BE2\u90A3\u4E2A\u90E8\u95E8\u7684\u5458\u5DE5\u4E2A\u6570&gt;2</span>
<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span>department_id <span class="token keyword">FROM</span> employees <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id <span class="token keyword">HAVING</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">2</span><span class="token punctuation">;</span>

<span class="token comment">## \u6848\u4F8B2 \u67E5\u8BE2\u6BCF\u4E2A\u5DE5\u79CD\u6709\u5956\u91D1\u7684\u5458\u5DE5\u7684\u6700\u9AD8\u5DE5\u8D44&gt;12000\u7684\u5DE5\u79CD\u7F16\u53F7\u548C\u6700\u9AD8\u5DE5\u8D44</span>
<span class="token comment">## \u67E5\u8BE2\u6BCF\u4E2A\u5DE5\u79CD\u6709\u5956\u91D1\u7684\u5458\u5DE5\u7684\u6700\u9AD8\u5DE5\u8D44</span>
<span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span>job_id <span class="token keyword">FROM</span> employees <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> job_id<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span>job_id <span class="token keyword">FROM</span> employees <span class="token keyword">WHERE</span> commission_pct <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> job_id <span class="token keyword">HAVING</span> <span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token operator">&gt;</span> <span class="token number">12000</span><span class="token punctuation">;</span>

<span class="token comment">## \u6848\u4F8B3 \u67E5\u8BE2\u9886\u5BFC\u7F16\u53F7&gt;102\u7684\u6BCF\u4E2A\u9886\u5BFC\u624B\u4E0B\u7684\u5458\u5DE5\u6700\u4F4E\u5DE5\u8D44&gt;5000\u7684\u9886\u5BFC\u7F16\u53F7\u662F\u54EA\u4E2A\uFF0C\u4EE5\u53CA\u5176\u6700\u4F4E\u5DE5\u8D44</span>
<span class="token comment">## 1 \u67E5\u8BE2\u6BCF\u4E2A\u9886\u5BFC\u624B\u4E0B\u7684\u5458\u5DE5\u6700\u4F4E\u5DE5\u8D44</span>
<span class="token keyword">SELECT</span> <span class="token function">MIN</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span>manager_id <span class="token keyword">from</span> employees <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> manager_id<span class="token punctuation">;</span>
<span class="token comment">## 2 \u6DFB\u52A0\u7B5B\u9009\u6761\u4EF6\uFF1A\u7F16\u53F7&gt;102 ### \u539F\u8868\u5C31\u6709\uFF0C\u6240\u4EE5\u653E\u5728where \u540E\u9762</span>
<span class="token keyword">SELECT</span> <span class="token function">MIN</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span>manager_id <span class="token keyword">from</span> employees <span class="token keyword">WHERE</span> manager_id<span class="token operator">&gt;</span><span class="token number">102</span> <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> manager_id<span class="token punctuation">;</span>
<span class="token comment">## 3 \u6DFB\u52A0\u7B5B\u9009\u6761\u4EF6\uFF1A\u6700\u4F4E\u5DE5\u8D44&gt;5000 ### \u539F\u8868\u6CA1\u6709\uFF0C\u6240\u6709\u4F7F\u7528having</span>
<span class="token keyword">SELECT</span> manager_id<span class="token punctuation">,</span><span class="token function">MIN</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees <span class="token keyword">WHERE</span> manager_id <span class="token operator">&gt;</span> <span class="token number">102</span> <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> manager_id <span class="token keyword">HAVING</span> <span class="token function">MIN</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">5000</span><span class="token punctuation">;</span>

<span class="token comment">## \u6309\u8868\u8FBE\u5F0F\u6216\u8005\u51FD\u6570\u5206\u7EC4</span>

<span class="token comment">## \u6848\u4F8B \u6309\u5458\u5DE5\u59D3\u540D\u7684\u957F\u5EA6\u5206\u7EC4\uFF0C\u67E5\u8BE2\u6BCF\u4E00\u7EC4\u7684\u5458\u5DE5\u4E2A\u6570\uFF0C\u7B5B\u9009\u5458\u5DE5\u4E2A\u6570&gt;5\u7684\u6709\u54EA\u4E9B</span>
<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span>LENGTH<span class="token punctuation">(</span>last_name<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> LENGTH<span class="token punctuation">(</span>last_name<span class="token punctuation">)</span> <span class="token keyword">HAVING</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">5</span><span class="token punctuation">;</span>

<span class="token comment">## \u6309\u591A\u4E2A\u5B57\u6BB5\u8FDB\u884C\u5206\u7EC4</span>
<span class="token comment">## \u6848\u4F8B\uFF1A\u67E5\u8BE2\u6BCF\u4E2A\u90E8\u95E8\u6BCF\u4E2A\u5DE5\u79CD\u7684\u5458\u5DE5\u7684\u5E73\u5747\u5DE5\u8D44</span>
<span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span>department_id<span class="token punctuation">,</span>job_id <span class="token keyword">from</span> employees <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id<span class="token punctuation">,</span>job_id<span class="token punctuation">;</span>

<span class="token comment">## \u6DFB\u52A0\u6392\u5E8F</span>
<span class="token comment">## \u6848\u4F8B\uFF1A\u67E5\u8BE2\u6BCF\u4E2A\u90E8\u95E8\u6BCF\u4E2A\u5DE5\u79CD\u7684\u5458\u5DE5\u7684\u5E73\u5747\u5DE5\u8D44\uFF0C\u5E76\u4E14\u6309\u5E73\u5747\u5DE5\u8D44\u7684\u9AD8\u4F4E\u663E\u793A\u51FA\u6765</span>
<span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span>department_id<span class="token punctuation">,</span>job_id <span class="token keyword">from</span> employees <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id<span class="token punctuation">,</span>job_id <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> <span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">desc</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u7EC3\u4E60-5"><a class="header-anchor" href="#\u7EC3\u4E60-5" aria-hidden="true">#</a> \u7EC3\u4E60</h4><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">## \u67E5\u8BE2\u5404\u4E2Ajob_id\u7684\u5458\u5DE5\u5DE5\u8D44\u7684\u6700\u5927\u503C\u3001\u6700\u5C0F\u503C\u3001\u5E73\u5747\u503C\u3001\u603B\u548C\uFF0C\u5E76\u6309job_id\u5347\u5E8F</span>
<span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">MIN</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">SUM</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span>job_id <span class="token keyword">from</span> employees <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> job_id <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> job_id <span class="token keyword">asc</span><span class="token punctuation">;</span>

<span class="token comment">## \u67E5\u8BE2\u5458\u5DE5\u6700\u9AD8\u5DE5\u8D44\u548C\u6700\u4F4E\u5DE5\u8D44\u7684\u5DEE\u8DDD</span>
<span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token operator">-</span><span class="token function">MIN</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> DIFFERENCE <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>

<span class="token comment">## \u67E5\u8BE2\u5404\u4E2A\u7BA1\u7406\u8005\u624B\u4E0B\u5458\u5DE5\u7684\u6700\u4F4E\u5DE5\u8D44\uFF0C\u5176\u4E2D\u6700\u4F4E\u5DE5\u8D44\u4E0D\u80FD\u4F4E\u4E8E6000\uFF0C\u6CA1\u6709\u7BA1\u7406\u8005\u7684\u5458\u5DE5\u4E0D\u8BA1\u7B97\u5728\u5185</span>
<span class="token keyword">SELECT</span> <span class="token function">MIN</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span>manager_id <span class="token keyword">from</span> employees <span class="token keyword">WHERE</span> manager_id <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> manager_id <span class="token keyword">HAVING</span> <span class="token function">MIN</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token operator">&gt;=</span><span class="token number">6000</span><span class="token punctuation">;</span> 

<span class="token comment">## \u67E5\u8BE2\u6240\u6709\u90E8\u95E8\u7684\u7F16\u53F7\uFF0C\u5458\u5DE5\u6570\u91CF\u548C\u5DE5\u8D44\u5E73\u5747\u503C\uFF0C\u5E76\u6309\u5E73\u5747\u5DE5\u8D44\u964D\u5E8F</span>
<span class="token keyword">SELECT</span> department_id<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> <span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">desc</span><span class="token punctuation">;</span>

<span class="token comment">## \u9009\u62E9\u5177\u6709\u5404\u4E2Ajob_id\u7684\u5458\u5DE5\u4EBA\u6570</span>
<span class="token keyword">SELECT</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span>job_id <span class="token keyword">from</span> employees <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> job_id<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u8FDE\u63A5\u67E5\u8BE2"><a class="header-anchor" href="#\u8FDE\u63A5\u67E5\u8BE2" aria-hidden="true">#</a> \u8FDE\u63A5\u67E5\u8BE2</h3><h4 id="\u4F7F\u7528-6"><a class="header-anchor" href="#\u4F7F\u7528-6" aria-hidden="true">#</a> \u4F7F\u7528</h4><p><img src="`+c+'" alt=""></p><p><img src="'+i+'" alt=""></p><p><img src="'+d+'" alt=""></p><p><img src="'+k+`" alt=""></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">/*
\u8FDB\u96366 \u8FDE\u63A5\u67E5\u8BE2
\u542B\u4E49\uFF1A\u53C8\u79F0\u4E3A\u591A\u8868\u67E5\u8BE2\uFF0C\u5F53\u67E5\u8BE2\u7684\u5B57\u6BB5\u6765\u81EA\u4E8E\u591A\u4E2A\u8868\u65F6\uFF0C\u5C31\u4F1A\u7528\u5230\u8FDE\u63A5\u67E5\u8BE2

\u7B1B\u5361\u5C14\u4E58\u79EF\uFF1A\u88681 \u6709m\u884C\uFF0C\u88682 \u6709n\u884C\uFF0C\u7ED3\u679C=m*n\u884C
\u53D1\u751F\u539F\u56E0\uFF1A\u6CA1\u6709\u6709\u6548\u7684\u8FDE\u63A5\u6761\u4EF6
\u5982\u4F55\u907F\u514D\uFF1A\u6DFB\u52A0\u4E0A\u6709\u6548\u7684\u8FDE\u63A5\u6761\u4EF6

\u5206\u7C7B\uFF1A
	\u6309\u5E74\u4EE3\u5206\u7C7B\uFF1A
		sql92\u6807\u51C6\uFF1A\u4EC5\u4EC5\u652F\u6301\u5185\u8FDE\u63A5
		sql99\u6807\u51C6\u300C\u63A8\u8350\u300D\uFF1A\u300Cmysql\u300D\u652F\u6301\u5185\u8FDE\u63A5+\u5916\u8FDE\u63A5\uFF08\u5DE6\u5916\u548C\u53F3\u5916\uFF09+\u4EA4\u53C9\u8FDE\u63A5
	\u6309\u529F\u80FD\u5206\u7C7B\uFF1A
		\u5185\u8FDE\u63A5
			\u7B49\u503C\u8FDE\u63A5
			\u975E\u7B49\u503C\u8FDE\u63A5
			\u81EA\u8FDE\u63A5
		\u5916\u8FDE\u63A5
			\u5DE6\u5916\u8FDE\u63A5
			\u53F3\u5916\u8FDE\u63A5
			\u5168\u5916\u8FDE\u63A5
		\u4EA4\u53C9\u8FDE\u63A5

*/</span>

<span class="token keyword">SELECT</span> <span class="token identifier"><span class="token punctuation">\`</span>name<span class="token punctuation">\`</span></span><span class="token punctuation">,</span>boyName <span class="token keyword">FROM</span> boys<span class="token punctuation">,</span>beauty<span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> <span class="token identifier"><span class="token punctuation">\`</span>name<span class="token punctuation">\`</span></span><span class="token punctuation">,</span>boyName <span class="token keyword">FROM</span> boys<span class="token punctuation">,</span>beauty <span class="token keyword">WHERE</span> beauty<span class="token punctuation">.</span>boyfriend_id<span class="token operator">=</span>boys<span class="token punctuation">.</span>id<span class="token punctuation">;</span>

<span class="token comment">## \u4E00\u3001sql92\u6807\u51C6</span>
<span class="token comment">## 1\u3001 \u7B49\u503C\u8FDE\u63A5</span>
<span class="token comment">/*
1 \u591A\u8868\u7B49\u503C\u8FDE\u63A5\u7684\u7ED3\u679C\u4E3A\u591A\u8868\u7684\u4EA4\u96C6\u90E8\u5206
2 n\u8868\u8FDE\u63A5\uFF0C\u81F3\u5C11\u9700\u8981n-1\u4E2A\u8FDE\u63A5\u6761\u4EF6
3 \u591A\u8868\u7684\u987A\u5E8F\u6CA1\u6709\u8981\u6C42
4 \u4E00\u822C\u9700\u8981\u4E3A\u8868\u8D77\u522B\u540D
5 \u53EF\u4EE5\u642D\u914D\u524D\u9762\u4ECB\u7ECD\u7684\u6240\u6709\u5B50\u53E5\u4F7F\u7528\uFF0C\u6BD4\u5982\u6392\u5E8F\u3001\u5206\u7EC4\u3001\u7B5B\u9009
*/</span>
<span class="token comment">## \u6848\u4F8B1 \u67E5\u8BE2\u5973\u795E\u540D\u5BF9\u5E94\u7684\u7537\u795E\u540D</span>
<span class="token keyword">SELECT</span> <span class="token identifier"><span class="token punctuation">\`</span>name<span class="token punctuation">\`</span></span><span class="token punctuation">,</span>boyName <span class="token keyword">FROM</span> boys<span class="token punctuation">,</span>beauty <span class="token keyword">WHERE</span> beauty<span class="token punctuation">.</span>boyfriend_id<span class="token operator">=</span>boys<span class="token punctuation">.</span>id<span class="token punctuation">;</span>

<span class="token keyword">use</span> myemployees<span class="token punctuation">;</span>

<span class="token comment">## \u6848\u4F8B2 \u67E5\u8BE2\u5458\u5DE5\u540D\u548C\u5BF9\u5E94\u7684\u90E8\u95E8\u540D</span>
<span class="token keyword">SELECT</span> employees<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>departments<span class="token punctuation">.</span>department_name <span class="token keyword">from</span> employees<span class="token punctuation">,</span>departments <span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>department_id<span class="token operator">=</span>departments<span class="token punctuation">.</span>department_id<span class="token punctuation">;</span>

<span class="token comment">## 2\u3001\u4E3A\u8868\u8D77\u522B\u540D</span>
<span class="token comment">## \u63D0\u9AD8\u8BED\u53E5\u7684\u7B80\u6D01\u5EA6</span>
<span class="token comment">## \u533A\u5206\u591A\u4E2A\u91CD\u540D\u7684\u5B57\u6BB5</span>
<span class="token comment">## \u5982\u679C\u4E3A\u8868\u8D77\u4E86\u522B\u540D\uFF0C\u5219\u67E5\u8BE2\u7684\u5B57\u6BB5\u5C31\u4E0D\u80FD\u4F7F\u7528\u539F\u6765\u7684\u8868\u540D\u53BB\u9650\u5B9A</span>

<span class="token comment">## \u67E5\u8BE2\u5458\u5DE5\u540D\u3001\u5DE5\u79CD\u53F7\u3001\u5DE5\u79CD\u540D</span>
<span class="token keyword">SELECT</span> e<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>e<span class="token punctuation">.</span>job_id<span class="token punctuation">,</span>j<span class="token punctuation">.</span>job_title <span class="token keyword">from</span> employees <span class="token keyword">as</span> e<span class="token punctuation">,</span>jobs <span class="token keyword">as</span> j <span class="token keyword">WHERE</span> e<span class="token punctuation">.</span>job_id<span class="token operator">=</span>j<span class="token punctuation">.</span>job_id<span class="token punctuation">;</span>

<span class="token comment">## 3\u3001\u4E24\u4E2A\u8868\u683C\u987A\u5E8F\u662F\u5426\u53EF\u4EE5\u8C03\u6362\uFF1F\u53EF\u4EE5</span>

<span class="token comment">#4\u3001\u53EF\u4EE5\u52A0\u7B5B\u9009\u5417\uFF1F</span>
<span class="token comment">## \u6848\u4F8B\uFF1A\u67E5\u8BE2\u6709\u5956\u91D1\u7684\u5458\u5DE5\u540D\u3001\u90E8\u95E8\u540D</span>
<span class="token keyword">select</span> employees<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>departments<span class="token punctuation">.</span>department_name<span class="token punctuation">,</span>employees<span class="token punctuation">.</span>commission_pct <span class="token keyword">from</span> employees<span class="token punctuation">,</span>departments <span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>department_id<span class="token operator">=</span>departments<span class="token punctuation">.</span>department_id <span class="token operator">and</span> commission_pct <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">;</span>
<span class="token comment">#\u6848\u4F8B2\uFF1A\u67E5\u8BE2\u57CE\u5E02\u540D\u4E2D\u7B2C\u4E8C\u4E2A\u5B57\u7B26\u4E3Ao\u7684\u90E8\u95E8\u540D\u548C\u57CE\u5E02\u540D</span>
<span class="token keyword">SELECT</span> departments<span class="token punctuation">.</span>department_name<span class="token punctuation">,</span>locations<span class="token punctuation">.</span>city <span class="token keyword">from</span> departments<span class="token punctuation">,</span>locations <span class="token keyword">WHERE</span> departments<span class="token punctuation">.</span>location_id<span class="token operator">=</span>locations<span class="token punctuation">.</span>location_id <span class="token operator">and</span> UPPER<span class="token punctuation">(</span>SUBSTR<span class="token punctuation">(</span>locations<span class="token punctuation">.</span>city<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">&#39;O&#39;</span><span class="token punctuation">;</span>

<span class="token comment">## 5\u3001\u53EF\u4EE5\u52A0\u5206\u7EC4\u5417\uFF1F</span>
<span class="token comment">## \u6848\u4F8B1 \u67E5\u8BE2\u6BCF\u4E2A\u57CE\u5E02\u7684\u90E8\u95E8\u4E2A\u6570</span>
<span class="token keyword">SELECT</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span>locations<span class="token punctuation">.</span>city <span class="token keyword">from</span> locations<span class="token punctuation">,</span>departments <span class="token keyword">WHERE</span> locations<span class="token punctuation">.</span>location_id<span class="token operator">=</span>departments<span class="token punctuation">.</span>location_id <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> locations<span class="token punctuation">.</span>location_id<span class="token punctuation">;</span>
<span class="token comment">## \u6848\u4F8B2 \u67E5\u8BE2\u51FA\u6709\u5956\u91D1\u7684\u6BCF\u4E2A\u90E8\u95E8\u7684\u90E8\u95E8\u540D\u548C\u90E8\u95E8\u7684\u9886\u5BFC\u7F16\u53F7\u548C\u8BE5\u90E8\u95E8\u7684\u6700\u4F4E\u5DE5\u8D44</span>
<span class="token keyword">SELECT</span> departments<span class="token punctuation">.</span>department_name<span class="token punctuation">,</span>departments<span class="token punctuation">.</span>manager_id<span class="token punctuation">,</span><span class="token function">MIN</span><span class="token punctuation">(</span>employees<span class="token punctuation">.</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> departments<span class="token punctuation">,</span>employees <span class="token keyword">WHERE</span> departments<span class="token punctuation">.</span>department_id<span class="token operator">=</span>employees<span class="token punctuation">.</span>department_id 
<span class="token operator">and</span> employees<span class="token punctuation">.</span>commission_pct <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> departments<span class="token punctuation">.</span>department_id<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> departments<span class="token punctuation">.</span>department_name<span class="token punctuation">,</span>departments<span class="token punctuation">.</span>manager_id<span class="token punctuation">,</span><span class="token function">MIN</span><span class="token punctuation">(</span>employees<span class="token punctuation">.</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> departments<span class="token punctuation">,</span>employees <span class="token keyword">WHERE</span> departments<span class="token punctuation">.</span>department_id<span class="token operator">=</span>employees<span class="token punctuation">.</span>department_id 
<span class="token operator">and</span> employees<span class="token punctuation">.</span>commission_pct <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> departments<span class="token punctuation">.</span>department_name<span class="token punctuation">,</span>departments<span class="token punctuation">.</span>manager_id<span class="token punctuation">;</span>

<span class="token comment">## 6\u3001\u53EF\u4EE5\u52A0\u6392\u5E8F</span>
<span class="token comment">## \u6848\u4F8B\uFF1A\u67E5\u8BE2\u6BCF\u4E2A\u5DE5\u79CD\u7684\u5DE5\u79CD\u540D\u548C\u5458\u5DE5\u7684\u4E2A\u6570\uFF0C\u5E76\u4E14\u6309\u5458\u5DE5\u7684\u4E2A\u6570\u964D\u5E8F</span>
<span class="token keyword">SELECT</span> jobs<span class="token punctuation">.</span>job_title<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> jobs<span class="token punctuation">,</span>employees <span class="token keyword">WHERE</span> jobs<span class="token punctuation">.</span>job_id<span class="token operator">=</span>employees<span class="token punctuation">.</span>job_id <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> jobs<span class="token punctuation">.</span>job_id <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">desc</span><span class="token punctuation">;</span>

<span class="token comment">## 7\u3001\u53EF\u4EE5\u5B9E\u73B0\u4E09\u8868\u8FDE\u63A5\uFF1F</span>

<span class="token comment">## \u6848\u4F8B\uFF1A\u67E5\u8BE2\u5458\u5DE5\u540D\u3001\u90E8\u95E8\u540D\u548C\u6240\u5728\u7684\u57CE\u5E02</span>
<span class="token keyword">SELECT</span> employees<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>departments<span class="token punctuation">.</span>department_name<span class="token punctuation">,</span>locations<span class="token punctuation">.</span>city <span class="token keyword">from</span> employees<span class="token punctuation">,</span>departments<span class="token punctuation">,</span>locations <span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>department_id<span class="token operator">=</span>departments<span class="token punctuation">.</span>department_id <span class="token operator">and</span> departments<span class="token punctuation">.</span>location_id <span class="token operator">=</span> locations<span class="token punctuation">.</span>location_id<span class="token punctuation">;</span>

<span class="token comment">## 2\u3001\u975E\u7B49\u503C\u8FDE\u63A5</span>

<span class="token comment">#\u6848\u4F8B1 \u67E5\u8BE2\u5458\u5DE5\u7684\u5DE5\u8D44\u548C\u5DE5\u8D44\u7EA7\u522B</span>
<span class="token keyword">SELECT</span> employees<span class="token punctuation">.</span>salary<span class="token punctuation">,</span>job_grades<span class="token punctuation">.</span>grade_level <span class="token keyword">from</span> employees<span class="token punctuation">,</span>job_grades <span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>salary <span class="token operator">BETWEEN</span> job_grades<span class="token punctuation">.</span>lowest_sal <span class="token operator">AND</span> job_grades<span class="token punctuation">.</span>highest_sal<span class="token punctuation">;</span>

<span class="token comment">## 3\u3001\u81EA\u8FDE\u63A5</span>
<span class="token comment">## \u6848\u4F8B\uFF1A\u67E5\u8BE2\u5458\u5DE5\u540D\u548C\u4E0A\u7EA7\u7684\u540D\u5B57</span>
<span class="token keyword">SELECT</span> e<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>m<span class="token punctuation">.</span>last_name <span class="token keyword">FROM</span> employees e<span class="token punctuation">,</span>employees m <span class="token keyword">WHERE</span> e<span class="token punctuation">.</span>manager_id <span class="token operator">=</span>m<span class="token punctuation">.</span>employee_id<span class="token punctuation">;</span>

<span class="token comment">## \u4E8C\u3001sql99\u8BED\u6CD5</span>
<span class="token comment">/*

\u8BED\u6CD5\uFF1A
	select \u67E5\u8BE2\u5217\u8868
	from \u88681 \u522B\u540D 
	[\u8FDE\u63A5\u7C7B\u578B] join \u88682 \u522B\u540D on \u8FDE\u63A5\u6761\u4EF6
	[where \u7B5B\u9009\u6761\u4EF6]
	[GROUP BY \u5206\u7EC4]
	[HAVING \u7B5B\u9009\u6761\u4EF6]
	[ORDER BY \u6392\u5E8F\u5217\u8868]
\u5185\u8FDE\u63A5	inner
\u5916\u8FDE\u63A5
	\u5DE6\u5916 left [outer]
	\u53F3\u5916 right [outer]
	\u5168\u5916 full [outer] (msyql\u4E0D\u652F\u6301)
\u4EA4\u53C9\u8FDE\u63A5	cross

*/</span>

<span class="token comment">## \u4E00\u3001\u5185\u8FDE\u63A5</span>
<span class="token comment">/*
SELECT \u67E5\u8BE2\u5217\u8868
from \u88681 \u522B\u540D
INNER JOIN \u88682 \u522B\u540D
on \u8FDE\u63A5\u6761\u4EF6

\u5206\u7C7B\uFF1A
\u7B49\u503C
\u975E\u7B49\u503C
\u81EA\u8FDE\u63A5

*/</span>

<span class="token comment">## 1 \u7B49\u503C\u8FDE\u63A5</span>
<span class="token comment">## \u6848\u4F8B1 \u67E5\u8BE2\u5458\u5DE5\u540D\u3001\u90E8\u95E8\u540D\uFF08\u8C03\u6362\u4F4D\u7F6E\uFF09</span>
<span class="token keyword">SELECT</span> employees<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>departments<span class="token punctuation">.</span>department_name
<span class="token keyword">FROM</span> employees <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> departments <span class="token keyword">on</span> employees<span class="token punctuation">.</span>department_id<span class="token operator">=</span>departments<span class="token punctuation">.</span>department_id<span class="token punctuation">;</span>
<span class="token comment">## \u6848\u4F8B2 \u67E5\u8BE2\u540D\u5B57\u4E2D\u5305\u542Be\u7684\u5458\u5DE5\u540D\u548C\u5DE5\u79CD\u540D\uFF08\u7B5B\u9009\uFF09</span>
<span class="token keyword">SELECT</span> employees<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>jobs<span class="token punctuation">.</span>job_title
<span class="token keyword">FROM</span> employees <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> jobs <span class="token keyword">on</span> employees<span class="token punctuation">.</span>job_id<span class="token operator">=</span>jobs<span class="token punctuation">.</span>job_id
<span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>last_name <span class="token operator">LIKE</span> <span class="token string">&quot;%e%&quot;</span><span class="token punctuation">;</span>
<span class="token comment">## \u6848\u4F8B3 \u67E5\u8BE2\u90E8\u95E8\u4E2A\u6570&gt;3\u7684\u57CE\u5E02\u540D\u548C\u90E8\u95E8\u4E2A\u6570\uFF08\u5206\u7EC4+\u7B5B\u9009\uFF09</span>
<span class="token keyword">SELECT</span> locations<span class="token punctuation">.</span>city<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span>
<span class="token keyword">FROM</span> locations <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> departments <span class="token keyword">on</span> locations<span class="token punctuation">.</span>location_id <span class="token operator">=</span> departments<span class="token punctuation">.</span>location_id
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> locations<span class="token punctuation">.</span>location_id <span class="token keyword">HAVING</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">3</span><span class="token punctuation">;</span>
<span class="token comment">## \u6848\u4F8B4 \u67E5\u8BE2\u90A3\u4E2A\u90E8\u95E8\u7684\u90E8\u95E8\u5458\u5DE5\u4E2A\u6570&gt;3\u7684\u90E8\u95E8\u540D\u548C\u5458\u5DE5\u4E2A\u6570\uFF0C\u5E76\u6309\u4E2A\u6570\u964D\u5E8F\uFF08\u6392\u5E8F\uFF09</span>
<span class="token keyword">SELECT</span> departments<span class="token punctuation">.</span>department_name<span class="token punctuation">,</span><span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span>
<span class="token keyword">FROM</span> departments <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> employees <span class="token keyword">ON</span> departments<span class="token punctuation">.</span>department_id<span class="token operator">=</span>employees<span class="token punctuation">.</span>department_id
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> departments<span class="token punctuation">.</span>department_id <span class="token keyword">HAVING</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">3</span>
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">desc</span><span class="token punctuation">;</span>
<span class="token comment">## \u6848\u4F8B5 \u67E5\u8BE2\u5458\u5DE5\u540D\u3001\u90E8\u95E8\u540D\u3001\u5DE5\u79CD\u540D\uFF0C\u5E76\u6309\u90E8\u95E8\u540D\u964D\u5E8F</span>
<span class="token keyword">SELECT</span> employees<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>departments<span class="token punctuation">.</span>department_name<span class="token punctuation">,</span>jobs<span class="token punctuation">.</span>job_title
<span class="token keyword">FROM</span> employees <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> departments <span class="token keyword">ON</span> employees<span class="token punctuation">.</span>department_id<span class="token operator">=</span> departments<span class="token punctuation">.</span>department_id
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> jobs <span class="token keyword">ON</span> employees<span class="token punctuation">.</span>job_id<span class="token operator">=</span>jobs<span class="token punctuation">.</span>job_id
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> departments<span class="token punctuation">.</span>department_name <span class="token keyword">desc</span><span class="token punctuation">;</span>

<span class="token comment">## \u4E8C\u3001\u975E\u7B49\u503C\u8FDE\u63A5</span>
<span class="token comment">#\u67E5\u8BE2\u5458\u5DE5\u7684\u5DE5\u8D44\u7EA7\u522B</span>
<span class="token keyword">SELECT</span> employees<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>job_grades<span class="token punctuation">.</span>grade_level
<span class="token keyword">FROM</span> employees <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> job_grades <span class="token keyword">ON</span> employees<span class="token punctuation">.</span>salary 
<span class="token operator">BETWEEN</span> job_grades<span class="token punctuation">.</span>lowest_sal <span class="token operator">AND</span> job_grades<span class="token punctuation">.</span>highest_sal<span class="token punctuation">;</span>

<span class="token comment">## \u67E5\u8BE2\u6BCF\u4E2A\u5DE5\u8D44\u7EA7\u522B\u7684\u4E2A\u6570&gt;20\u4E2A\uFF0C\u5E76\u4E14\u6309\u5DE5\u8D44\u7EA7\u522B\u964D\u5E8F\u6392\u5E8F</span>
<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span>job_grades<span class="token punctuation">.</span>grade_level
<span class="token keyword">FROM</span> employees <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> job_grades <span class="token keyword">ON</span> employees<span class="token punctuation">.</span>salary 
<span class="token operator">BETWEEN</span> job_grades<span class="token punctuation">.</span>lowest_sal <span class="token operator">AND</span> job_grades<span class="token punctuation">.</span>highest_sal
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> job_grades<span class="token punctuation">.</span>grade_level
<span class="token keyword">HAVING</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">20</span>
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> job_grades<span class="token punctuation">.</span>grade_level <span class="token keyword">desc</span><span class="token punctuation">;</span>

<span class="token comment">## \u4E09\u3001\u81EA\u8FDE\u63A5</span>
<span class="token comment">#\u67E5\u8BE2\u5458\u5DE5\u7684\u540D\u5B57\u3001\u4E0A\u7EA7\u7684\u540D\u5B57</span>
<span class="token keyword">SELECT</span> e<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>m<span class="token punctuation">.</span>last_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> employees m <span class="token keyword">ON</span> e<span class="token punctuation">.</span>manager_id <span class="token operator">=</span>m<span class="token punctuation">.</span>employee_id<span class="token punctuation">;</span>

<span class="token comment">#\u67E5\u8BE2\u59D3\u540D\u4E2D\u5305\u542B\u5B57\u7B26k\u7684\u5458\u5DE5\u7684\u540D\u5B57\u3001\u4E0A\u7EA7\u7684\u540D\u5B57</span>
<span class="token keyword">SELECT</span> e<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>m<span class="token punctuation">.</span>last_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> employees m <span class="token keyword">ON</span> e<span class="token punctuation">.</span>manager_id <span class="token operator">=</span>m<span class="token punctuation">.</span>employee_id
<span class="token keyword">WHERE</span> e<span class="token punctuation">.</span>last_name <span class="token operator">LIKE</span> <span class="token string">&#39;%k%&#39;</span><span class="token punctuation">;</span>

<span class="token comment">## \u4E8C\u3001\u5916\u8FDE\u63A5</span>
<span class="token comment">/*
\u5E94\u7528\u573A\u666F\uFF1A\u7528\u4E8E\u67E5\u8BE2\u4E00\u4E2A\u8868\u4E2D\u6709\uFF0C\u53E6\u4E00\u4E2A\u8868\u6CA1\u6709\u7684\u8BB0\u5F55
\u7279\u70B9\uFF1A
	1\u3001\u5916\u8FDE\u63A5\u7684\u67E5\u8BE2\u7ED3\u679C\u4E3A\u4E3B\u8868\u4E2D\u7684\u6240\u6709\u8BB0\u5F55\uFF0C\u5982\u679C\u4ECE\u8868\u4E2D\u6709\u548C\u4ED6\u5339\u914D\u7684\uFF0C\u5219\u663E\u793A\u5339\u914D\u7684\u503C\uFF1B\u5982\u679C\u4ECE\u8868\u4E2D\u6CA1\u6709\u548C\u4ED6\u5339\u914D\u7684\uFF0C\u5219\u663E\u793Anull
		\u5916\u8FDE\u63A5\u7684\u67E5\u8BE2\u7ED3\u679C=\u5185\u8FDE\u63A5\u7ED3\u679C+\u4E3B\u8868\u4E2D\u6709\u800C\u4ECE\u8868\u4E2D\u6CA1\u6709\u8BB0\u5F55
	2\u3001\u5DE6\u5916\u8FDE\u63A5\u4E2D\uFF0Cleft \u5DE6\u8FB9\u7684\u662F\u4E3B\u8868
		\u53F3\u5916\u8FDE\u63A5\u4E2D\uFF0Cright \u53F3\u8FB9\u7684\u662F\u4E3B\u8868
	3\u3001\u5DE6\u5916\u548C\u53F3\u5916\u4EA4\u6362\u4E24\u4E2A\u8868\u7684\u987A\u5E8F\uFF0C\u53EF\u4EE5\u5B9E\u73B0\u540C\u6837\u7684\u6548\u679C
	4\u3001\u5168\u5916\u8FDE\u63A5=\u5185\u8FDE\u63A5\u7684\u7ED3\u679C+\u88681\u4E2D\u6709\u4F46\u88682\u4E2D\u6CA1\u6709\u7684+\u88682\u4E2D\u6709\u4F46\u662F\u88681\u4E2D\u6CA1\u6709\u7684
*/</span>
<span class="token comment">## \u5F15\u5165\uFF1A\u67E5\u8BE2\u6CA1\u6709\u7537\u670B\u53CB\u7684\u5973\u795E\u540D</span>
<span class="token keyword">USE</span> girls<span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> beauty<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>name<span class="token punctuation">\`</span></span><span class="token punctuation">,</span>boys<span class="token punctuation">.</span><span class="token operator">*</span>
<span class="token keyword">FROM</span> beauty <span class="token keyword">LEFT</span> <span class="token keyword">OUTER</span> <span class="token keyword">JOIN</span> boys <span class="token keyword">ON</span> beauty<span class="token punctuation">.</span>boyfriend_id <span class="token operator">=</span>boys<span class="token punctuation">.</span>id<span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> beauty<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>name<span class="token punctuation">\`</span></span><span class="token punctuation">,</span>boys<span class="token punctuation">.</span><span class="token operator">*</span>
<span class="token keyword">FROM</span> beauty <span class="token keyword">LEFT</span> <span class="token keyword">OUTER</span> <span class="token keyword">JOIN</span> boys <span class="token keyword">ON</span> beauty<span class="token punctuation">.</span>boyfriend_id <span class="token operator">=</span>boys<span class="token punctuation">.</span>id
<span class="token keyword">WHERE</span> boys<span class="token punctuation">.</span>id <span class="token operator">is</span> <span class="token boolean">null</span><span class="token punctuation">;</span>

<span class="token comment">## \u6848\u4F8B1 \u67E5\u8BE2\u54EA\u4E2A\u90E8\u95E8\u6CA1\u6709\u5458\u5DE5</span>
<span class="token comment">## \u5DE6\u5916</span>
<span class="token keyword">USE</span> myemployees<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> departments<span class="token punctuation">.</span><span class="token operator">*</span>
<span class="token keyword">FROM</span> departments <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> employees <span class="token keyword">ON</span> departments<span class="token punctuation">.</span>department_id <span class="token operator">=</span> employees<span class="token punctuation">.</span>department_id
<span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>employee_id <span class="token operator">is</span> <span class="token boolean">null</span><span class="token punctuation">;</span>
<span class="token comment">## \u53F3\u5916</span>
<span class="token keyword">SELECT</span> departments<span class="token punctuation">.</span><span class="token operator">*</span>
<span class="token keyword">FROM</span> employees <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> departments <span class="token keyword">ON</span> departments<span class="token punctuation">.</span>department_id <span class="token operator">=</span> employees<span class="token punctuation">.</span>department_id
<span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>employee_id <span class="token operator">is</span> <span class="token boolean">null</span><span class="token punctuation">;</span>

<span class="token comment">## \u4EA4\u53C9\u8FDE\u63A5\uFF0C\u7B1B\u5361\u5C14\u4E58\u79EF</span>
<span class="token keyword">USE</span> girls<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> beauty<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>boys<span class="token punctuation">.</span><span class="token operator">*</span>
<span class="token keyword">FROM</span> beauty <span class="token keyword">CROSS</span> <span class="token keyword">JOIN</span> boys<span class="token punctuation">;</span>

<span class="token comment">## sql92 vs sql99</span>
<span class="token comment">/*
\u529F\u80FD\uFF1Asql99\u652F\u6301\u7684\u8F83\u591A
\u53EF\u8BFB\u6027\uFF1Asql99\u5B9E\u73B0\u8FDE\u63A5\u6761\u4EF6\u548C\u7B5B\u9009\u6761\u4EF6\u7684\u5206\u79BB\uFF0C\u53EF\u8BFB\u6027\u6BD4\u8F83\u9AD8
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u7EC3\u4E60-6"><a class="header-anchor" href="#\u7EC3\u4E60-6" aria-hidden="true">#</a> \u7EC3\u4E60</h4><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">## \u663E\u793A\u5458\u5DE5\u8868\u7684\u6700\u5927\u5DE5\u8D44\uFF0C\u5DE5\u8D44\u5E73\u5747\u503C</span>
<span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>

<span class="token comment">## \u67E5\u8BE2\u5458\u5DE5\u8868\u7684employee_id,job_id,last_name\uFF0C\u6309department_id\u964D\u5E8F\uFF0Csalary\u5347\u5E8F</span>
<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>job_id<span class="token punctuation">,</span>last_name <span class="token keyword">FROM</span> employees <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> department_id <span class="token keyword">desc</span><span class="token punctuation">,</span>salary <span class="token keyword">asc</span><span class="token punctuation">;</span>

<span class="token comment">## \u67E5\u8BE2\u5458\u5DE5\u8868\u7684job_id\u4E2D\u5305\u542Ba \u548C e\u7684\uFF0C\u5E76\u4E14a\u5728e\u7684\u524D\u9762</span>
<span class="token keyword">SELECT</span> job_id <span class="token keyword">from</span> employees <span class="token keyword">WHERE</span> job_id <span class="token operator">LIKE</span> <span class="token string">&#39;%a%e%&#39;</span><span class="token punctuation">;</span>

<span class="token comment">## \u663E\u793A\u5F53\u524D\u65E5\u671F\uFF0C\u4EE5\u53CA\u53BB\u9664\u524D\u540E\u7A7A\u683C\uFF0C\u622A\u53D6\u5B50\u5B57\u7B26\u4E32\u7684\u51FD\u6570</span>
<span class="token keyword">SELECT</span> <span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> TRIM<span class="token punctuation">(</span><span class="token string">&quot;    \u8FD8\u5728\u90A3\u9AD8\u4E09     &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> SUBSTR<span class="token punctuation">(</span><span class="token string">&quot;2223\u306E\u65E5\u4E30\u5BCC\u7684\u975E\u5178\u578B&quot;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">## \u663E\u793A\u6240\u6709\u5458\u5DE5\u7684\u59D3\u540D\u3001\u90E8\u95E8\u53F7\u548C\u90E8\u95E8\u540D\u79F0</span>
<span class="token keyword">SELECT</span> employees<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>employees<span class="token punctuation">.</span>department_id<span class="token punctuation">,</span>departments<span class="token punctuation">.</span>department_name <span class="token keyword">FROM</span> employees<span class="token punctuation">,</span>departments 
<span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>department_id<span class="token operator">=</span>departments<span class="token punctuation">.</span>department_id<span class="token punctuation">;</span>

<span class="token comment">## \u67E5\u8BE290\u53F7\u90E8\u95E8\u5458\u5DE5\u7684job_id\u548C90\u53F7\u90E8\u95E8\u7684location_id</span>
<span class="token keyword">SELECT</span> employees<span class="token punctuation">.</span>job_id<span class="token punctuation">,</span>locations<span class="token punctuation">.</span>location_id <span class="token keyword">FROM</span> employees<span class="token punctuation">,</span>departments<span class="token punctuation">,</span>locations 
<span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>department_id<span class="token operator">=</span>departments<span class="token punctuation">.</span>department_id <span class="token operator">and</span> departments<span class="token punctuation">.</span>location_id<span class="token operator">=</span>locations<span class="token punctuation">.</span>location_id 
<span class="token operator">and</span> departments<span class="token punctuation">.</span>department_id<span class="token operator">=</span><span class="token number">90</span><span class="token punctuation">;</span>

<span class="token comment">## \u9009\u62E9\u6240\u6709\u6709\u5956\u91D1\u7684\u5458\u5DE5\u7684last_name,department_name,location_id,city</span>
<span class="token keyword">SELECT</span> employees<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>departments<span class="token punctuation">.</span>department_name<span class="token punctuation">,</span>locations<span class="token punctuation">.</span>location_id<span class="token punctuation">,</span>locations<span class="token punctuation">.</span>city <span class="token keyword">FROM</span> employees<span class="token punctuation">,</span>departments<span class="token punctuation">,</span>locations
<span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>department_id<span class="token operator">=</span>departments<span class="token punctuation">.</span>department_id <span class="token operator">and</span> departments<span class="token punctuation">.</span>location_id<span class="token operator">=</span>locations<span class="token punctuation">.</span>location_id
<span class="token operator">AND</span> employees<span class="token punctuation">.</span>commission_pct <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">;</span>

<span class="token comment">## \u9009\u62E9city\u5728 Toronto \u5DE5\u4F5C\u7684\u5458\u5DE5\u7684last_name,job_id,department_id,department_name</span>
<span class="token keyword">SELECT</span> employees<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>employees<span class="token punctuation">.</span>job_id<span class="token punctuation">,</span>departments<span class="token punctuation">.</span>department_id<span class="token punctuation">,</span>departments<span class="token punctuation">.</span>department_name
<span class="token keyword">FROM</span> employees<span class="token punctuation">,</span>departments<span class="token punctuation">,</span>locations
<span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>department_id<span class="token operator">=</span>departments<span class="token punctuation">.</span>department_id
<span class="token operator">AND</span> departments<span class="token punctuation">.</span>location_id<span class="token operator">=</span>locations<span class="token punctuation">.</span>location_id
<span class="token operator">AND</span> locations<span class="token punctuation">.</span>city<span class="token operator">=</span><span class="token string">&#39;Toronto&#39;</span><span class="token punctuation">;</span>

<span class="token comment">## \u67E5\u8BE2\u6BCF\u4E2A\u5DE5\u79CD\u3001\u6BCF\u4E2A\u90E8\u95E8\u7684\u90E8\u95E8\u540D\u3001\u5DE5\u79CD\u540D\u548C\u6700\u4F4E\u5DE5\u8D44</span>
<span class="token keyword">SELECT</span> departments<span class="token punctuation">.</span>department_name<span class="token punctuation">,</span>jobs<span class="token punctuation">.</span>job_title<span class="token punctuation">,</span><span class="token function">MIN</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> departments<span class="token punctuation">,</span>jobs<span class="token punctuation">,</span>employees
<span class="token keyword">WHERE</span> departments<span class="token punctuation">.</span>department_id<span class="token operator">=</span>employees<span class="token punctuation">.</span>department_id
<span class="token operator">AND</span> employees<span class="token punctuation">.</span>job_id<span class="token operator">=</span>jobs<span class="token punctuation">.</span>job_id
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> jobs<span class="token punctuation">.</span>job_id<span class="token punctuation">,</span>departments<span class="token punctuation">.</span>department_id<span class="token punctuation">;</span>

<span class="token comment">## \u67E5\u8BE2\u6BCF\u4E2A\u56FD\u5BB6\u4E0B\u7684\u90E8\u95E8\u4E2A\u6570\u5927\u4E8E2\u7684\u56FD\u5BB6\u7F16\u53F7</span>
<span class="token keyword">SELECT</span> locations<span class="token punctuation">.</span>country_id 
<span class="token keyword">FROM</span> locations<span class="token punctuation">,</span>departments
<span class="token keyword">WHERE</span> locations<span class="token punctuation">.</span>location_id <span class="token operator">=</span>departments<span class="token punctuation">.</span>location_id
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> locations<span class="token punctuation">.</span>country_id
<span class="token keyword">HAVING</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>departments<span class="token punctuation">.</span>department_id<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">2</span><span class="token punctuation">;</span>

<span class="token comment">## \u9009\u62E9\u6307\u5B9A\u5458\u5DE5\u7684\u59D3\u540D\u3001\u5458\u5DE5\u53F7\uFF0C\u4EE5\u53CA\u4ED6\u7684\u7BA1\u7406\u8005\u7684\u59D3\u540D\u548C\u5458\u5DE5\u53F7</span>
<span class="token keyword">SELECT</span> CONCAT<span class="token punctuation">(</span>e<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span><span class="token string">&quot; &quot;</span><span class="token punctuation">,</span>e<span class="token punctuation">.</span>employee_id<span class="token punctuation">)</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>last_name <span class="token keyword">as</span> <span class="token string">&quot;Emp\\#&quot;</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>employee_id <span class="token keyword">as</span> <span class="token string">&quot;manager Mrg\\#&quot;</span>
<span class="token keyword">FROM</span> employees e<span class="token punctuation">,</span>employees m
<span class="token keyword">WHERE</span> e<span class="token punctuation">.</span>manager_id<span class="token operator">=</span>m<span class="token punctuation">.</span>employee_id<span class="token punctuation">;</span>

<span class="token comment">## \u67E5\u8BE2\u7F16\u53F7&gt;3\u4E2A\u5973\u795E\u7684\u7537\u670B\u53CB\u4FE1\u606F\uFF0C\u5982\u679C\u6709\u5219\u5217\u51FA\u8BE6\u7EC6\uFF0C\u5982\u679C\u6CA1\u6709\uFF0C\u7528null\u586B\u5145</span>
<span class="token keyword">SELECT</span> beauty<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>boys<span class="token punctuation">.</span><span class="token operator">*</span>
<span class="token keyword">FROM</span> beauty <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> boys <span class="token keyword">ON</span> beauty<span class="token punctuation">.</span>boyfriend_id <span class="token operator">=</span> boys<span class="token punctuation">.</span>id
<span class="token keyword">WHERE</span> beauty<span class="token punctuation">.</span>id<span class="token operator">&gt;</span><span class="token number">3</span><span class="token punctuation">;</span>

<span class="token comment">## \u67E5\u8BE2\u54EA\u4E2A\u57CE\u5E02\u6CA1\u6709\u90E8\u95E8</span>
<span class="token keyword">SELECT</span> locations<span class="token punctuation">.</span><span class="token operator">*</span>
<span class="token keyword">FROM</span> locations <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> departments <span class="token keyword">ON</span> locations<span class="token punctuation">.</span>location_id<span class="token operator">=</span>departments<span class="token punctuation">.</span>department_id
<span class="token keyword">WHERE</span> departments<span class="token punctuation">.</span>department_id <span class="token operator">is</span> <span class="token boolean">null</span><span class="token punctuation">;</span>

<span class="token comment">## \u67E5\u8BE2\u90E8\u95E8\u540D\u4E3ASAL\u6216IT\u7684\u5458\u5DE5\u4FE1\u606F</span>
<span class="token keyword">SELECT</span> employees<span class="token punctuation">.</span><span class="token operator">*</span>
<span class="token keyword">FROM</span> employees <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> departments <span class="token keyword">ON</span> employees<span class="token punctuation">.</span>department_id<span class="token operator">=</span>departments<span class="token punctuation">.</span>department_id
<span class="token keyword">WHERE</span> departments<span class="token punctuation">.</span>department_name<span class="token operator">=</span> <span class="token string">&#39;SAL&#39;</span> <span class="token operator">OR</span> departments<span class="token punctuation">.</span>department_name <span class="token operator">=</span><span class="token string">&quot;IT&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5B50\u67E5\u8BE2"><a class="header-anchor" href="#\u5B50\u67E5\u8BE2" aria-hidden="true">#</a> \u5B50\u67E5\u8BE2</h3><p><img src="`+u+'" alt=""></p><p><img src="'+r+`" alt=""></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">/*
\u8FDB\u96367 \u5B50\u67E5\u8BE2

\u542B\u4E49\uFF1A\u51FA\u73B0\u5728\u5176\u4ED6\u8BED\u53E5\u4E2D\u7684select\u8BED\u53E5\uFF0C\u79F0\u4E3A\u5B50\u67E5\u8BE2\u6216\u8005\u5185\u67E5\u8BE2
\u5916\u90E8\u7684\u67E5\u8BE2\u8BED\u53E5\uFF0C\u79F0\u4E3A\u4E3B\u67E5\u8BE2\u6216\u8005\u5916\u67E5\u8BE2

\u5206\u7C7B\uFF1A
\u6309\u5B50\u67E5\u8BE2\u51FA\u73B0\u7684\u4F4D\u7F6E\uFF1A
	select\u540E\u9762
		\u4EC5\u4EC5\u652F\u6301\u6807\u91CF\u5B50\u67E5\u8BE2
	from\u540E\u9762
		\u8868\u5B50\u67E5\u8BE2
	where\u6216having\u540E\u9762 \u2B50
		\u6807\u91CF\u5B50\u67E5\u8BE2	\u2705 \uFF08\u5355\u884C\uFF09
		\u5217\u5B50\u67E5\u8BE2	\u2705	\uFF08\u591A\u884C\uFF09
		\u884C\u5B50\u67E5\u8BE2
	exists\u540E\u9762\uFF08\u76F8\u5173\u5B50\u67E5\u8BE2\uFF09
		\u8868\u5B50\u67E5\u8BE2
\u6309\u7ED3\u679C\u96C6\u7684\u884C\u5217\u6570
	\u6807\u91CF\u5B50\u67E5\u8BE2\uFF08\u7ED3\u679C\u96C6\u53EA\u6709\u4E00\u884C\u4E00\u5217\uFF09
	\u5217\u5B50\u67E5\u8BE2\uFF08\u7ED3\u679C\u96C6\u53EA\u6709\u4E00\u5217\u591A\u884C\uFF09
	\u884C\u5B50\u67E5\u8BE2\uFF08\u7ED3\u679C\u96C6\u53EA\u6709\u4E00\u884C\u591A\u5217\uFF09
	\u8868\u5B50\u67E5\u8BE2\uFF08\u7ED3\u679C\u96C6\u968F\u4FBF\uFF0C\u4E00\u822C\u4E3A\u591A\u884C\u591A\u5217\uFF09
*/</span>

<span class="token comment">## \u4E00\u3001where\u6216\u8005having\u540E\u9762</span>
<span class="token comment">## 1\u3001\u6807\u91CF\u5B50\u67E5\u8BE2\uFF08\u5355\u884C\u5B50\u67E5\u8BE2\uFF09</span>
<span class="token comment">## 2\u3001\u5217\u5B50\u67E5\u8BE2\uFF08\u591A\u884C\u5B50\u67E5\u8BE2\uFF09</span>
<span class="token comment">## 3\u3001\u884C\u5B50\u67E5\u8BE2\uFF08\u4E00\u884C\u591A\u5217\uFF09</span>
<span class="token comment">-- \u7279\u70B9\uFF1A</span>
<span class="token comment">-- 	1\u3001\u5B50\u67E5\u8BE2\u653E\u5728\u5C0F\u62EC\u53F7\u5185</span>
<span class="token comment">-- 	2\u3001\u5B50\u67E5\u8BE2\u4E00\u822C\u653E\u5728\u6761\u4EF6\u7684\u53F3\u4FA7</span>
<span class="token comment">-- 	3\u3001\u6807\u91CF\u5B50\u67E5\u8BE2\uFF0C\u4E00\u822C\u642D\u914D\u7740\u5355\u884C\u64CD\u4F5C\u7B26\u4F7F\u7528</span>
<span class="token comment">-- 		&gt; &lt; &gt;= &lt;= = &lt;&gt;</span>
<span class="token comment">-- 	4\u3001\u5217\u5B50\u67E5\u8BE2\uFF0C\u4E00\u822C\u642D\u914D\u7740\u591A\u884C\u64CD\u4F5C\u7B26\u4F7F\u7528</span>
<span class="token comment">-- 		in any/some all</span>
<span class="token comment">--  5\u3001\u5B50\u67E5\u8BE2\u7684\u6267\u884C\u4F18\u5148\u4E8E\u4E3B\u67E5\u8BE2\u67E5\u8BE2\uFF0C\u4E3B\u67E5\u8BE2\u7684\u6761\u4EF6\u7528\u5230\u4E86\u5B50\u67E5\u8BE2\u7684\u7ED3\u679C</span>
<span class="token comment">-- 1\u3001\u6807\u91CF\u5B50\u67E5\u8BE2</span>
<span class="token comment">-- \u6848\u4F8B1 \u8C01\u7684\u5DE5\u8D44\u6BD4 Abel \u9AD8\uFF1F</span>
<span class="token comment">-- \u67E5\u8BE2Abel\u7684\u5DE5\u8D44</span>
<span class="token keyword">SELECT</span> salary <span class="token keyword">FROM</span> employees
<span class="token keyword">WHERE</span> last_name <span class="token operator">=</span> <span class="token string">&#39;Abel&#39;</span>
<span class="token comment">-- \u67E5\u8BE2\u5458\u5DE5\u7684\u4FE1\u606F\uFF0C\u6EE1\u8DB3salary&gt;\u4E0A\u9762\u7684\u7ED3\u679C</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees 
<span class="token keyword">WHERE</span> salary<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> salary <span class="token keyword">FROM</span> employees
<span class="token keyword">WHERE</span> last_name <span class="token operator">=</span> <span class="token string">&#39;Abel&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- \u6848\u4F8B2 \u8FD4\u56DEjob_id\u4E0E141\u53F7\u5458\u5DE5\u76F8\u540C\uFF0Csalary \u6BD4143\u53F7\u5458\u5DE5\u591A\u7684\u5458\u5DE5\u59D3\u540D\u3001job_id\u548C\u5DE5\u8D44</span>
<span class="token comment">-- \u67E5\u8BE2141\u53F7\u5458\u5DE5\u7684job_id</span>
<span class="token keyword">SELECT</span> job_id <span class="token keyword">FROM</span> employees
<span class="token keyword">WHERE</span> employee_id<span class="token operator">=</span><span class="token number">141</span>
<span class="token comment">-- \u67E5\u8BE2143\u53F7\u5458\u5DE5\u7684salary</span>
<span class="token keyword">SELECT</span> salary <span class="token keyword">FROM</span> employees
<span class="token keyword">WHERE</span> employee_id<span class="token operator">=</span><span class="token number">143</span>
<span class="token comment">-- \u603B\u67E5\u8BE2</span>
<span class="token keyword">SELECT</span> employees<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>employees<span class="token punctuation">.</span>job_id<span class="token punctuation">,</span>employees<span class="token punctuation">.</span>salary <span class="token keyword">FROM</span> employees
<span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>job_id <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> job_id <span class="token keyword">FROM</span> employees
<span class="token keyword">WHERE</span> employee_id<span class="token operator">=</span><span class="token number">141</span><span class="token punctuation">)</span>
<span class="token operator">AND</span> employees<span class="token punctuation">.</span>salary<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> salary <span class="token keyword">FROM</span> employees
<span class="token keyword">WHERE</span> employee_id<span class="token operator">=</span><span class="token number">143</span><span class="token punctuation">)</span>

<span class="token comment">-- \u6848\u4F8B3 \u8FD4\u56DE\u516C\u53F8\u5DE5\u8D44\u6700\u5C0F\u7684\u5458\u5DE5\u7684last_name,job_id\u548Csalary</span>
<span class="token comment">-- \u67E5\u8BE2\u6700\u5C11\u5DE5\u8D44</span>
<span class="token keyword">SELECT</span> <span class="token function">MIN</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees
<span class="token comment">-- \u603B\u67E5\u8BE2</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>job_id<span class="token punctuation">,</span>salary <span class="token keyword">FROM</span> employees
<span class="token keyword">WHERE</span> salary<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token function">MIN</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- \u6848\u4F8B4 \u67E5\u8BE2\u6700\u4F4E\u5DE5\u8D44\u5927\u4E8E50\u53F7\u90E8\u95E8\u6700\u4F4E\u5DE5\u8D44\u7684\u90E8\u95E8ID\u548C\u5176\u6700\u4F4E\u5DE5\u8D44</span>
<span class="token comment">-- \u67E5\u8BE250\u53F7\u90E8\u95E8\u7684\u6700\u4F4E\u5DE5\u8D44</span>
<span class="token keyword">SELECT</span> <span class="token function">MIN</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">,</span>departments <span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>department_id<span class="token operator">=</span>departments<span class="token punctuation">.</span>department_id <span class="token operator">AND</span> departments<span class="token punctuation">.</span>department_id<span class="token operator">=</span><span class="token number">50</span>
<span class="token comment">-- \u603B\u67E5\u8BE2</span>
<span class="token keyword">SELECT</span> departments<span class="token punctuation">.</span>department_id<span class="token punctuation">,</span><span class="token function">MIN</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">,</span>departments
<span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>department_id <span class="token operator">=</span> departments<span class="token punctuation">.</span>department_id
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> employees<span class="token punctuation">.</span>department_id 
<span class="token keyword">HAVING</span> <span class="token function">MIN</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token function">MIN</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">,</span>departments <span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>department_id<span class="token operator">=</span>departments<span class="token punctuation">.</span>department_id <span class="token operator">AND</span> departments<span class="token punctuation">.</span>department_id<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 2\u3001\u5217\u5B50\u67E5\u8BE2\uFF08\u591A\u884C\u5B50\u67E5\u8BE2\uFF09</span>
<span class="token comment">## \u6848\u4F8B1 \u8FD4\u56DElocation_id\u662F1400\u62161700\u7684\u90E8\u95E8\u4E2D\u7684\u6240\u6709\u5458\u5DE5\u59D3\u540D</span>
<span class="token comment">-- \u67E5\u8BE2location_id\u662F1400\u62161700\u7684\u90E8\u95E8\u7F16\u53F7</span>
<span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> department_id <span class="token keyword">FROM</span> departments <span class="token keyword">WHERE</span> departments<span class="token punctuation">.</span>location_id <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token number">1400</span><span class="token punctuation">,</span><span class="token number">1700</span><span class="token punctuation">)</span>
<span class="token comment">-- \u67E5\u8BE2\u5458\u5DE5\u59D3\u540D\u662F\u90E8\u95E8\u7F16\u53F7\u662F\u4E0A\u9762\u7684\u7ED3\u679C</span>
<span class="token keyword">SELECT</span> employees<span class="token punctuation">.</span>last_name <span class="token keyword">FROM</span> employees <span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>department_id <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> department_id <span class="token keyword">FROM</span> departments <span class="token keyword">WHERE</span> departments<span class="token punctuation">.</span>location_id <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token number">1400</span><span class="token punctuation">,</span><span class="token number">1700</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- \u6848\u4F8B2 \u8FD4\u56DE\u5176\u4ED6\u5DE5\u79CD\u4E2D\u6BD4job_id\u4E3A&#39;IT_PROG&#39;\u5DE5\u79CD\u4EFB\u4E00\u5DE5\u8D44\u4F4E\u7684\u5458\u5DE5\u7684\u5458\u5DE5\u53F7\u3001\u59D3\u540D\u3001job_id\u4EE5\u53CAsalary</span>
<span class="token comment">-- \u67E5\u8BE2job_id\u4E3A&#39;IT_PROG&#39;\u5DE5\u79CD\u4EFB\u4E00\u5DE5\u8D44</span>
<span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> employees<span class="token punctuation">.</span>salary <span class="token keyword">FROM</span> employees <span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>job_id <span class="token operator">=</span> <span class="token string">&#39;IT_PROG&#39;</span>
<span class="token comment">-- \u603B\u67E5\u8BE2</span>
<span class="token keyword">SELECT</span> employees<span class="token punctuation">.</span>employee_id<span class="token punctuation">,</span>employees<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>employees<span class="token punctuation">.</span>job_id<span class="token punctuation">,</span>employees<span class="token punctuation">.</span>salary <span class="token keyword">FROM</span> employees
<span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>job_id <span class="token operator">!=</span> <span class="token string">&#39;IT_PROG&#39;</span> 
<span class="token operator">AND</span> employees<span class="token punctuation">.</span>salary <span class="token operator">&lt;</span> <span class="token keyword">ANY</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> employees<span class="token punctuation">.</span>salary <span class="token keyword">FROM</span> employees <span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>job_id <span class="token operator">=</span> <span class="token string">&#39;IT_PROG&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">#\u6216\u8005</span>
<span class="token keyword">SELECT</span> employees<span class="token punctuation">.</span>employee_id<span class="token punctuation">,</span>employees<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>employees<span class="token punctuation">.</span>job_id<span class="token punctuation">,</span>employees<span class="token punctuation">.</span>salary <span class="token keyword">FROM</span> employees
<span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>job_id <span class="token operator">!=</span> <span class="token string">&#39;IT_PROG&#39;</span> 
<span class="token operator">AND</span> employees<span class="token punctuation">.</span>salary <span class="token operator">&lt;</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>employees<span class="token punctuation">.</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees <span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>job_id <span class="token operator">=</span> <span class="token string">&#39;IT_PROG&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- \u6848\u4F8B3 \u8FD4\u56DE\u5176\u4ED6\u5DE5\u79CD\u4E2D\u6BD4job_id\u4E3A&quot;IT_PROG&quot;\u5DE5\u79CD\u6240\u6709\u5DE5\u8D44\u90FD\u4F4E\u7684\u5458\u5DE5\u7684\u5458\u5DE5\u53F7\u3001\u59D3\u540D\u3001job_id\u4EE5\u53CAsalary</span>
<span class="token keyword">SELECT</span> employees<span class="token punctuation">.</span>employee_id<span class="token punctuation">,</span>employees<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>employees<span class="token punctuation">.</span>job_id<span class="token punctuation">,</span>employees<span class="token punctuation">.</span>salary <span class="token keyword">FROM</span> employees
<span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>job_id <span class="token operator">!=</span> <span class="token string">&#39;IT_PROG&#39;</span> 
<span class="token operator">AND</span> employees<span class="token punctuation">.</span>salary <span class="token operator">&lt;</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token function">MIN</span><span class="token punctuation">(</span>employees<span class="token punctuation">.</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees <span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>job_id <span class="token operator">=</span> <span class="token string">&#39;IT_PROG&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 3\u3001\u884C\u5B50\u67E5\u8BE2\uFF08\u7ED3\u679C\u96C6\u4E00\u884C\u591A\u5217\u6216\u8005\u591A\u884C\u591A\u5217\uFF09\u3010\u7528\u5F97\u8F83\u5C11\u3011</span>
<span class="token comment">-- \u6848\u4F8B\uFF1A\u67E5\u8BE2\u5458\u5DE5\u7F16\u53F7\u6700\u5C0F\u5E76\u4E14\u5DE5\u8D44\u6700\u9AD8\u7684\u5458\u5DE5\u4FE1\u606F</span>

<span class="token comment">-- \u884C\u5B50\u67E5\u8BE2</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees
<span class="token keyword">WHERE</span> <span class="token punctuation">(</span>employees<span class="token punctuation">.</span>employee_id<span class="token punctuation">,</span>employees<span class="token punctuation">.</span>salary<span class="token punctuation">)</span><span class="token operator">=</span><span class="token punctuation">(</span>
	<span class="token keyword">SELECT</span> <span class="token function">MIN</span><span class="token punctuation">(</span>employees<span class="token punctuation">.</span>employee_id<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">MAX</span><span class="token punctuation">(</span>employees<span class="token punctuation">.</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees
<span class="token punctuation">)</span>
<span class="token comment">-- \u7B49\u540C\u4E8E\uFF1A</span>
<span class="token comment">-- \u67E5\u8BE2\u5458\u5DE5\u7F16\u53F7\u6700\u5C0F</span>
<span class="token keyword">SELECT</span> <span class="token function">MIN</span><span class="token punctuation">(</span>employees<span class="token punctuation">.</span>employee_id<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees
<span class="token comment">-- \u67E5\u8BE2\u6700\u9AD8\u5DE5\u8D44</span>
<span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>employees<span class="token punctuation">.</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees
<span class="token comment">-- \u67E5\u8BE2\u5458\u5DE5\u4FE1\u606F</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees
<span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>employee_id<span class="token operator">=</span><span class="token punctuation">(</span>
<span class="token keyword">SELECT</span> <span class="token function">MIN</span><span class="token punctuation">(</span>employees<span class="token punctuation">.</span>employee_id<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees
<span class="token punctuation">)</span> <span class="token operator">AND</span> employees<span class="token punctuation">.</span>salary<span class="token operator">=</span><span class="token punctuation">(</span>
<span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>employees<span class="token punctuation">.</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees
<span class="token punctuation">)</span>

<span class="token comment">-- \u4E8C\u3001\u653E\u5728select\u540E\u9762</span>
<span class="token comment">-- \u4EC5\u4EC5\u652F\u6301\u6807\u91CF\u5B50\u67E5\u8BE2\uFF08\u4E00\u884C\u4E00\u5217\uFF09</span>
<span class="token comment">-- \u6848\u4F8B\uFF1A\u67E5\u8BE2\u6BCF\u4E2A\u90E8\u95E8\u7684\u5458\u5DE5\u4E2A\u6570[\u90E8\u95E8\u8868\u662F\u4E3B\u8868\uFF0C\u5982\u679C\u90E8\u95E8\u4E2D\u6CA1\u6709\u5458\u5DE5\uFF0C\u5C31\u5E94\u8BE5\u663E\u793A0]</span>
<span class="token comment">-- \u5E94\u8BE5\u662F\u90E8\u95E8\u4E2D\u7684\u6240\u6709\u5B57\u6BB5+\u5458\u5DE5\u4E2A\u6570</span>
<span class="token keyword">SELECT</span> departments<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span><span class="token punctuation">(</span>
	<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees
	<span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>department_id<span class="token operator">=</span>departments<span class="token punctuation">.</span>department_id
<span class="token punctuation">)</span> <span class="token keyword">FROM</span> departments<span class="token punctuation">;</span>


<span class="token comment">-- \u6848\u4F8B2 \u67E5\u8BE2\u5458\u5DE5\u53F7=102\u7684\u90E8\u95E8\u540D</span>
<span class="token keyword">SELECT</span> <span class="token punctuation">(</span>
<span class="token keyword">SELECT</span> departments<span class="token punctuation">.</span>department_name <span class="token keyword">FROM</span> departments <span class="token keyword">WHERE</span> departments<span class="token punctuation">.</span>department_id<span class="token operator">=</span>employees<span class="token punctuation">.</span>department_id
<span class="token punctuation">)</span> <span class="token keyword">as</span> \u90E8\u95E8\u540D <span class="token keyword">FROM</span> employees <span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>employee_id<span class="token operator">=</span><span class="token number">102</span><span class="token punctuation">;</span>

<span class="token comment">-- \u4E09\u3001from\u540E\u9762</span>
<span class="token comment">-- \u5C06\u5B50\u67E5\u8BE2\u7ED3\u679C\u5145\u5F53\u4E00\u5F20\u8868</span>
<span class="token comment">## \u6848\u4F8B\uFF1A\u67E5\u8BE2\u6BCF\u4E2A\u90E8\u95E8\u7684\u5E73\u5747\u5DE5\u8D44\u7684\u5DE5\u8D44\u7B49\u7EA7</span>
<span class="token comment">-- \u67E5\u8BE2\u6BCF\u4E2A\u90E8\u95E8\u7684\u5E73\u5747\u5DE5\u8D44</span>
<span class="token keyword">SELECT</span> department_id<span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id
<span class="token comment">-- \u603B\u67E5\u8BE2</span>
<span class="token keyword">SELECT</span> e<span class="token punctuation">.</span>department_id<span class="token punctuation">,</span> e<span class="token punctuation">.</span>a<span class="token punctuation">,</span> job_grades<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token punctuation">(</span>
	<span class="token keyword">SELECT</span> department_id<span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> a <span class="token keyword">FROM</span> employees 
	<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id
<span class="token punctuation">)</span> e <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> job_grades <span class="token keyword">ON</span> e<span class="token punctuation">.</span>a <span class="token operator">BETWEEN</span> job_grades<span class="token punctuation">.</span>lowest_sal <span class="token operator">AND</span> job_grades<span class="token punctuation">.</span>highest_sal<span class="token punctuation">;</span>

<span class="token comment">-- \u56DB\u3001exists\u540E\u9762\uFF08\u76F8\u5173\u5B50\u67E5\u8BE2\uFF09</span>
<span class="token comment">-- \u5B58\u5728\uFF0C\u8868\u793A()\u4E2D\u7684\u7ED3\u679C\u662F\u5426\u5B58\u5728</span>
<span class="token comment">-- \u8BED\u6CD5:exists(\u5B8C\u6574\u7684\u67E5\u8BE2\u8BED\u53E5)</span>
<span class="token comment">-- \u7ED3\u679C\uFF1A1\u6216\u80050</span>
<span class="token keyword">SELECT</span> <span class="token keyword">EXISTS</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> employees<span class="token punctuation">.</span>employee_id <span class="token keyword">FROM</span> employees<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">## \u6848\u4F8B1 \u67E5\u8BE2\u6709\u5458\u5DE5\u7684\u90E8\u95E8\u540D</span>
<span class="token keyword">SELECT</span> department_name
<span class="token keyword">FROM</span> departments
<span class="token keyword">WHERE</span> <span class="token keyword">EXISTS</span><span class="token punctuation">(</span>
	<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees <span class="token keyword">WHERE</span> departments<span class="token punctuation">.</span>department_id<span class="token operator">=</span>employees<span class="token punctuation">.</span>department_id
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5206\u9875\u67E5\u8BE2"><a class="header-anchor" href="#\u5206\u9875\u67E5\u8BE2" aria-hidden="true">#</a> \u5206\u9875\u67E5\u8BE2</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">/*
\u5E94\u7528\u573A\u666F\uFF1A\u8981\u663E\u793A\u7684\u6570\u636E\uFF0C\u4E00\u9875\u663E\u793A\u4E0D\u5168\uFF0C\u9700\u8981\u5206\u9875\u63D0\u4EA4sql\u8BF7\u6C42
\u8BED\u6CD5\uFF1A
	select \u67E5\u8BE2\u5217\u8868
	from \u8868\u540D
	[join type join \u88682
	on \u8FDE\u63A5\u6761\u4EF6
	where \u7B5B\u9009\u6761\u4EF6
	group by \u5206\u7EC4\u5B57\u6BB5
	having \u5206\u7EC4\u540E\u7684\u7B5B\u9009
	order by \u6392\u5E8F\u7684\u5B57\u6BB5]
	limit offset,size;
	offset \u8981\u663E\u793A\u7684\u6761\u76EE\u7684\u8D77\u59CB\u7D22\u5F15\uFF08\u4ECE0\u5F00\u59CB\uFF09
	size \u8981\u663E\u793A\u7684\u6761\u76EE\u4E2A\u6570

\u7279\u70B9\uFF1A
	limit \u8BED\u53E5\u653E\u5728\u67E5\u8BE2\u8BED\u53E5\u7684\u6700\u540E
	\u516C\u5F0F\uFF1A
		\u8981\u663E\u793A\u7684\u9875\u6570 page,\u6BCF\u9875\u7684\u6761\u76EE\u6570size
		select \u67E5\u8BE2\u5217\u8868 from \u8868 limit (page-1)*size,size;
*/</span>

<span class="token comment">-- \u6848\u4F8B1 \u67E5\u8BE2\u524D5\u6761\u5458\u5DE5\u4FE1\u606F</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees <span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees <span class="token keyword">limit</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">## \u5982\u679C\u662F\u4ECE0\u5F00\u59CB\uFF0Coffset\u53EF\u4EE5\u7701\u7565</span>

<span class="token comment">-- \u6848\u4F8B2 \u67E5\u8BE2\u7B2C11\u6761~\u7B2C25\u6761</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees <span class="token keyword">LIMIT</span> <span class="token number">10</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">;</span>

<span class="token comment">-- \u6848\u4F8B3 \u6709\u5956\u91D1\u7684\u5458\u5DE5\u4FE1\u606F\uFF0C\u5E76\u4E14\u5DE5\u8D44\u8F83\u9AD8\u7684\u524D10\u540D\u663E\u793A\u51FA\u6765</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees
<span class="token keyword">WHERE</span> commission_pct <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">NULL</span>
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> salary <span class="token keyword">DESC</span>
<span class="token keyword">LIMIT</span> <span class="token number">10</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="union\u8054\u5408\u67E5\u8BE2"><a class="header-anchor" href="#union\u8054\u5408\u67E5\u8BE2" aria-hidden="true">#</a> union\u8054\u5408\u67E5\u8BE2</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">/*
\u8FDB\u96369 \u8054\u5408\u67E5\u8BE2
union \u8054\u5408\u3001\u5408\u5E76\uFF1A\u5C06\u591A\u6761\u67E5\u8BE2\u8BED\u53E5\u7684\u7ED3\u679C\u5408\u5E76\u6210\u4E00\u4E2A\u7ED3\u679C
\u8BED\u6CD5\uFF1A
	\u67E5\u8BE2\u8BED\u53E51
	UNION
	\u67E5\u8BE2\u8BED\u53E52
	UNION
	...

\u5E94\u7528\u573A\u666F\uFF1A
\u8981\u67E5\u8BE2\u7684\u7ED3\u679C\u6765\u81EA\u4E8E\u4E0D\u540C\u7684\u8868\uFF0C\u4E14\u591A\u4E2A\u8868\u6CA1\u6709\u76F4\u63A5\u7684\u8FDE\u63A5\u5173\u7CFB\uFF0C\u4F46\u67E5\u8BE2\u7684\u4FE1\u606F\u4E00\u81F4\u65F6

\u7279\u70B9\uFF1A
1 \u8981\u6C42\u591A\u6761\u67E5\u8BE2\u8BED\u53E5\u7684\u67E5\u8BE2\u5217\u6570\u662F\u4E00\u81F4\u7684
2 \u8981\u6C42\u591A\u6761\u67E5\u8BE2\u8BED\u53E5\u7684\u67E5\u8BE2\u7684\u6BCF\u4E00\u5217\u7684\u7C7B\u578B\u548C\u987A\u5E8F\u6700\u597D\u662F\u4E00\u81F4\u7684
*/</span>
<span class="token comment">-- \u5F15\u5165\u7684\u6848\u4F8B\uFF1A\u67E5\u8BE2\u90E8\u95E8\u7F16\u53F7&gt;90 \u6216\u8005\u90AE\u7BB1\u4E2D\u5305\u542Ba\u7684\u5458\u5DE5\u4FE1\u606F</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees <span class="token keyword">WHERE</span> email <span class="token operator">LIKE</span> <span class="token string">&quot;%a%&quot;</span> <span class="token operator">OR</span> department_id<span class="token operator">&gt;</span><span class="token number">90</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees <span class="token keyword">WHERE</span> email <span class="token operator">LIKE</span> <span class="token string">&quot;%a%&quot;</span> 
<span class="token keyword">UNION</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees <span class="token keyword">WHERE</span> department_id<span class="token operator">&gt;</span><span class="token number">90</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="dml\u8BED\u8A00\u5B66\u4E60"><a class="header-anchor" href="#dml\u8BED\u8A00\u5B66\u4E60" aria-hidden="true">#</a> DML\u8BED\u8A00\u5B66\u4E60</h2><p>DML\uFF1AData Manipulation Language \u6570\u636E\u64CD\u7EB5\u8BED\u8A00</p><h3 id="\u63D2\u5165"><a class="header-anchor" href="#\u63D2\u5165" aria-hidden="true">#</a> \u63D2\u5165</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- \u4E00 \u63D2\u5165\u8BED\u53E5</span>
<span class="token comment">/*
\u8BED\u6CD5\uFF1A
\u8868\u540D
\u5217\u540D
\u65B0\u503C

insert into \u8868\u540D(\u5217\u540D,.....) values(\u503C1....);
*/</span>
<span class="token comment">## 1\u3001\u63D2\u5165\u7684\u503C\u7C7B\u578B\u8981\u4E0E\u5217\u7684\u7C7B\u578B\u4E00\u81F4\u6216\u517C\u5BB9</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> beauty<span class="token punctuation">(</span>id<span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">\`</span>name<span class="token punctuation">\`</span></span><span class="token punctuation">,</span>sex<span class="token punctuation">,</span>borndate<span class="token punctuation">,</span>phone<span class="token punctuation">,</span>photo<span class="token punctuation">,</span>boyfriend_id<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token string">&#39;\u5510\u827A\u6615&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;\u5973&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;1990-4-23&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;1898888888&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">## 2\u3001\u4E0D\u4E3Anull\u7684\u503C\u5FC5\u987B\u63D2\u5165\u503C\uFF0C\u53EF\u4EE5\u4E3Anull\u7684\u5217\u5982\u4F55\u63D2\u5165\u503C\u7684\uFF1F</span>
<span class="token comment">-- \u65B9\u5F0F\u4E00</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> beauty<span class="token punctuation">(</span>id<span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">\`</span>name<span class="token punctuation">\`</span></span><span class="token punctuation">,</span>sex<span class="token punctuation">,</span>borndate<span class="token punctuation">,</span>phone<span class="token punctuation">,</span>photo<span class="token punctuation">,</span>boyfriend_id<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token string">&#39;\u5510\u827A\u6615&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;\u5973&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;1990-4-23&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;1898888888&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- \u65B9\u5F0F\u4E8C</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> beauty<span class="token punctuation">(</span>id<span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">\`</span>name<span class="token punctuation">\`</span></span><span class="token punctuation">,</span>sex<span class="token punctuation">,</span>borndate<span class="token punctuation">,</span>phone<span class="token punctuation">,</span>boyfriend_id<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">,</span><span class="token string">&#39;\u91D1\u661F&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;\u5973&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;1990-4-23&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;1398888888&#39;</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">## 3\u3001\u5217\u7684\u987A\u5E8F\u662F\u5426\u53EF\u4EE5\u8C03\u6362\u987A\u5E8F\uFF1F\u53EF\u4EE5</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> beauty<span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">\`</span>name<span class="token punctuation">\`</span></span><span class="token punctuation">,</span>sex<span class="token punctuation">,</span>id<span class="token punctuation">,</span>phone<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;\u848B\u6B23&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;\u5973&#39;</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token string">&#39;110&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 4\u3001\u5217\u6570\u548C\u503C\u4E2A\u6570\u5FC5\u987B\u4E00\u81F4</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> beauty<span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">\`</span>name<span class="token punctuation">\`</span></span><span class="token punctuation">,</span>sex<span class="token punctuation">,</span>id<span class="token punctuation">,</span>phone<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;\u5173\u6653\u5F64&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;\u5973&#39;</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">,</span><span class="token string">&#39;110&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 5\u3001\u53EF\u4EE5\u7701\u7565\u5217\u540D\uFF0C\u9ED8\u8BA4\u662F\u6240\u6709\u5217\uFF0C\u800C\u4E14\u5217\u7684\u987A\u5E8F\u548C\u8868\u4E2D\u5217\u7684\u987A\u5E8F\u4E00\u81F4</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> beauty <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token string">&#39;\u5F20\u98DE&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;\u7537&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token string">&#39;119&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- \u65B9\u5F0F\u4E8C</span>
<span class="token comment">/*
\u8BED\u6CD5\uFF1Ainsert into \u8868\u540D set \u5217\u540D=\u503C,\u5217\u540D=\u503C,.....
*/</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> beauty <span class="token keyword">SET</span> id<span class="token operator">=</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">\`</span>name<span class="token punctuation">\`</span></span><span class="token operator">=</span><span class="token string">&#39;\u5218\u6D9B&#39;</span><span class="token punctuation">,</span>phone<span class="token operator">=</span><span class="token string">&#39;999&#39;</span><span class="token punctuation">;</span>

<span class="token comment">-- \u4E24\u79CD\u65B9\u5F0F\u5927PK</span>
<span class="token comment">-- 1\u3001\u65B9\u5F0F\u4E00\u652F\u6301\u63D2\u5165\u591A\u884C\uFF0C\u65B9\u5F0F\u4E8C\u4E0D\u652F\u6301</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> beauty <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token string">&#39;\u5510\u827A\u6615&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;\u5973&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;1990-4-23&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;1898888888&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token string">&#39;\u5510\u827A\u6615&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;\u5973&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;1990-4-23&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;1898888888&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token string">&#39;\u5510\u827A\u6615&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;\u5973&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;1990-4-23&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;1898888888&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- 2\u3001\u65B9\u5F0F\u4E00\u652F\u6301\u5B50\u67E5\u8BE2\uFF0C\u65B9\u5F0F\u4E8C\u4E0D\u652F\u6301</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> beauty<span class="token punctuation">(</span>id<span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">\`</span>name<span class="token punctuation">\`</span></span><span class="token punctuation">,</span>phone<span class="token punctuation">)</span> <span class="token keyword">SELECT</span> <span class="token number">26</span><span class="token punctuation">,</span><span class="token string">&#39;\u5B8B\u831C&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;119119&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u4FEE\u6539"><a class="header-anchor" href="#\u4FEE\u6539" aria-hidden="true">#</a> \u4FEE\u6539</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- \u4FEE\u6539\u8BED\u53E5</span>
<span class="token comment">-- 1\u3001\u4FEE\u6539\u8868\u5355\u7684\u8BB0\u5F55</span>
<span class="token keyword">update</span> \u8868\u540D <span class="token keyword">set</span> \u5217<span class="token operator">=</span>\u65B0\u503C<span class="token punctuation">,</span>\u5217<span class="token operator">=</span>\u65B0\u503C<span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">where</span> \u7B5B\u9009\u6761\u4EF6<span class="token punctuation">;</span>
<span class="token comment">-- \u6848\u4F8B1 \u4FEE\u6539beauty\u8868\u4E2D\u59D3\u5510\u7684\u5973\u795E\u7535\u8BDD\u4E3A 1389990909</span>
<span class="token keyword">UPDATE</span> beauty <span class="token keyword">SET</span> phone <span class="token operator">=</span> <span class="token number">1389990909</span> <span class="token keyword">WHERE</span> beauty<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>name<span class="token punctuation">\`</span></span> <span class="token operator">like</span> <span class="token string">&#39;%\u5510%&#39;</span><span class="token punctuation">;</span>
<span class="token comment">-- \u6848\u4F8B2 \u4FEE\u6539boys\u8868\u4E2Did\u53F7\u4E3A2 \u7684\u540D\u79F0\u4E3A\u5F20\u98DE\uFF0C\u9B45\u529B\u503C\u4E3A10</span>

<span class="token comment">-- 2\u3001\u4FEE\u6539\u591A\u8868\u7684\u8BB0\u5F55</span>
<span class="token comment">-- \u8BED\u6CD5\uFF1A</span>
<span class="token comment">-- sql92\u8BED\u6CD5</span>
<span class="token comment">-- update \u88681 \u522B\u540D,\u88682 \u522B\u540D set \u5217=\u503C,... where \u8FDE\u63A5\u6761\u4EF6</span>
<span class="token comment">-- sql99\u8BED\u6CD5\uFF08\u88681 \u522B\u540D inner|left|right join \u88682 \u522B\u540D on \u8FDE\u63A5\u6761\u4EF6 \u4F5C\u4E3A\u4E00\u5F20\u65B0\u8868\uFF09</span>
<span class="token comment">-- update \u88681 \u522B\u540D inner|left|right join \u88682 \u522B\u540D on \u8FDE\u63A5\u6761\u4EF6 set \u5217=\u503C,..... where \u7B5B\u9009\u6761\u4EF6;</span>
<span class="token comment">-- \u6848\u4F8B1 \u4FEE\u6539\u5F20\u65E0\u5FCC\u5973\u670B\u53CB\u7684\u624B\u673A\u53F7\u4E3A114</span>
<span class="token keyword">update</span> beauty <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> boys <span class="token keyword">on</span> beauty<span class="token punctuation">.</span>boyfriend_id <span class="token operator">=</span> boys<span class="token punctuation">.</span>id <span class="token keyword">set</span> beauty<span class="token punctuation">.</span>phone<span class="token operator">=</span><span class="token string">&#39;114&#39;</span> <span class="token keyword">WHERE</span> boys<span class="token punctuation">.</span>boyName<span class="token operator">=</span><span class="token string">&#39;\u5F20\u65E0\u5FCC&#39;</span><span class="token punctuation">;</span>
<span class="token comment">-- \u6848\u4F8B2 \u4FEE\u6539\u6CA1\u6709\u7537\u7968\u7684\u5973\u795E\u7684\u7537\u7968\u7F16\u53F7\u90FD\u4E3A2\u53F7</span>
<span class="token keyword">update</span> beauty <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> boys <span class="token keyword">ON</span> beauty<span class="token punctuation">.</span>boyfriend_id <span class="token operator">=</span> boys<span class="token punctuation">.</span>id <span class="token keyword">SET</span> beauty<span class="token punctuation">.</span>boyfriend_id<span class="token operator">=</span><span class="token number">2</span> <span class="token keyword">WHERE</span> boys<span class="token punctuation">.</span>id <span class="token operator">is</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5220\u9664"><a class="header-anchor" href="#\u5220\u9664" aria-hidden="true">#</a> \u5220\u9664</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- \u4E09\u3001\u5220\u9664\u8BED\u53E5</span>
<span class="token comment">-- \u65B9\u5F0F\u4E00 delete</span>
<span class="token comment">-- \u8BED\u6CD5\uFF1A</span>
<span class="token comment">-- 1\u3001\u5355\u8868\u7684\u5220\u9664</span>
<span class="token comment">-- delete from \u8868\u540D where \u7B5B\u9009\u6761\u4EF6</span>
<span class="token comment">-- \u6848\u4F8B1 \u5220\u9664\u624B\u673A\u53F7\u4EE59\u7ED3\u5C3E\u7684\u5973\u795E\u4FE1\u606F</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> beauty <span class="token keyword">WHERE</span> phone <span class="token operator">LIKE</span> <span class="token string">&#39;%9&#39;</span><span class="token punctuation">;</span>


<span class="token comment">-- 2\u3001\u591A\u8868\u7684\u5220\u9664</span>
<span class="token comment">-- sql 92 </span>
<span class="token comment">-- \u5982\u679C\u8981\u5220\u9664\u88681\u5C31\u586B\u5199\u88681\u7684\u522B\u540D\uFF0C\u5982\u679C\u8981\u5220\u9664\u88682\u5C31\u5220\u9664\u88682\u7684\u522B\u540D</span>
<span class="token comment">-- delete \u88681\u7684\u522B\u540D,\u88682\u7684\u522B\u540D FROM \u88681 \u522B\u540D\uFF0C\u88682 \u522B\u540D where \u8FDE\u63A5\u6761\u4EF6 and \u7B5B\u9009\u6761\u4EF6</span>
<span class="token comment">-- sql 99</span>
<span class="token comment">-- delete \u88681\u7684\u522B\u540D,\u88682\u7684\u522B\u540D FROM \u88681 \u522B\u540D inner|left|right join \u88682 \u522B\u540D on \u8FDE\u63A5\u6761\u4EF6 WHERE \u7B5B\u9009\u6761\u4EF6;</span>
<span class="token comment">-- \u6848\u4F8B\uFF1A\u5220\u9664\u5F20\u65E0\u5FCC\u7684\u5973\u670B\u53CB\u4FE1\u606F</span>
<span class="token keyword">delete</span> b <span class="token keyword">FROM</span> beauty b <span class="token keyword">inner</span> <span class="token keyword">join</span> boys bo <span class="token keyword">on</span> b<span class="token punctuation">.</span>boyfriend_id<span class="token operator">=</span>bo<span class="token punctuation">.</span>id <span class="token keyword">WHERE</span> bo<span class="token punctuation">.</span>boyName<span class="token operator">=</span><span class="token string">&#39;\u5F20\u65E0\u5FCC&#39;</span><span class="token punctuation">;</span>

<span class="token comment">-- \u5220\u9664\u9EC4\u6653\u660E\u548C\u4ED6\u5973\u670B\u53CB\u7684\u4FE1\u606F</span>
<span class="token keyword">delete</span> b<span class="token punctuation">,</span>bo <span class="token keyword">FROM</span> beauty b <span class="token keyword">inner</span> <span class="token keyword">join</span> boys bo <span class="token keyword">on</span> b<span class="token punctuation">.</span>boyfriend_id<span class="token operator">=</span>bo<span class="token punctuation">.</span>id <span class="token keyword">WHERE</span> bo<span class="token punctuation">.</span>boyName<span class="token operator">=</span><span class="token string">&#39;\u9EC4\u6653\u660E&#39;</span><span class="token punctuation">;</span>


<span class="token comment">-- \u65B9\u5F0F\u4E8C\uFF1Atruncate</span>
<span class="token comment">-- \u8BED\u6CD5\uFF1Atruncate table \u8868\u540D;</span>
<span class="token comment">-- \u5220\u9664\u6240\u6709\u6570\u636E</span>
<span class="token keyword">TRUNCATE</span> <span class="token keyword">TABLE</span> boys<span class="token punctuation">;</span>

<span class="token comment">-- delete vs truncate</span>
<span class="token comment">-- 1\u3001delete \u53EF\u4EE5\u52A0where \u6761\u4EF6\uFF0Ctruncate\u4E0D\u80FD\u52A0</span>
<span class="token comment">-- 2\u3001truncate \u5220\u9664\uFF0C\u6548\u7387\u9AD8\u4E00\u70B9</span>
<span class="token comment">-- 3\u3001\u5047\u5982\u8BF4\u8981\u5220\u9664\u7684\u8868\u4E2D\u6709\u81EA\u589E\u957F\u5217\uFF0C\u5982\u679C\u4F7F\u7528delete\u5220\u9664\u540E\uFF0C\u5728\u63D2\u5165\u6570\u636E\uFF0C\u81EA\u589E\u957F\u5217\u7684\u503C\u4E0D\u4F1A\u91CD\u7F6E\uFF0Ctruncate\u4F1A\u91CD\u7F6E</span>
<span class="token comment">-- 4\u3001truncate\u5220\u9664\u6CA1\u6709\u8FD4\u56DE\u503C\uFF0Cdelete \u5220\u9664\u6709\u8FD4\u56DE\u503C</span>
<span class="token comment">-- 5\u3001truncate\u5220\u9664\u4E0D\u80FD\u56DE\u6EDA\uFF0Cdelete\u5220\u9664\u53EF\u4EE5\u56DE\u6EDA</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ddl\u8BED\u8A00\u5B66\u4E60"><a class="header-anchor" href="#ddl\u8BED\u8A00\u5B66\u4E60" aria-hidden="true">#</a> DDL\u8BED\u8A00\u5B66\u4E60</h2><p>DDL\uFF1AData Definition Language \u6570\u636E\u5E93\u5B9A\u4E49\u8BED\u8A00</p><h3 id="\u5E93\u548C\u8868\u7684\u7BA1\u7406"><a class="header-anchor" href="#\u5E93\u548C\u8868\u7684\u7BA1\u7406" aria-hidden="true">#</a> \u5E93\u548C\u8868\u7684\u7BA1\u7406</h3><h3 id="\u6570\u636E\u7C7B\u578B"><a class="header-anchor" href="#\u6570\u636E\u7C7B\u578B" aria-hidden="true">#</a> \u6570\u636E\u7C7B\u578B</h3><p><img src="`+m+'" alt=""></p><p><img src="'+v+'" alt=""></p><p><img src="'+b+'" alt=""></p><p><img src="'+y+'" alt=""></p><p><img src="'+w+'" alt=""></p><p><img src="'+E+'" alt=""></p><p><img src="'+T+`" alt=""></p><h3 id="\u4F7F\u7528-7"><a class="header-anchor" href="#\u4F7F\u7528-7" aria-hidden="true">#</a> \u4F7F\u7528</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">/*
DDL \u6570\u636E\u5B9A\u4E49\u8BED\u8A00
\u5E93\u548C\u8868\u7684\u7BA1\u7406
\u4E00\u3001\u5E93\u7684\u7BA1\u7406
\u521B\u5EFA\u3001\u4FEE\u6539\u3001\u5220\u9664
\u4E8C\u3001\u8868\u7684\u7BA1\u7406
\u521B\u5EFA\u3001\u4FEE\u6539\u3001\u5220\u9664

\u521B\u5EFA\uFF1Acreate
\u4FEE\u6539\uFF1Aalter
\u5220\u9664\uFF1Adrop
*/</span>

<span class="token comment">-- \u5E93\u7684\u521B\u5EFA</span>
<span class="token comment">-- 1\u3001\u5E93\u7684\u521B\u5EFA</span>
<span class="token comment">-- \u8BED\u6CD5\uFF1Acreate database [if not exists] \u5E93\u540D;</span>
<span class="token comment">-- \u6848\u4F8B1 \u521B\u5EFA\u5E93Books</span>
<span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> books<span class="token punctuation">;</span>

<span class="token comment">-- 2\u3001\u5E93\u7684\u4FEE\u6539</span>
<span class="token comment">-- \u66F4\u6539\u5E93\u7684\u5B57\u7B26\u96C6</span>
<span class="token keyword">ALTER</span> <span class="token keyword">DATABASE</span> books <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> gbk<span class="token punctuation">;</span>

<span class="token comment">-- 3\u3001\u5E93\u7684\u5220\u9664</span>
<span class="token keyword">DROP</span> <span class="token keyword">DATABASE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> books<span class="token punctuation">;</span>


<span class="token comment">-- \u4E8C\u3001\u8868\u7684\u7BA1\u7406</span>
<span class="token comment">-- 1\u3001\u8868\u7684\u521B\u5EFA</span>
<span class="token comment">/*
create table \u8868\u540D(
	\u5217\u540D \u5217\u7684\u7C7B\u578B[(\u957F\u5EA6)\u7EA6\u675F],
	\u5217\u540D \u5217\u7684\u7C7B\u578B[(\u957F\u5EA6)\u7EA6\u675F],
	\u5217\u540D \u5217\u7684\u7C7B\u578B[(\u957F\u5EA6)\u7EA6\u675F],
	...
	\u5217\u540D \u5217\u7684\u7C7B\u578B[(\u957F\u5EA6)\u7EA6\u675F]
);
*/</span>

<span class="token comment">-- \u6848\u4F8B\uFF1A\u521B\u5EFA\u8868Book</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> book<span class="token punctuation">(</span>
	id <span class="token keyword">INT</span><span class="token punctuation">,</span><span class="token comment">## \u7F16\u53F7</span>
	bName <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">## \u56FE\u4E66\u540D</span>
	price <span class="token keyword">DOUBLE</span><span class="token punctuation">,</span><span class="token comment">## \u4EF7\u683C</span>
	authorId <span class="token keyword">INT</span><span class="token punctuation">,</span><span class="token comment">## \u4F5C\u8005\u7F16\u53F7</span>
	publishDate <span class="token keyword">DATETIME</span> <span class="token comment">## \u51FA\u7248\u65E5\u671F</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">DESC</span> book<span class="token punctuation">;</span>

<span class="token comment">-- \u6848\u4F8B \u521B\u5EFA\u8868author</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> author<span class="token punctuation">(</span>
	id <span class="token keyword">INT</span><span class="token punctuation">,</span>
	at_name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	nation <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">DESC</span> author<span class="token punctuation">;</span>

<span class="token comment">-- 2\u3001\u8868\u7684\u4FEE\u6539</span>
<span class="token comment">-- ALTER TABLE \u8868\u540D add|drop|modify|change column \u5217\u540D [\u5217\u7C7B\u578B \u7EA6\u675F];</span>
<span class="token comment">-- 1\uFF09\u3001\u4FEE\u6539\u5217\u540D</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> book CHANGE <span class="token keyword">COLUMN</span> publishDate pubDate <span class="token keyword">DATETIME</span><span class="token punctuation">;</span>

<span class="token comment">-- 2\uFF09\u3001\u4FEE\u6539\u5217\u7684\u7C7B\u578B\u6216\u7EA6\u675F</span>
<span class="token comment">-- \u6848\u4F8B\uFF1A\u4FEE\u6539\u8868book\u7684pubDate\u5B57\u6BB5\u7C7B\u578B\u4E3ATIMESTAMP</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> book <span class="token keyword">MODIFY</span> <span class="token keyword">COLUMN</span> pubDate <span class="token keyword">TIMESTAMP</span><span class="token punctuation">;</span>

<span class="token comment">-- 3\uFF09\u3001\u6DFB\u52A0\u65B0\u5217</span>
<span class="token comment">-- \u6848\u4F8B\uFF1A\u7ED9author\u8868\u6DFB\u52A0\u5E74\u85AA\u5217</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> author <span class="token keyword">ADD</span> <span class="token keyword">COLUMN</span> annual <span class="token keyword">DOUBLE</span><span class="token punctuation">;</span>

<span class="token comment">-- 4\uFF09\u3001\u5220\u9664\u5217</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> author <span class="token keyword">DROP</span> <span class="token keyword">COLUMN</span> annual<span class="token punctuation">;</span>

<span class="token comment">-- 5\uFF09\u3001\u4FEE\u6539\u8868\u540D</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> author <span class="token keyword">RENAME</span> <span class="token keyword">TO</span> book_author<span class="token punctuation">;</span>

<span class="token comment">-- 3\u3001\u8868\u7684\u5220\u9664</span>
<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> book_author<span class="token punctuation">;</span>
<span class="token keyword">SHOW</span> <span class="token keyword">TABLES</span><span class="token punctuation">;</span>

<span class="token comment">-- \u901A\u7528\u7684\u5199\u6CD5</span>
<span class="token keyword">DROP</span> <span class="token keyword">DATABASE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> \u65E7\u5E93\u540D<span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> \u65B0\u5E93\u540D<span class="token punctuation">;</span>

<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> \u65E7\u8868\u540D<span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> \u8868\u540D<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 4\u3001\u8868\u7684\u590D\u5236</span>
<span class="token comment">-- 1\uFF09\u3001\u4EC5\u4EC5\u590D\u5236\u8868\u7684\u7ED3\u6784</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> copy <span class="token operator">LIKE</span> author<span class="token punctuation">;</span>
<span class="token comment">-- 2\uFF09\u3001\u590D\u5236\u8868\u7684\u7ED3\u6784+\u6570\u636E</span>
<span class="token keyword">create</span> <span class="token keyword">TABLE</span> copy2 <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> author<span class="token punctuation">;</span>
<span class="token comment">-- 3\uFF09\u3001\u53EA\u590D\u5236\u90E8\u5206\u6570\u636E</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> copy3 <span class="token keyword">SELECT</span> id<span class="token punctuation">,</span>au_name <span class="token keyword">FROM</span> author <span class="token keyword">WHERE</span> nation<span class="token operator">=</span><span class="token string">&#39;\u4E2D\u56FD&#39;</span><span class="token punctuation">;</span>
<span class="token comment">-- 4\uFF09\u3001\u4EC5\u4EC5\u590D\u5236\u67D0\u4E9B\u5B57\u6BB5\uFF08\u53EA\u9700\u8981\u67D0\u4E9B\u5217\u5B57\u6BB5\uFF0C\u4E0D\u9700\u8981\u6570\u636E\uFF09</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> copy4 <span class="token keyword">SELECT</span> id<span class="token punctuation">,</span>author <span class="token keyword">FROM</span> author <span class="token keyword">WHERE</span> <span class="token number">1</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">## \u6307\u5B9A\u5B57\u6BB5\uFF0Cwhere\u4E2D\u7684\u6761\u4EF6\u4E0D\u6210\u7ACB\uFF0C\u5C31\u4E0D\u590D\u5236\u6570\u636E\uFF0C\u4E5F\u53EF\u4EE5\u6539\u6210 WHERE 0\uFF1B</span>

<span class="token comment">-- \u5E38\u89C1\u7684\u6570\u636E\u7C7B\u578B</span>
<span class="token comment">/*
\u6570\u503C\u578B\uFF1A
	\u6574\u6570
	\u5C0F\u6570
		\u5B9A\u70B9\u6570
		\u6D6E\u70B9\u6570
\u5B57\u7B26\u578B
	\u8F83\u77ED\u7684\u6587\u672C char varchar
	\u8F83\u957F\u7684\u6587\u672C text blob(\u8F83\u957F\u7684\u4E8C\u8FDB\u5236\u6570\u636E)
\u65E5\u671F\u578B

*/</span>

<span class="token comment">-- \u4E00\u3001\u6574\u578B</span>
<span class="token comment">/*
\u5206\u7C7B:
	tinyint 1
	smallint 2
	mediumint 3
	int/integer 4
	bigint 8
\u7279\u70B9\uFF1A
1\u3001\u5982\u679C\u4E0D\u8BBE\u7F6E\u65E0\u7B26\u53F7\u8FD8\u662F\u6709\u7B26\u53F7\uFF0C\u5219\u9ED8\u8BA4\u662F\u6709\u7B26\u53F7\uFF0C\u5982\u679C\u60F3\u8BBE\u7F6E\u65E0\u7B26\u53F7\uFF0C\u9700\u8981\u6DFB\u52A0unsigned\u5173\u952E\u5B57
2\u3001\u5982\u679C\u63D2\u5165\u7684\u6570\u503C\u8D85\u51FA\u4E86\u6574\u578B\u7684\u8303\u56F4\uFF0C\u4F1A\u62A5out of range\uFF0C\u5E76\u4E14\u63D2\u5165\u4E34\u754C\u503C
3\u3001\u5982\u679C\u4E0D\u8BBE\u7F6E\u957F\u5EA6\uFF0C\u4F1A\u6709\u9ED8\u8BA4\u7684\u957F\u5EA6
	\u957F\u5EA6\u4EE3\u8868\u4E86\u663E\u793A\u7684\u6700\u5927\u5BBD\u5EA6\uFF0C\u5982\u679C\u4E0D\u591F\u4F1A\u75280\u5728\u5DE6\u8FB9\u586B\u5145\uFF0C\u4F46\u662F\u5FC5\u987B\u642D\u914Dzerofill\u4F7F\u7528
	t1 INT(7) ZEROFILL,## 0000123
*/</span>
<span class="token comment">-- 1\u3001\u5982\u4F55\u8BBE\u7F6E\u65E0\u7B26\u53F7\u548C\u6709\u7B26\u53F7</span>
<span class="token keyword">create</span> <span class="token keyword">TABLE</span> tab_int<span class="token punctuation">(</span>
	t1 <span class="token keyword">INT</span><span class="token punctuation">,</span> <span class="token comment">## \u6709\u7B26\u53F7 \u9ED8\u8BA4</span>
	t2 <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span> <span class="token comment">## \u65E0\u7B26\u53F7 \u5982\u679C\u63D2\u5165\u7684\u503C\u662F\u8D1F\u6570\uFF0C\u5219\u7F6E\u4E3A0</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- \u4E8C\u3001\u5C0F\u6570</span>
<span class="token comment">/*
\u5206\u7C7B\uFF1A
1\u3001\u6D6E\u70B9\u578B
	float(m,d)
	double(m,d)
2\u3001\u5B9A\u70B9\u578B
	dec(m,d)
	decimal(m,d)
\u7279\u70B9\uFF1A
	1\uFF09\u3001m\u548Cd\uFF0Cm\u4EE3\u8868\u6574\u6570\u90E8\u4F4D+\u5C0F\u6570\u90E8\u4F4D\u7684\u957F\u5EA6\uFF1Bd\u4EE3\u8868\u5C0F\u6570\u90E8\u4F4D\u7684\u957F\u5EA6\uFF0C\u5982\u679C\u8D85\u8FC7\u8303\u56F4\u5219\u63D2\u5165\u4E34\u754C\u503C
	2\uFF09\u3001m\u548Cd\u90FD\u53EF\u4EE5\u7701\u7565\uFF0C
		\u5982\u679C\u662Fdecimal\uFF0C\u5219M\u9ED8\u8BA4\u4E3A10\uFF0CD\u9ED8\u8BA4\u4E3A0\uFF0C\u5982\u679C\u8D85\u8FC7\u4E86\u5219\u63D2\u5165\u4E34\u754C\u503C\uFF1B
		\u5982\u679C\u662Ffloat \u6216\u8005 double\uFF0C\u5219\u4F1A\u6839\u636E\u63D2\u5165\u7684\u6570\u503C\u7684\u7CBE\u5EA6\u6765\u51B3\u5B9A\u7CBE\u5EA6\uFF0C\u4E5F\u5C31\u662F\u53EA\u8981\u4E0D\u8D85\u51FA\u5B83\u7684\u9650\u5B9A\u7684\u8303\u56F4\u5C31\u53EF\u4EE5
	3\uFF09\u3001decimal\u5B9A\u70B9\u578B\u7684\u7CBE\u5EA6\u8F83\u9AD8\uFF0C\u5982\u679C\u8981\u6C42\u63D2\u5165\u7684\u6570\u503C\u7CBE\u5EA6\u8F83\u9AD8\u5982\u8D27\u5E01\u8FD0\u7B97

*/</span>

<span class="token comment">-- \u6570\u636E\u7C7B\u578B\u9009\u62E9\u539F\u5219\uFF1A</span>
<span class="token comment">/*
\u6240\u9009\u62E9\u7684\u7C7B\u578B\u8D8A\u7B80\u5355\u8D8A\u597D\uFF0C\u80FD\u4FDD\u5B58\u6570\u503C\u7684\u7C7B\u578B\u8D8A\u5C0F\u8D8A\u597D
*/</span>

<span class="token comment">-- \u4E09\u3001\u5B57\u7B26\u578B</span>
<span class="token comment">/*
\u8F83\u77ED\u7684\u6587\u672C
	char
	varchar
	\u5176\u4ED6\uFF1A
		binary\u548Cvarbinary\u7528\u4E8E\u4FDD\u5B58\u8F83\u77ED\u7684\u4E8C\u8FDB\u5236
		enum\u7528\u4E8E\u4FDD\u5B58\u679A\u4E3E\u7684
		set\u7528\u4E8E\u4FDD\u5B58\u96C6\u5408
\u8F83\u957F\u7684\u6587\u672C
	text
	blob(\u8F83\u5927\u7684\u4E8C\u8FDB\u5236)

\u7279\u70B9\uFF1A
					\u5199\u6CD5							M\u7684\u610F\u601D													\u7279\u70B9						\u7A7A\u95F4\u7684\u8017\u8D39		\u6548\u7387
char			char(M)					\u6700\u5927\u7684\u5B57\u7B26\u6570\uFF0C\u53EF\u4EE5\u7701\u7565\uFF0C\u9ED8\u8BA4\u4E3A1			\u56FA\u5B9A\u957F\u5EA6\u7684\u5B57\u7B26		\u6BD4\u8F83\u8017\u8D39			\u9AD8
varchar		varchar(M)			\u6700\u5927\u7684\u5B57\u7B26\u6570											\u53EF\u53D8\u957F\u5EA6\u7684\u5B57\u7B26		\u6BD4\u8F83\u8282\u7701			\u4F4E

*/</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> tab_char<span class="token punctuation">(</span>
	c1 <span class="token keyword">ENUM</span><span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;b&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;c&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;d&#39;</span><span class="token punctuation">)</span> <span class="token comment">## \u679A\u4E3E\u7C7B\u578B</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tab_char <span class="token keyword">VALUE</span><span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">## \u6B63\u5E38\u63D2\u5165</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tab_char <span class="token keyword">VALUE</span><span class="token punctuation">(</span><span class="token string">&#39;A&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">## \u6B63\u5E38\u63D2\u5165</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tab_char <span class="token keyword">VALUE</span><span class="token punctuation">(</span><span class="token string">&#39;m&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">## \u62A5\u8B66\u544A\uFF0C\u63D2\u5165\u5931\u8D25\uFF0C\u4E3A\u7A7A\u503C</span>

<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> tab_set<span class="token punctuation">(</span>
	c1 <span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;b&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;c&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;d&#39;</span><span class="token punctuation">)</span> <span class="token comment">## \u679A\u4E3E\u7C7B\u578B</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tab_set <span class="token keyword">VALUE</span><span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">## \u6B63\u5E38\u63D2\u5165</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tab_set <span class="token keyword">VALUE</span><span class="token punctuation">(</span><span class="token string">&#39;a,b&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">## \u6B63\u5E38\u63D2\u5165</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tab_set <span class="token keyword">VALUE</span><span class="token punctuation">(</span><span class="token string">&#39;A,B&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">## \u6B63\u5E38\u63D2\u5165</span>

<span class="token comment">-- \u56DB\u3001\u65E5\u671F\u578B</span>
<span class="token comment">/*
\u5206\u7C7B
	date \u53EA\u4FDD\u5B58\u65E5\u671F
	time \u53EA\u4FDD\u5B58\u65F6\u95F4
	year \u53EA\u4FDD\u5B58\u5E74
	datetime \u4FDD\u5B58\u65E5\u671F+\u65F6\u95F4
	timestamp \u4FDD\u5B58\u65E5\u671F+\u65F6\u95F4
\u7279\u70B9\uFF1A
										\u5B57\u8282						\u8303\u56F4								\u65F6\u533A\u7B49\u7684\u5F71\u54CD
	datetime					8							1000~9999					\u4E0D\u53D7
	timestamp					4							1970~2038					\u53D7
*/</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> tab_date<span class="token punctuation">(</span>
	t1 <span class="token keyword">datetime</span><span class="token punctuation">,</span>
	t2 <span class="token keyword">TIMESTAMP</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tab_date <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">SHOW</span> VARIABLES <span class="token operator">LIKE</span> <span class="token string">&#39;time_zone&#39;</span><span class="token punctuation">;</span> <span class="token comment">## \u67E5\u8BE2\u6570\u636E\u5E93\u65F6\u533A</span>

<span class="token keyword">SET</span> time_zone<span class="token operator">=</span><span class="token string">&#39;+9:00&#39;</span><span class="token punctuation">;</span> <span class="token comment">## \u8BBE\u7F6E\u6570\u636E\u5E93\u7684\u65F6\u533A</span>

<span class="token comment">-- \u5E38\u89C1\u7684\u7EA6\u675F</span>
<span class="token comment">/*
\u542B\u4E49\uFF1A\u4E00\u79CD\u9650\u5236\uFF0C\u7528\u4E8E\u9650\u5236\u8868\u4E2D\u7684\u6570\u636E\uFF0C\u4E3A\u4E86\u4FDD\u8BC1\u8868\u4E2D\u7684\u6570\u636E\u51C6\u786E\u548C\u53EF\u9760\u6027
\u5206\u7C7B\uFF1A\u516D\u5927\u7EA6\u675F
	not null \u975E\u7A7A\u7EA6\u675F\uFF0C\u7528\u4E8E\u4FDD\u8BC1\u8BE5\u5B57\u6BB5\u7684\u503C\u4E0D\u80FD\u4E3A\u7A7A
		\u6BD4\u5982\u59D3\u540D\u3001\u5B66\u53F7\u7B49
	default \u9ED8\u8BA4\uFF0C\u7528\u4E8E\u4FDD\u8BC1\u8BE5\u5B57\u6BB5\u6709\u9ED8\u8BA4\u503C
		\u6BD4\u5982\u6027\u522B
	primary key \u4E3B\u952E\uFF0C\u7528\u4E8E\u4FDD\u8BC1\u8BE5\u5B57\u6BB5\u7684\u503C\u5177\u6709\u552F\u4E00\u6027\uFF0C\u5E76\u4E14\u975E\u7A7A
		\u6BD4\u5982\u5B66\u53F7\u3001\u5458\u5DE5\u7F16\u53F7
	unique \u552F\u4E00\uFF0C\u7528\u4E8E\u4FDD\u8BC1\u8BE5\u5B57\u6BB5\u7684\u503C\u5177\u6709\u552F\u4E00\u6027\uFF0C\u53EF\u4EE5\u4E3A\u7A7A
		\u6BD4\u5982\u5EA7\u4F4D\u53F7
	check \u68C0\u67E5\u7EA6\u675F[mysql\u4E2D\u4E0D\u652F\u6301]
		\u6BD4\u5982\u5E74\u9F84\u3001\u6027\u522B
	foreign key \u5916\u952E\uFF0C\u7528\u4E8E\u9650\u5236\u4E24\u4E2A\u8868\u7684\u5173\u7CFB\uFF0C\u7528\u4E8E\u4FDD\u8BC1\u8BE5\u5B57\u6BB5\u7684\u503C\u5FC5\u987B\u6765\u81EA\u4E8E\u4E3B\u8868\u5173\u8054\u5217\u7684\u503C
		\u5728\u4ECE\u8868\u6DFB\u52A0\u5916\u952E\u7EA6\u675F\uFF0C\u7528\u4E8E\u5F15\u7528\u4E3B\u8868\u4E2D\u67D0\u5217\u7684\u503C
		\u6BD4\u5982\u5B66\u751F\u8868\u7684\u4E13\u4E1A\u7F16\u53F7\u3001\u5458\u5DE5\u8868\u7684\u90E8\u95E8\u7F16\u53F7\u3001\u5458\u5DE5\u8868\u7684\u5DE5\u79CD\u7F16\u53F7
\u6DFB\u52A0\u7EA6\u675F\u7684\u65F6\u673A\uFF1A
	1\u3001\u521B\u5EFA\u8868\u65F6
	2\u3001\u4FEE\u6539\u8868\u65F6
\u7EA6\u675F\u6DFB\u52A0\u7684\u5206\u7C7B\uFF1A
	\u5217\u7EA7\u7EA6\u675F
		\u516D\u5927\u7EA6\u675F\u8BED\u6CD5\u4E0A\u90FD\u652F\u6301\uFF0C\u4F46\u5916\u952E\u7EA6\u675F\u6CA1\u6709\u6548\u679C
	\u8868\u7EA7\u7EA6\u675F
		\u9664\u4E86\u975E\u7A7A\u3001\u9ED8\u8BA4\uFF0C\u5176\u4ED6\u7684\u90FD\u652F\u6301

\u4E3B\u952E\u548C\u552F\u4E00\u7684\u5927\u5BF9\u6BD4\uFF1A
									\u4FDD\u8BC1\u552F\u4E00\u6027				\u662F\u5426\u5141\u8BB8\u4E3A\u7A7A				\u4E00\u4E2A\u8868\u4E2D\u53EF\u4EE5\u6709\u591A\u5C11\u4E2A		\u662F\u5426\u5141\u8BB8\u7EC4\u5408\uFF08\u591A\u4E2A\u5217\u7EC4\u5408\u6210\u4E00\u4E2A\u4E3B\u952E|\u552F\u4E00\uFF09
	\u4E3B\u952E							\u662F								\u4E0D\u5141\u8BB8							\u81F3\u591A\u67091\u4E2A							\u5141\u8BB8\uFF0C\u4F46\u4E0D\u63A8\u8350
	\u552F\u4E00							\u662F								\u5141\u8BB8\uFF08\u53EA\u6709\u4E00\u4E2A\uFF09			\u53EF\u4EE5\u6709\u591A\u4E2A						\u5141\u8BB8\uFF0C\u4F46\u4E0D\u63A8\u8350
\u5916\u952E\uFF1A
	1\u3001\u8981\u6C42\u5728\u4ECE\u8868\u4E0A\u8BBE\u7F6E\u5173\u7CFB
	2\u3001\u4ECE\u8868\u7684\u5916\u952E\u5217\u7684\u7C7B\u578B\u548C\u4E3B\u8868\u7684\u4E3B\u952E\u5217\u7684\u7C7B\u578B\u5FC5\u987B\u4E00\u81F4\u6216\u8005\u517C\u5BB9\uFF0C\u540D\u79F0\u65E0\u8981\u6C42
	3\u3001\u4E3B\u8868\u7684\u5173\u8054\u5217\u5FC5\u987B\u662F\u4E00\u4E2Akey(\u4E00\u822C\u662F\u4E3B\u952E\u6216\u552F\u4E00)
	4\u3001\u63D2\u5165\u6570\u636E\u65F6\uFF0C\u5148\u63D2\u5165\u4E3B\u8868\uFF0C\u5728\u63D2\u5165\u4ECE\u8868\uFF1B\u5220\u9664\u6570\u636E\u65F6\uFF0C\u5148\u5220\u9664\u4ECE\u8868\uFF0C\u5728\u5220\u9664\u4E3B\u8868
*/</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> \u8868\u540D<span class="token punctuation">(</span>
	\u5B57\u6BB5\u540D \u5B57\u6BB5\u7C7B\u578B \u7EA6\u675F<span class="token punctuation">,</span>
	\u5B57\u6BB5\u540D \u5B57\u6BB5\u7C7B\u578B<span class="token punctuation">,</span>
	\u8868\u7EA7\u7EA6\u675F
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- \u4E00\u3001\u521B\u5EFA\u8868\u65F6\u6DFB\u52A0\u7EA6\u675F</span>
<span class="token comment">-- 1\u3001\u6DFB\u52A0\u5217\u7EA7\u7EA6\u675F</span>
<span class="token comment">/*
\u8BED\u6CD5\uFF1A
	\u76F4\u63A5\u5728\u5B57\u6BB5\u540D\u548C\u7C7B\u578B\u540E\u9762\u8FFD\u52A0\u7EA6\u675F\u7C7B\u578B\u5373\u53EF
	\u652F\u6301\uFF1A\u9ED8\u8BA4\u3001\u975E\u7A7A\u3001\u4E3B\u952E\u3001\u552F\u4E00
*/</span>
<span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> students<span class="token punctuation">;</span>
<span class="token keyword">USE</span> students<span class="token punctuation">;</span>

<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> major<span class="token punctuation">(</span>
	id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
	majorName <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> stuinfo<span class="token punctuation">(</span>
	id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span><span class="token comment">## \u4E3B\u952E</span>
	stuName <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token comment">## \u975E\u7A7A\uFF0Cmysql\u4E0D\u652F\u6301</span>
	gender <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">CHECK</span><span class="token punctuation">(</span>gender<span class="token operator">=</span><span class="token string">&#39;\u7537&#39;</span> <span class="token operator">or</span> gender<span class="token operator">=</span><span class="token string">&#39;\u5973&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">,</span><span class="token comment">## \u68C0\u67E5</span>
	seat <span class="token keyword">INT</span> <span class="token keyword">UNIQUE</span><span class="token punctuation">,</span><span class="token comment">## \u5EA7\u4F4D \u552F\u4E00</span>
	age <span class="token keyword">INT</span> <span class="token keyword">DEFAULT</span> <span class="token number">18</span><span class="token punctuation">,</span><span class="token comment">## \u9ED8\u8BA4\u7EA6\u675F</span>
	majorId <span class="token keyword">INT</span> <span class="token keyword">REFERENCES</span> major<span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token comment">## \u5916\u952E</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">DESC</span> students<span class="token punctuation">.</span>sutinfo<span class="token punctuation">;</span>
<span class="token comment">## \u67E5\u770Bstuinfo\u8868\u4E2D\u7684\u6240\u6709\u7684\u7D22\u5F15\uFF0C\u5305\u62EC\u4E3B\u952E\u3001\u5916\u952E\u3001\u552F\u4E00</span>
<span class="token keyword">SHOW</span> <span class="token keyword">INDEX</span> <span class="token keyword">FROM</span> students<span class="token punctuation">.</span>sutinfo<span class="token punctuation">;</span>

<span class="token comment">-- 2\u3001\u6DFB\u52A0\u8868\u7EA7\u7EA6\u675F</span>
<span class="token comment">/*
\u8BED\u6CD5\uFF1A\u5728\u5404\u4E2A\u5B57\u6BB5\u7684\u6700\u4E0B\u9762
[constraint \u7EA6\u675F\u540D] \u7EA6\u675F\u7C7B\u578B(\u5B57\u6BB5\u540D)
*/</span>
<span class="token comment">-- \u4EC0\u4E48\u65F6\u5019\u7528\u5217\u7EA7\u7EA6\u675F\uFF0C\u4EC0\u4E48\u65F6\u5019\u7528\u8868\u7EA7\u7EA6\u675F\uFF1F</span>
<span class="token comment">-- \u901A\u7528\u7684\u5199\u6CD5</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> stuinfo<span class="token punctuation">(</span>
	id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
	stuname <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
	gender <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	age <span class="token keyword">INT</span> <span class="token keyword">DEFAULT</span> <span class="token number">18</span><span class="token punctuation">,</span>
	seat <span class="token keyword">INT</span> <span class="token keyword">UNIQUE</span><span class="token punctuation">,</span>
	majorId <span class="token keyword">INT</span><span class="token punctuation">,</span>
	<span class="token keyword">CONSTRAINT</span> fk_stuinfo_major <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>majorId<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> major<span class="token punctuation">(</span>id<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">if</span> <span class="token keyword">EXISTS</span> stuinfo<span class="token punctuation">;</span>

<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> stuinfo<span class="token punctuation">(</span>
	id <span class="token keyword">INT</span><span class="token punctuation">,</span>
	stuname <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	gender <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	seat <span class="token keyword">INT</span><span class="token punctuation">,</span>
	age <span class="token keyword">INT</span><span class="token punctuation">,</span>
	majorId <span class="token keyword">INT</span><span class="token punctuation">,</span>
	<span class="token keyword">CONSTRAINT</span> pk <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">#\u4E3B\u952E</span>
	<span class="token keyword">CONSTRAINT</span> uq <span class="token keyword">UNIQUE</span><span class="token punctuation">(</span>seat<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">## \u552F\u4E00\u503C</span>
	<span class="token keyword">CONSTRAINT</span> ck <span class="token keyword">CHECK</span><span class="token punctuation">(</span>gender<span class="token operator">=</span><span class="token string">&#39;\u7537&#39;</span> <span class="token operator">or</span> gender<span class="token operator">=</span><span class="token string">&#39;\u5973&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">## \u68C0\u67E5\u7EA6\u675F MySQL\u4E0D\u652F\u6301</span>
	<span class="token keyword">CONSTRAINT</span> fk_stuinfo_major <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>majorId<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> major<span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token comment">## \u5916\u952E</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> stuinfo<span class="token punctuation">(</span>
	id <span class="token keyword">INT</span><span class="token punctuation">,</span>
	stuname <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	gender <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	seat <span class="token keyword">INT</span><span class="token punctuation">,</span>
	age <span class="token keyword">INT</span><span class="token punctuation">,</span>
	majorId <span class="token keyword">INT</span><span class="token punctuation">,</span>
	<span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">#\u4E3B\u952E</span>
	<span class="token keyword">UNIQUE</span><span class="token punctuation">(</span>seat<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">## \u552F\u4E00\u503C</span>
	<span class="token keyword">CHECK</span><span class="token punctuation">(</span>gender<span class="token operator">=</span><span class="token string">&#39;\u7537&#39;</span> <span class="token operator">or</span> gender<span class="token operator">=</span><span class="token string">&#39;\u5973&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">## \u68C0\u67E5\u7EA6\u675F MySQL\u4E0D\u652F\u6301</span>
	<span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>majorId<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> major<span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token comment">## \u5916\u952E</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> stuinfo<span class="token punctuation">(</span>
	id <span class="token keyword">INT</span><span class="token punctuation">,</span>
	stuname <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	gender <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	seat <span class="token keyword">INT</span><span class="token punctuation">,</span>
	seat1 <span class="token keyword">INT</span><span class="token punctuation">,</span>
	age <span class="token keyword">INT</span><span class="token punctuation">,</span>
	majorId <span class="token keyword">INT</span><span class="token punctuation">,</span>
	<span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">\`</span>name<span class="token punctuation">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">#\u7EC4\u5408\u4E3B\u952E</span>
	<span class="token keyword">UNIQUE</span><span class="token punctuation">(</span>seat<span class="token punctuation">,</span>seat1<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">## \u552F\u4E00\u503C</span>
	<span class="token keyword">CHECK</span><span class="token punctuation">(</span>gender<span class="token operator">=</span><span class="token string">&#39;\u7537&#39;</span> <span class="token operator">or</span> gender<span class="token operator">=</span><span class="token string">&#39;\u5973&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">## \u68C0\u67E5\u7EA6\u675F MySQL\u4E0D\u652F\u6301</span>
	<span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>majorId<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> major<span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token comment">## \u5916\u952E</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">-- \u4E8C\u3001\u4FEE\u6539\u8868\u65F6\u6DFB\u52A0\u7EA6\u675F</span>
<span class="token comment">/*
1\u3001\u6DFB\u52A0\u5217\u7EA7\u7EA6\u675F
ALTER TABLE \u8868\u540D MODIFY COLUMN \u5B57\u6BB5\u540D \u5B57\u6BB5\u7C7B\u578B \u65B0\u7EA6\u675F;
2\u3001\u6DFB\u52A0\u8868\u7EA7\u7EA6\u675F
ALTER TABLE \u8868\u540D ADD [CONSTRAINT \u7EA6\u675F\u540D] \u7EA6\u675F\u7C7B\u578B(\u5B57\u6BB5\u540D) [\u5916\u952E\u5F15\u7528]
*/</span>
<span class="token comment">-- 1\u3001\u6DFB\u52A0\u975E\u7A7A\u7EA6\u675F</span>
<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">if</span> <span class="token keyword">EXISTS</span> stuinfo<span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> stuinfo<span class="token punctuation">(</span>
	id <span class="token keyword">INT</span><span class="token punctuation">,</span>
	stuname <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	gender <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	seat <span class="token keyword">INT</span><span class="token punctuation">,</span>
	age <span class="token keyword">INT</span><span class="token punctuation">,</span>
	majorId <span class="token keyword">INT</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> stuinfo <span class="token keyword">MODIFY</span> <span class="token keyword">COLUMN</span> stuname <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>
<span class="token comment">-- 2\u3001\u6DFB\u52A0\u9ED8\u8BA4\u7EA6\u675F</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> stuinfo <span class="token keyword">MODIFY</span> <span class="token keyword">COLUMN</span> age <span class="token keyword">INT</span> <span class="token keyword">DEFAULT</span> <span class="token number">18</span><span class="token punctuation">;</span>
<span class="token comment">-- 3\u3001\u6DFB\u52A0\u4E3B\u952E</span>
<span class="token comment">## \u5217\u7EA7\u7EA6\u675F</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> stuinfo <span class="token keyword">MODIFY</span> <span class="token keyword">COLUMN</span> id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">;</span> 
<span class="token comment">## \u8868\u7EA7\u7EA6\u675F</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> stuinfo <span class="token keyword">ADD</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
<span class="token comment">-- 4\u3001\u6DFB\u52A0\u552F\u4E00\u952E</span>
<span class="token comment">## \u5217\u7EA7\u7EA6\u675F</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> stuinfo <span class="token keyword">MODIFY</span> <span class="token keyword">COLUMN</span> seat <span class="token keyword">INT</span> <span class="token keyword">UNIQUE</span><span class="token punctuation">;</span>
<span class="token comment">## \u8868\u7EA7\u7EA6\u675F</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> stuinfo <span class="token keyword">ADD</span> <span class="token keyword">UNIQUE</span><span class="token punctuation">(</span>seat<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- 5\u3001\u6DFB\u52A0\u5916\u952E</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> stuinfo <span class="token keyword">ADD</span> <span class="token punctuation">[</span><span class="token keyword">CONSTRAINT</span> fk_stuinfo_major<span class="token punctuation">]</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>majorId<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> major<span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">DESC</span> stuinfo<span class="token punctuation">;</span>

<span class="token comment">-- \u4E09\u3001\u4FEE\u6539\u8868\u65F6\u5220\u9664\u7EA6\u675F</span>

<span class="token comment">-- 1\u3001\u5220\u9664\u975E\u7A7A\u7EA6\u675F</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> stuinfo <span class="token keyword">MODIFY</span> <span class="token keyword">COLUMN</span> stuname <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">## \u8BBE\u7F6E\u4E3A\u539F\u6765\u7684\u9ED8\u8BA4</span>
<span class="token comment">-- 2\u3001\u5220\u9664\u9ED8\u8BA4\u7EA6\u675F</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> stuinfo <span class="token keyword">MODIFY</span> <span class="token keyword">COLUMN</span> age <span class="token keyword">INT</span><span class="token punctuation">;</span> <span class="token comment">## \u4E0D\u52A0\u5C31\u662F\u4F7F\u7528\u9ED8\u8BA4</span>
<span class="token comment">-- 3\u3001\u5220\u9664\u4E3B\u952E</span>
<span class="token comment">## \u5217\u7EA7\u7EA6\u675F</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> stuinfo <span class="token keyword">MODIFY</span> <span class="token keyword">COLUMN</span> id <span class="token keyword">INT</span><span class="token punctuation">;</span>
<span class="token comment">## \u8868\u7EA7\u7EA6\u675F</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> stuinfo <span class="token keyword">DROP</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">;</span>
<span class="token comment">-- 4\u3001\u5220\u9664\u552F\u4E00</span>
<span class="token comment">## \u5217\u7EA7\u7EA6\u675F</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> stuinfo <span class="token keyword">MODIFY</span> <span class="token keyword">COLUMN</span> seat <span class="token keyword">INT</span><span class="token punctuation">;</span>
<span class="token comment">## \u8868\u7EA7\u7EA6\u675F</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> stuinfo <span class="token keyword">DROP</span> <span class="token keyword">INDEX</span> seat<span class="token punctuation">;</span>
<span class="token keyword">SHOW</span> <span class="token keyword">INDEX</span> <span class="token keyword">FROM</span> stuinfo<span class="token punctuation">;</span><span class="token comment">## \u67E5\u8BE2\u552F\u4E00\u952E</span>
<span class="token comment">-- 5\u3001\u5220\u9664\u5916\u952E</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> stuinfo <span class="token keyword">DROP</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> majorId<span class="token punctuation">;</span>

<span class="token comment">/*
\u5217\u7EA7\u7EA6\u675F\u4E0E\u8868\u7EA7\u7EA6\u675F\u5F02\u540C
								\u4F4D\u7F6E							\u652F\u6301\u7684\u7EA6\u675F\u7C7B\u578B\uFF08\u53BB\u9664\u4E86\u68C0\u67E5\u7EA6\u675F\uFF09					\u662F\u5426\u53EF\u4EE5\u8D77\u7EA6\u675F\u540D
\u5217\u7EA7\u7EA6\u675F					\u5217\u7684\u540E\u9762					\u8BED\u6CD5\u4E0A\u90FD\u652F\u6301\uFF0C\u4F46\u5916\u952E\u6CA1\u6709\u6548\u679C							\u4E0D\u53EF\u4EE5
\u8868\u7EA7\u7EA6\u675F					\u6240\u6709\u5217\u7684\u540E\u9762			\u9ED8\u8BA4\u548C\u975E\u7A7A\u4E0D\u652F\u6301\uFF0C\u5176\u4ED6\u90FD\u652F\u6301							\u53EF\u4EE5\uFF08\u4E3B\u952E\u6CA1\u6709\u6548\u679C\uFF09

*/</span>

<span class="token comment">-- \u6807\u8BC6\u5217</span>
<span class="token comment">/*
\u53C8\u79F0\u4E3A\u81EA\u589E\u957F\u5217
\u542B\u4E49\uFF1A\u53EF\u4EE5\u4E0D\u7528\u624B\u52A8\u7684\u63D2\u5165\u503C\uFF0C\u7CFB\u7EDF\u63D0\u4F9B\u9ED8\u8BA4\u7684\u5E8F\u5217\u503C
\u7279\u70B9\uFF1A
1\u3001\u6807\u8BC6\u5217\u5FC5\u987B\u548C\u4E3B\u952E\u642D\u914D\u5417\uFF1F\u4E0D\u4E00\u5B9A\uFF0C\u4F46\u8981\u6C42\u662F\u4E00\u4E2Akey
2\u3001\u4E00\u4E2A\u8868\u4E2D\u53EF\u4EE5\u6709\u591A\u5C11\u4E2A\u6807\u8BC6\u5217\uFF1F\u53EA\u6709\u4E00\u4E2A
3\u3001\u6807\u8BC6\u5217\u7684\u7C7B\u578B\u662F\u5426\u6709\u9650\u5236\uFF1F\u53EA\u80FD\u662F\u6570\u503C\u7C7B\u578B
4\u3001\u6807\u8BC6\u5217\u53EF\u4EE5\u901A\u8FC7set auto_increment_increment=3;\u8BBE\u7F6E\u6B65\u957F
	\u53EF\u4EE5\u901A\u8FC7\u624B\u52A8\u63D2\u5165\u503C\u7684\u65F6\u5019\u8BBE\u7F6E\u521D\u59CB\u503C
*/</span>

<span class="token comment">-- \u4E00\u3001\u521B\u5EFA\u8868\u65F6\u8BBE\u7F6E\u6807\u8BC6\u5217</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> tab_identity<span class="token punctuation">(</span>
	id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
	<span class="token identifier"><span class="token punctuation">\`</span>name<span class="token punctuation">\`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tab_identity <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token string">&#39;john&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tab_identity<span class="token punctuation">(</span>id<span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">\`</span>name<span class="token punctuation">\`</span></span><span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token string">&#39;john&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tab_identity<span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">\`</span>name<span class="token punctuation">\`</span></span><span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;john&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">SHOW</span> VARIABLES <span class="token operator">LIKE</span> <span class="token string">&#39;%auto_increment%&#39;</span><span class="token punctuation">;</span><span class="token comment">## \u67E5\u8BE2\u81EA\u589E\u957F\u5F00\u59CB\u548C\u6B65\u957F\uFF0Cmysql\u4E0D\u652F\u6301\u8BBE\u7F6E\u8D77\u59CB\u503C\uFF0C\u4F46\u662F\u652F\u6301\u8BBE\u7F6E\u6B65\u957F</span>
<span class="token comment">## \u53EF\u4EE5\u901A\u8FC7\u63D2\u5165\u7B2C\u4E00\u4E2A\u7684\u65F6\u5019\u8BBE\u7F6E1000\uFF0C\u7136\u540E\u4E4B\u540E\u63D2\u5165\u7684\u90FD\u4F7F\u7528null\u4F1A\u81EA\u52A8\u4ECE1000\u5F00\u59CB\u8BA1\u7B97</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tab_identity<span class="token punctuation">(</span>id<span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">\`</span>name<span class="token punctuation">\`</span></span><span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span><span class="token string">&#39;john&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- \u4E8C\u3001\u4FEE\u6539\u8868\u65F6\u8BBE\u7F6E\u6807\u8BC6\u5217</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> tab_identity <span class="token keyword">MODIFY</span> <span class="token keyword">COLUMN</span> id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> AUTO_INREMENT<span class="token punctuation">;</span>

<span class="token comment">-- \u4E09\u3001\u4FEE\u6539\u8868\u65F6\u5220\u9664\u6807\u8BC6\u5217</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> tab_identity <span class="token keyword">MODIFY</span> <span class="token keyword">COLUMN</span> id <span class="token keyword">INT</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u7EC3\u4E60-7"><a class="header-anchor" href="#\u7EC3\u4E60-7" aria-hidden="true">#</a> \u7EC3\u4E60</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">--  \u5411\u8868emp2\u7684id\u5217\u4E2D\u6DFB\u52A0primary key\u7EA6\u675F\uFF08my_emp_id_pk\uFF09</span>
<span class="token comment">## \u5217\u7EA7\u7EA6\u675F\uFF08\u4E0D\u652F\u6301\u81EA\u5B9A\u4E49\u540D\u5B57\uFF09</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> emp2 <span class="token keyword">MODIFY</span> <span class="token keyword">COLUMN</span> id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">;</span>
<span class="token comment">## \u8868\u7EA7\u7EA6\u675F</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> emp2 <span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span> my_emp_id_pk <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- \u5411\u8868dept2\u7684id\u5217\u4E2D\u6DFB\u52A0primary key\u7EA6\u675F\uFF08my_dept_id_pk\uFF09</span>
<span class="token comment">## \u5217\u7EA7\u7EA6\u675F\uFF08\u4E0D\u652F\u6301\u81EA\u5B9A\u4E49\u540D\u5B57\uFF09</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> dept2 <span class="token keyword">MODIFY</span> <span class="token keyword">COLUMN</span> id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">;</span>
<span class="token comment">## \u8868\u7EA7\u7EA6\u675F</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> dept2 <span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span> my_dept_id_pk <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- \u5411\u8868emp2\u4E2D\u6DFB\u52A0\u5217 dept_id\uFF0C\u5E76\u5728\u5176\u4E2D\u5B9A\u4E49foreign key\u7EA6\u675F\uFF0C\u4E0E\u4E4B\u76F8\u5173\u8054\u7684\u5217\u662Fdept2\u8868\u4E2D\u7684id\u5217</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> emp2 <span class="token keyword">ADD</span> <span class="token keyword">COLUMN</span> dept_id <span class="token keyword">INT</span><span class="token punctuation">;</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> emp2 <span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span> fk_emp2_dept2 <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>dept_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> dept2<span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="tcl\u5B66\u4E60"><a class="header-anchor" href="#tcl\u5B66\u4E60" aria-hidden="true">#</a> TCL\u5B66\u4E60</h2><p>TCL\uFF1ATransaction Control Language \u4E8B\u52A1\u63A7\u5236\u8BED\u8A00</p><h3 id="\u5B58\u50A8\u5F15\u64CE"><a class="header-anchor" href="#\u5B58\u50A8\u5F15\u64CE" aria-hidden="true">#</a> \u5B58\u50A8\u5F15\u64CE</h3><p>\u5728mysql\u4E2D\u7684\u6570\u636E\u7528\u5404\u79CD\u4E0D\u540C\u7684\u6280\u672F\u5B58\u50A8\u5728\u6587\u4EF6\uFF08\u5185\u5B58\uFF09\u4E2D</p><p>\u901A\u8FC7<code>show engines;</code>\u6765\u67E5\u770BMySQL\u652F\u6301\u7684\u5B58\u50A8\u5F15\u64CE</p><p>\u5728MySQL\u4E2D\u7528\u7684\u6700\u591A\u7684\u5B58\u50A8\u5F15\u64CE\u6709\uFF1Ainnodb\u3001myisam\u3001memory\u7B49\uFF0C\u5176\u4E2Dinnodb\u652F\u6301\u4E8B\u52A1\uFF0Cmyisam\u3001memory\u7B49\u4E0D\u652F\u6301\u4E8B\u52A1</p><h3 id="\u4E8B\u52A1\u7684acid\u5C5E\u6027"><a class="header-anchor" href="#\u4E8B\u52A1\u7684acid\u5C5E\u6027" aria-hidden="true">#</a> \u4E8B\u52A1\u7684ACID\u5C5E\u6027</h3><p>\u539F\u5B50\u6027\uFF08Atomicity\uFF09\uFF1A\u539F\u5B50\u6027\u662F\u6307\u4E8B\u52A1\u662F\u4E00\u4E2A\u4E0D\u53EF\u5206\u5272\u7684\u5DE5\u4F5C\u5355\u4F4D\uFF0C\u4E8B\u52A1\u4E2D\u7684\u64CD\u4F5C\u8981\u4E48\u90FD\u53D1\u751F\uFF0C\u8981\u4E48\u90FD\u4E0D\u53D1\u751F</p><p>\u4E00\u81F4\u6027\uFF08Consistency\uFF09\uFF1A\u4E8B\u52A1\u5FC5\u987B\u4F7F\u6570\u636E\u5E93\u4ECE\u4E00\u4E2A\u4E00\u81F4\u6027\u72B6\u6001\u53D8\u6362\u5230\u53E6\u5916\u4E00\u4E2A\u4E00\u81F4\u6027\u72B6\u6001</p><p>\u9694\u79BB\u6027\uFF08Isolation\uFF09\uFF1A\u4E8B\u52A1\u7684\u9694\u79BB\u6027\u662F\u6307\u4E00\u4E2A\u4E8B\u52A1\u7684\u6267\u884C\u4E0D\u80FD\u88AB\u5176\u4ED6\u4E8B\u52A1\u5E72\u6270\uFF0C\u5373\u4E00\u4E2A\u4E8B\u52A1\u5185\u90E8\u7684\u64CD\u4F5C\u53CA\u4F7F\u7528\u7684\u6570\u636E\u5BF9\u5E76\u53D1\u7684\u5176\u4ED6\u4E8B\u52A1\u662F\u9694\u79BB\u7684\uFF0C\u5E76\u53D1\u6267\u884C\u7684\u5404\u4E2A\u4E8B\u52A1\u4E4B\u95F4\u4E0D\u80FD\u4E92\u76F8\u5E72\u6270</p><p>\u6301\u4E45\u6027\uFF08Durability\uFF09\uFF1A\u6C38\u4E45\u6027\u662F\u6307\u4E00\u4E2A\u4E8B\u52A1\u4E00\u65E6\u88AB\u63D0\u4EA4\uFF0C\u4ED6\u5BF9\u6570\u636E\u5E93\u7684\u6570\u636E\u7684\u6539\u53D8\u662F\u6C38\u4E45\u6027\u7684\uFF0C\u63A5\u4E0B\u6765\u7684\u5176\u4ED6\u64CD\u4F5C\u548C\u6570\u636E\u5E93\u6545\u969C\u4E0D\u5E94\u8BE5\u5BF9\u5176\u4ED6\u6709\u4EFB\u4F55\u5F71\u54CD</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- TCL\u8BED\u8A00</span>
<span class="token comment">/*
Transaction Control Language \u4E8B\u52A1\u63A7\u5236\u8BED\u8A00
\u4E8B\u52A1\uFF1A
\u4E00\u4E2A\u6216\u8005\u4E00\u7EC4sql\u8BED\u53E5\u7EC4\u6210\u4E00\u4E2A\u6267\u884C\u5355\u5143\uFF0C\u8FD9\u4E2A\u6267\u884C\u5355\u5143\u8981\u4E48\u5168\u90E8\u6267\u884C\uFF0C\u8981\u4E48\u5168\u90E8\u4E0D\u6267\u884C
\u6848\u4F8B\uFF1A\u8F6C\u8D26
\u5F20\u4E09\u4E30	1000
\u90ED\u8944		1000

UPDATE \u8868 set \u5F20\u4E09\u4E30\u7684\u4F59\u989D=500 where name=&#39;\u5F20\u4E09\u4E30&#39;;
\u610F\u5916
UPDATE \u8868 set \u90ED\u8944\u7684\u4F59\u989D=1500 where name=&#39;\u90ED\u8944&#39;;

\u5B89\u88C5\u8F6F\u4EF6\uFF1A\u56DE\u6EDA\uFF0C\u628A\u521A\u624D\u7684\u6267\u884C\u7684\u64CD\u4F5C\u56DE\u9000\u5230\u5F00\u59CB\u4F4D\u7F6E

\u4E8B\u52A1\u7684\u521B\u5EFA

\u9690\u65F6\u4E8B\u52A1\uFF1A\u4E8B\u52A1\u6CA1\u6709\u660E\u663E\u7684\u5F00\u542F\u548C\u7ED3\u675F\u7684\u6807\u8BB0
\u6BD4\u5982\uFF1Ainsert update delete\u8BED\u53E5

\u663E\u5F0F\u4E8B\u52A1\uFF1A\u4E8B\u52A1\u5177\u6709\u660E\u663E\u7684\u5F00\u542F\u548C\u7ED3\u675F\u7684\u6807\u8BB0
\u524D\u63D0\uFF1A\u5FC5\u987B\u5148\u8BBE\u7F6E\u81EA\u52A8\u63D0\u4EA4\u529F\u80FD\u4E3A\u7981\u7528

\u6B65\u9AA41\uFF1A\u5F00\u542F\u4E8B\u52A1
set autocommit=0;
start TRANSACTION;## \u53EF\u9009
\u6B65\u9AA42\uFF1A\u7F16\u5199\u4E8B\u52A1\u4E2D\u7684sql\u8BED\u53E5(SELECT\u3001INSERT\u3001UPDATE\u3001DELETE)
\u8BED\u53E51
\u8BED\u53E52
...
\u6B65\u9AA43\uFF1A\u7ED3\u675F\u4E8B\u52A1
commint; #\u63D0\u4EA4\u4E8B\u52A1
rollback; #\u56DE\u6EDA\u4E8B\u52A1

savepoint \u8282\u70B9\u540D; \u8BBE\u7F6E\u4FDD\u5B58\u70B9

\u4E8B\u52A1\u7684\u9694\u79BB\u7EA7\u522B\uFF1A\uFF08\u221A\u8868\u793A\u4E0D\u5B58\u5728\u8BE5\u79CD\u60C5\u51B5\uFF09
													\u810F\u8BFB							\u4E0D\u53EF\u91CD\u590D\u8BFB					\u5E7B\u8BFB
read uncommintted					\xD7								\xD7									\xD7
read committed						\u221A								\xD7									\xD7
repeatable read						\u221A								\u221A									\xD7
serializable							\u221A								\u221A									\u221A

mysql \u4E2D\u9ED8\u8BA4\u662Frepeatable read\uFF0COracle\u9ED8\u8BA4\u662F read committed
\u67E5\u770B\u9694\u79BB\u7EA7\u522B
	select @@tx_isolation
\u8BBE\u7F6E\u9694\u79BB\u7EA7\u522B
	set session|global transaction isolation level \u9694\u79BB\u7EA7\u522B;
*/</span>
 
<span class="token keyword">SHOW</span> ENGINES<span class="token punctuation">;</span>

<span class="token keyword">SHOW</span> VARIABLES <span class="token operator">LIKE</span> <span class="token string">&quot;%autocommit%&quot;</span><span class="token punctuation">;</span> <span class="token comment">## on</span>

<span class="token keyword">SET</span> autocommit<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">## \u5173\u95ED\u4E8B\u52A1\uFF0C\u53EA\u9488\u5BF9\u5F53\u524D\u7684\u4F1A\u8BDD\u6709\u6548</span>

<span class="token comment">-- \u6F14\u793A\u4E8B\u52A1\u7684\u4F7F\u7528\u6B65\u9AA4</span>
<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> account<span class="token punctuation">;</span>

<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> account<span class="token punctuation">(</span>
	id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
	username <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	balance <span class="token keyword">DOUBLE</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> account<span class="token punctuation">(</span>username<span class="token punctuation">,</span>balance<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;\u5F20\u4E09\u4E30&#39;</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">&#39;\u90ED\u8944&#39;</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- \u5173\u95ED\u81EA\u52A8\u63D0\u4EA4</span>
<span class="token keyword">SET</span> autocommit<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
<span class="token comment">-- \u5F00\u59CB\u4E8B\u52A1\uFF08\u53EF\u4EE5\u4E0D\u7528\u5199\uFF0C\u9ED8\u8BA4\u81EA\u52A8\u5F00\u59CB\uFF09</span>
<span class="token keyword">START</span> <span class="token keyword">TRANSACTION</span><span class="token punctuation">;</span>
<span class="token comment">-- \u7F16\u5199sql\u8BED\u53E5</span>
<span class="token keyword">UPDATE</span> account <span class="token keyword">SET</span> balance <span class="token operator">=</span> <span class="token number">500</span> <span class="token keyword">WHERE</span> username<span class="token operator">=</span><span class="token string">&#39;\u5F20\u4E09\u4E30&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">UPDATE</span> account <span class="token keyword">SET</span> balance <span class="token operator">=</span> <span class="token number">1500</span> <span class="token keyword">WHERE</span> username<span class="token operator">=</span><span class="token string">&#39;\u90ED\u8944&#39;</span><span class="token punctuation">;</span>
<span class="token comment">-- \u7ED3\u675F\u4E8B\u52A1</span>
<span class="token keyword">COMMIT</span><span class="token punctuation">;</span>

<span class="token comment">-- 3\u3001\u6F14\u793Asavepoint\u7684\u4F7F\u7528</span>
<span class="token keyword">SET</span> autocommit<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">START</span> <span class="token keyword">TRANSACTION</span><span class="token punctuation">;</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> account <span class="token keyword">WHERE</span> id<span class="token operator">=</span><span class="token number">25</span><span class="token punctuation">;</span>
<span class="token keyword">SAVEPOINT</span> a<span class="token punctuation">;</span> <span class="token comment">## \u8BBE\u7F6E\u4FDD\u5B58\u70B9</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> account <span class="token keyword">WHERE</span> id<span class="token operator">=</span><span class="token number">28</span><span class="token punctuation">;</span>
<span class="token keyword">ROLLBACK</span> <span class="token keyword">TO</span> a<span class="token punctuation">;</span> <span class="token comment">## \u56DE\u6EDA\u5230a\u8FD9\u4E2A\u4FDD\u5B58\u70B9</span>

 <span class="token comment">-- 3\u3001\u6F14\u793Asavepoint\u7684\u4F7F\u7528</span>
<span class="token keyword">SET</span> autocommit<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">START</span> <span class="token keyword">TRANSACTION</span><span class="token punctuation">;</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> account <span class="token keyword">WHERE</span> id<span class="token operator">=</span><span class="token number">25</span><span class="token punctuation">;</span>
<span class="token keyword">SAVEPOINT</span> a<span class="token punctuation">;</span> <span class="token comment">## \u8BBE\u7F6E\u4FDD\u5B58\u70B9</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> account <span class="token keyword">WHERE</span> id<span class="token operator">=</span><span class="token number">28</span><span class="token punctuation">;</span>
<span class="token keyword">ROLLBACK</span> <span class="token keyword">TO</span> a<span class="token punctuation">;</span> <span class="token comment">## \u56DE\u6EDA\u5230a\u8FD9\u4E2A\u4FDD\u5B58\u70B9</span>

<span class="token comment">-- delete \u548C truncate \u5728\u4E8B\u52A1\u4F7F\u7528\u65F6\u7684\u533A\u522B</span>
<span class="token comment">-- \u6F14\u793Adelete\uFF0C\u53EF\u4EE5\u56DE\u6EDA</span>
<span class="token keyword">SET</span> autocommit <span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">START</span> <span class="token keyword">TRANSACTION</span><span class="token punctuation">;</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> account<span class="token punctuation">;</span>
<span class="token keyword">ROLLBACK</span><span class="token punctuation">;</span>
<span class="token comment">-- \u6F14\u793Atruncate\uFF0C\u4E0D\u80FD\u56DE\u6EDA</span>
<span class="token keyword">SET</span> autocommit<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">START</span> <span class="token keyword">TRANSACTION</span><span class="token punctuation">;</span>
<span class="token keyword">TRUNCATE</span> account<span class="token punctuation">;</span>
<span class="token keyword">ROLLBACK</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u6570\u636E\u5E93\u7684\u9694\u79BB\u7EA7\u522B"><a class="header-anchor" href="#\u6570\u636E\u5E93\u7684\u9694\u79BB\u7EA7\u522B" aria-hidden="true">#</a> \u6570\u636E\u5E93\u7684\u9694\u79BB\u7EA7\u522B</h3><p>\u5BF9\u4E8E\u540C\u65F6\u8FD0\u884C\u7684\u591A\u4E2A\u4E8B\u52A1\uFF0C\u5F53\u8FD9\u4E9B\u4E8B\u52A1\u8BBF\u95EE\u6570\u636E\u5E93\u4E2D\u76F8\u540C\u7684\u6570\u636E\u65F6\uFF0C\u5982\u679C\u6CA1\u6709\u91C7\u53D6\u5FC5\u8981\u7684\u9694\u79BB\u673A\u5236\uFF0C\u5C31\u4F1A\u5BFC\u81F4\u5404\u79CD\u5E76\u53D1\u95EE\u9898\uFF1A</p><ul><li>\u810F\u8BFB\uFF1A\u5BF9\u4E8E\u4E24\u4E2A\u4E8B\u52A1T1\u3001T2\uFF0CT1\u8BFB\u53D6\u4E86\u5DF2\u7ECF\u88ABT2\u66F4\u65B0\u4F46\u8FD8\u6CA1\u6709\u88AB\u63D0\u4EA4\u7684\u5B57\u6BB5\uFF0C\u4E4B\u540E\uFF0C\u82E5T2\u56DE\u6EDA\uFF0CT1\u8BFB\u53D6\u7684\u5185\u5BB9\u5C31\u662F\u4E34\u65F6\u4E14\u65E0\u6548\u7684\u3002\uFF08\u8BFB\u672A\u63D0\u4EA4\uFF09</li><li>\u4E0D\u53EF\u91CD\u590D\u8BFB\uFF1A\u5BF9\u4E24\u4E2A\u4E8B\u52A1T1\u3001T2\uFF0CT1\u8BFB\u53D6\u4E86\u4E00\u4E2A\u5B57\u6BB5\uFF0C\u7136\u540ET2\u66F4\u65B0\u4E86\u8BE5\u5B57\u6BB5\u4E4B\u540E\uFF0CT1\u518D\u6B21\u8BFB\u53D6\u540C\u4E00\u4E2A\u5B57\u6BB5\uFF0C\u503C\u5C31\u4E0D\u540C\u4E86</li><li>\u5E7B\u8BFB\uFF1A\u5BF9\u4E8E\u4E24\u4E2A\u4E8B\u52A1T1\u3001T2\uFF0CT1\u4ECE\u4E00\u4E2A\u8868\u4E2D\u8BFB\u53D6\u4E86\u4E00\u4E2A\u5B57\u6BB5\uFF0C\u7136\u540ET2\u5728\u8BE5\u8868\u4E2D\u63D2\u5165\u4E86\u4E00\u4E9B\u65B0\u7684\u884C\uFF0C\u4E4B\u540E\uFF0C\u5982\u679CT1\u518D\u6B21\u8BFB\u53D6\u540C\u4E00\u4E2A\u8868\uFF0C\u5C31\u4F1A\u591A\u51FA\u51E0\u884C</li></ul><h4 id="\u6570\u636E\u5E93\u63D0\u4F9B\u56DB\u79CD\u4E8B\u52A1\u9694\u79BB\u7EA7\u522B"><a class="header-anchor" href="#\u6570\u636E\u5E93\u63D0\u4F9B\u56DB\u79CD\u4E8B\u52A1\u9694\u79BB\u7EA7\u522B" aria-hidden="true">#</a> \u6570\u636E\u5E93\u63D0\u4F9B\u56DB\u79CD\u4E8B\u52A1\u9694\u79BB\u7EA7\u522B</h4><p><img src="`+R+'" alt=""></p><ul><li>read uncommint\u3001 read commit \u548C repeatable read\u662F\u884C\u9501\uFF0C\u4E3B\u8981\u662F\u9488\u5BF9\u66F4\u65B0\u6570\u636E</li><li>serializable \u662F\u8868\u9501\uFF0C\u4E3B\u8981\u662F\u9488\u5BF9\u63D2\u5165\u548C\u5220\u9664\u6570\u636E</li></ul><p><img src="'+N+'" alt=""></p><p>\u8981\u9A8C\u8BC1\u4E8B\u52A1\u7684\u9694\u79BB\u6027\uFF0C\u53EF\u4EE5\u5F00\u542F\u4E24\u4E2A\u63A7\u5236\u53F0\u8FDE\u63A5\u5230\u6570\u636E\uFF0C\u7136\u540E\u8BBE\u7F6E\u4E8B\u52A1\u9694\u79BB\u7EA7\u522B\uFF0C\u4E4B\u540E\u8BBE\u7F6E\u81EA\u52A8\u63D0\u4EA4\u4E3A0\uFF0C\u7136\u540E\u5F00\u542F\u4E8B\u52A1\uFF0C\u7F16\u5199\u8BED\u53E5\uFF0C\u4E0B\u9762\u8BBE\u7F6E\u4E8B\u52A1\u9694\u79BB\u7EA7\u522B\u662F\u4E24\u4E2A\u7EC8\u7AEF\u90FD\u8BBE\u7F6E</p><ul><li>\u8BFB\u672A\u63D0\u4EA4\uFF08read uncommintted\uFF09\u6D4B\u8BD5\uFF1A\u8BBE\u7F6E\u4E8B\u52A1\u9694\u79BB\u7EA7\u522B\u4E3A<code>read uncommitted</code>\uFF0C\u7136\u540E\u66F4\u65B0\u6570\u636E\u4F46\u4E0D\u63D0\u4EA4\u4E8B\u52A1\uFF0C\u901A\u8FC7\u53E6\u4E00\u4E2A\u7EC8\u7AEF\u67E5\u770B\uFF0C\u53EF\u4EE5\u770B\u5230\u5F53\u524D\u5DF2\u7ECF\u66F4\u65B0\u4E86\u6570\u636E</li><li>\u8BFB\u5DF2\u63D0\u4EA4\uFF08read committed\uFF09\u6D4B\u8BD5\uFF1A\u8BBE\u7F6E\u4E8B\u52A1\u9694\u79BB\u7EA7\u522B\u4E3A<code>read committed</code>\uFF0C\u7136\u540E\u66F4\u65B0\u6570\u636E\u4F46\u4E0D\u63D0\u4EA4\u4E8B\u52A1\uFF0C\u901A\u8FC7\u53E6\u4E00\u4E2A\u7EC8\u7AEF\u67E5\u770B\uFF0C\u4E0D\u53EF\u4EE5\u770B\u5230\u5F53\u524D\u5DF2\u7ECF\u66F4\u65B0\u4E86\u6570\u636E\uFF0C\u4F46\u662F\u5F53\u6211\u4EEC\u63D0\u4EA4\u4E8B\u52A1\u4E4B\u540E\uFF0C\u901A\u8FC7\u53E6\u4E00\u4E2A\u7EC8\u7AEF\u53EF\u4EE5\u770B\u5230\u66F4\u65B0\u7684\u6570\u636E\u4E86</li><li>\u53EF\u91CD\u590D\u8BFB\uFF08repeatable read\uFF09\u6D4B\u8BD5\uFF1A\u8BBE\u7F6E\u4E8B\u52A1\u9694\u79BB\u7EA7\u522B\u4E3A<code>repeatable read</code>\uFF0C\u7136\u540E\u5728\u53E6\u4E00\u4E2A\u7EC8\u7AEF\u4E2D\u5148\u67E5\u8BE2\u6570\u636E\uFF0C\u7136\u540E\u5728\u672C\u7EC8\u7AEF\u4E2D\u66F4\u65B0\u6570\u636E\u5E76\u63D0\u4EA4\u6570\u636E\uFF0C\u5728\u53E6\u4E00\u4E2A\u7EC8\u7AEF\u4E2D\u518D\u6B21\u67E5\u8BE2\u6570\u636E\uFF0C\u4E0E\u524D\u4E00\u6B21\u67E5\u8BE2\u7684\u6570\u636E\u4E00\u822C\u65E0\u4E8C\uFF0C\u6CA1\u6709\u53D1\u751F\u53D8\u5316</li><li>\u4E32\u884C\u5316\uFF08serializable\uFF09\uFF1A\u8BBE\u7F6E\u4E8B\u52A1\u9694\u79BB\u7EA7\u522B\u4E3A<code>serializable</code>\uFF0C\u7136\u540E\u5F00\u542F\u4E8B\u52A1\uFF0C\u63D2\u5165\u6570\u636E\uFF0C\u5F53\u6211\u4EEC\u6CA1\u6709\u63D0\u4EA4\u4E8B\u52A1\u7684\u65F6\u5019\uFF0C\u4F7F\u7528\u53E6\u4E00\u4E2A\u7EC8\u7AEF\u67E5\u8BE2\u6570\u636E\uFF0C\u4F1A\u7B49\u5F85\u5728\u5F53\u524D\u754C\u9762\uFF0C\u76F4\u5230\u6211\u4EEC\u5728\u672C\u7EC8\u7AEF\u63D0\u4EA4\u4E86\u4E8B\u52A1</li></ul><p>\u4E8B\u52A1\u9700\u8981\u4F7F\u7528\u5230\u7684\u547D\u4EE4\uFF1A</p><ul><li>\u67E5\u770B\u4E8B\u52A1\u9694\u79BB\u7EA7\u522B\uFF1A<code>select @@tx_isolation;</code></li><li>\u8BBE\u7F6E\u4E8B\u52A1\u9694\u79BB\u7EA7\u522B\uFF1A<code>set session transaction isolation level read uncommitted;</code>\uFF0C\u8BBE\u7F6E\u4E8B\u52A1\u9694\u79BB\u7EA7\u522B\u4E3A\u8BFB\u672A\u63D0\u4EA4</li><li>\u8BBE\u7F6E\u4E8B\u52A1\u9694\u79BB\u7EA7\u522B\uFF1A<code>set global transaction isolation level read committed</code></li><li>\u8BBE\u7F6E\u7F16\u7801\u96C6\uFF1A<code>set names gbk;</code></li></ul><h2 id="\u89C6\u56FE"><a class="header-anchor" href="#\u89C6\u56FE" aria-hidden="true">#</a> \u89C6\u56FE</h2><h3 id="\u6982\u5FF5-1"><a class="header-anchor" href="#\u6982\u5FF5-1" aria-hidden="true">#</a> \u6982\u5FF5</h3><p><img src="'+_+'" alt=""></p><p><img src="'+L+`" alt=""></p><h3 id="\u4F7F\u7528-8"><a class="header-anchor" href="#\u4F7F\u7528-8" aria-hidden="true">#</a> \u4F7F\u7528</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- \u89C6\u56FE</span>
<span class="token comment">/*
\u542B\u4E49\uFF1A\u865A\u62DF\u7684\u8868\uFF0C\u548C\u666E\u901A\u8868\u4E00\u6837\u7684\u4F7F\u7528\u3002
\u884C\u548C\u5217\u7684\u6570\u636E\u6765\u81EA\u5B9A\u4E49\u89C6\u56FE\u7684\u67E5\u8BE2\u4E2D\u4F7F\u7528\u7684\u8868\uFF0C\u5E76\u4E14\u662F\u5728\u4F7F\u7528\u89C6\u56FE\u65F6\u52A8\u6001\u751F\u6210\u7684\uFF0C\u89C6\u56FE\u53EA\u4FDD\u5B58\u4E86sql\u903B\u8F91\uFF0C\u5F53\u9700\u8981\u4F7F\u7528\u7684\u65F6\u5019\uFF0C\u5728\u901A\u8FC7\u67E5\u8BE2\u7684sql\u8BED\u53E5\u53BB\u52A8\u6001\u751F\u6210\u3002
mysql 5.1\u7248\u672C\u51FA\u73B0\u7684\u65B0\u7279\u6027\uFF0C\u662F\u901A\u8FC7\u8868\u52A8\u6001\u751F\u6210\u7684\u6570\u636E\u3002

\u6BD4\u5982\uFF1A\u4E2D\u5B66\u5206\u597D\u591A\u73ED\u7EA7\uFF08\u6BCF\u4E2A\u73ED\u548C\u666E\u901A\u8868\u4E00\u6837\uFF09\uFF0C\u4F46\u662F\u6709\u4E00\u5929\u6559\u80B2\u5C40\u9886\u5BFC\u8FC7\u6765\u89C6\u5BDF\uFF0C\u4E3A\u4E86\u5E94\u4ED8\u9886\u5BFC\u89C6\u5BDF\uFF0C\u6821\u957F\u5C31\u8BF4\uFF0C\u628A\u5E74\u7EA7\u91CC\u6210\u7EE9\u597D\u7684\u5B66\u751F\u4E34\u65F6\u62FC\u6210\u4E00\u4E2A\u73ED\uFF08\u89C6\u56FE\uFF09
\uFF0C\u8BA9\u9886\u5BFC\u53BB\u89C6\u5BDF\u8FD9\u4E2A\u73ED\u7EA7\uFF0C\u4E4B\u540E\uFF0C\u7B49\u9886\u5BFC\u8D70\u4E86\u4E4B\u540E\uFF0C\u89E3\u6563\u8FD9\u4E2A\u73ED\u7EA7\u3002

\u89C6\u56FE\u7684\u597D\u5904\uFF1A
	\u91CD\u7528sql\u8BED\u53E5
	\u7B80\u5316\u590D\u6742\u7684sql\u64CD\u4F5C\uFF0C\u4E0D\u5FC5\u77E5\u9053\u5B83\u7684\u67E5\u8BE2\u7EC6\u8282
	\u4FDD\u62A4\u6570\u636E\uFF0C\u63D0\u9AD8\u5B89\u5168\u6027\uFF08\u4E2D\u56FD\u79FB\u52A8\u8981\u4FDD\u62A4\u7528\u6237\u7684\u624B\u673A\u7528\u6237\u4FE1\u606F\uFF0C\u4F46\u662F\u548C\u5176\u4ED6\u7684\u5916\u5305\u5408\u4F5C\u7684\u5F00\u53D1\u7684\u65F6\u5019\uFF0C\u9700\u8981\u63D0\u4F9B\u624B\u673A\u53F7\u548C\u7528\u6237\u540D\uFF0C\u4F46\u662F\u4E0D\u60F3\u63D0\u4F9B\u5176\u4ED6\u7684\u4FE1\u606F\uFF0C\u8FD9\u4E2A\u65F6\u5019\u5C31\u53EF\u4EE5\u4F7F\u7528\u89C6\u56FE\uFF09
	
\u89C6\u56FE\u548C\u8868\u7684\u6BD4\u8F83
						\u521B\u5EFA\u8BED\u6CD5\u7684\u5173\u952E\u5B57						\u662F\u5426\u5B9E\u9645\u5360\u7528\u7269\u7406\u7A7A\u95F4				\u4F7F\u7528
\u89C6\u56FE					create view							\u53EA\u662F\u4FDD\u5B58\u4E86sql\u7684\u903B\u8F91				\u589E\u5220\u6539\u67E5\uFF0C\u53EA\u662F\u4E00\u822C\u4E0D\u80FD\u589E\u5220\u6539
\u8868						create table						\u4FDD\u5B58\u4E86\u6570\u636E								\u589E\u5220\u6539\u67E5
*/</span>

<span class="token comment">-- \u6848\u4F8B\uFF1A\u67E5\u8BE2\u59D3\u5F20\u7684\u5B66\u751F\u540D\u548C\u4E13\u4E1A\u540D</span>
<span class="token keyword">SELECT</span> stuname<span class="token punctuation">,</span>majorname <span class="token keyword">FROM</span> stuinfo s <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> major m <span class="token keyword">ON</span> s<span class="token punctuation">.</span>majorId<span class="token operator">=</span>m<span class="token punctuation">.</span>id <span class="token keyword">WHERE</span> s<span class="token punctuation">.</span>stuname <span class="token operator">LIKE</span> <span class="token string">&#39;\u5F20%&#39;</span><span class="token punctuation">;</span>
<span class="token comment">## \u521B\u5EFA\u89C6\u56FE</span>
<span class="token keyword">CREATE</span> <span class="token keyword">VIEW</span> v1 <span class="token keyword">AS</span> 
<span class="token keyword">SELECT</span> stuname<span class="token punctuation">,</span>majorname <span class="token keyword">FROM</span> stuinfo s <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> major m <span class="token keyword">ON</span> s<span class="token punctuation">.</span>majorId<span class="token operator">=</span>m<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
<span class="token comment">## \u4F7F\u7528\u89C6\u56FE</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> v1 <span class="token keyword">WHERE</span> stuname <span class="token operator">LIKE</span> <span class="token string">&#39;\u5F20%&#39;</span><span class="token punctuation">;</span>

<span class="token comment">-- \u4E00\u3001\u521B\u5EFA\u89C6\u56FE</span>
<span class="token comment">/*
\u8BED\u6CD5\uFF1A
CREATE VIEW \u89C6\u56FE\u540D
AS
\u67E5\u8BE2\u8BED\u53E5
*/</span>
<span class="token keyword">USE</span> myemployees<span class="token punctuation">;</span>
<span class="token comment">-- \u6848\u4F8B\uFF1A\u67E5\u8BE2\u59D3\u540D\u4E2D\u5305\u542Ba\u5B57\u7B26\u7684\u5458\u5DE5\u540D\u3001\u90E8\u95E8\u540D\u548C\u5DE5\u79CD\u4FE1\u606F</span>
<span class="token comment">-- \u521B\u5EFA</span>
<span class="token keyword">CREATE</span> <span class="token keyword">VIEW</span> myv1
<span class="token keyword">AS</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>department_name<span class="token punctuation">,</span>job_title <span class="token keyword">FROM</span>
employees<span class="token punctuation">,</span>departments<span class="token punctuation">,</span>jobs
<span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>department_id<span class="token operator">=</span>departments<span class="token punctuation">.</span>department_id <span class="token operator">AND</span> employees<span class="token punctuation">.</span>job_id<span class="token operator">=</span>jobs<span class="token punctuation">.</span>job_id<span class="token punctuation">;</span>
<span class="token comment">-- \u4F7F\u7528</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> myv1 <span class="token keyword">WHERE</span> last_name <span class="token operator">LIKE</span> <span class="token string">&#39;%a%&#39;</span><span class="token punctuation">;</span>

<span class="token comment">-- \u6848\u4F8B \u67E5\u8BE2\u5404\u90E8\u95E8\u7684\u5E73\u5747\u5DE5\u8D44\u7EA7\u522B</span>
<span class="token comment">-- \u521B\u5EFA\u89C6\u56FE \u67E5\u770B\u6BCF\u4E2A\u90E8\u95E8\u7684\u5E73\u5747\u5DE5\u8D44</span>
<span class="token keyword">CREATE</span> <span class="token keyword">VIEW</span> myv2
<span class="token keyword">AS</span>
<span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> ag<span class="token punctuation">,</span>department_id <span class="token keyword">FROM</span> employees <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id<span class="token punctuation">;</span>
<span class="token comment">-- \u4F7F\u7528</span>
<span class="token keyword">SELECT</span> myv2<span class="token punctuation">.</span>ag<span class="token punctuation">,</span>g<span class="token punctuation">.</span>grade_level <span class="token keyword">FROM</span> myv2 <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> job_grades g <span class="token keyword">ON</span> ag <span class="token operator">BETWEEN</span> g<span class="token punctuation">.</span>lowest_sal <span class="token operator">AND</span> g<span class="token punctuation">.</span>highest_sal<span class="token punctuation">;</span>

<span class="token comment">-- \u4E8C\u3001\u89C6\u56FE\u7684\u4FEE\u6539</span>
<span class="token comment">-- \u65B9\u5F0F\u4E00\uFF1A</span>
<span class="token comment">/*
CREATE OR REPLACE VIEW \u89C6\u56FE\u540D
AS
\u67E5\u8BE2\u8BED\u53E5;
*/</span>
<span class="token keyword">CREATE</span> <span class="token operator">OR</span> <span class="token keyword">REPLACE</span> <span class="token keyword">VIEW</span> myv2
<span class="token keyword">AS</span>
<span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> ag<span class="token punctuation">,</span>department_id <span class="token keyword">FROM</span> employees <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id<span class="token punctuation">;</span>
<span class="token comment">-- \u65B9\u5F0F\u4E8C</span>
<span class="token comment">/*
\u8BED\u6CD5
ALTER VIEW \u89C6\u56FE\u540D
AS
\u67E5\u8BE2\u8BED\u53E5;
*/</span>
<span class="token keyword">ALTER</span> <span class="token keyword">VIEW</span> myv2
<span class="token keyword">AS</span>
<span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> ag<span class="token punctuation">,</span>department_id <span class="token keyword">FROM</span> employees <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id<span class="token punctuation">;</span>

<span class="token comment">-- \u4E09\u3001\u5220\u9664\u89C6\u56FE</span>
<span class="token comment">/*
\u8BED\u6CD5\uFF1Adrop view \u89C6\u56FE\u540D,\u89C6\u56FE\u540D,...;
*/</span>
<span class="token keyword">DROP</span> <span class="token keyword">VIEW</span> myv2<span class="token punctuation">;</span>

<span class="token comment">-- \u56DB\u3001 \u67E5\u770B\u89C6\u56FE</span>
<span class="token keyword">DESC</span> myv2<span class="token punctuation">;</span>
<span class="token keyword">SHOW</span> <span class="token keyword">CREATE</span> <span class="token keyword">VIEW</span> myv2<span class="token punctuation">;</span>

<span class="token comment">-- \u4E94\u3001\u89C6\u56FE\u7684\u66F4\u65B0\uFF08\u66F4\u6539\u89C6\u56FE\u4E2D\u7684\u6570\u636E\uFF09</span>
<span class="token keyword">CREATE</span> <span class="token operator">OR</span> <span class="token keyword">REPLACE</span> <span class="token keyword">VIEW</span> myv1
<span class="token keyword">AS</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>email<span class="token punctuation">,</span>salary<span class="token operator">*</span><span class="token number">12</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">+</span>IFNULL<span class="token punctuation">(</span>commission_pct<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token string">&quot;annual salary&quot;</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>

<span class="token keyword">CREATE</span> <span class="token operator">OR</span> <span class="token keyword">REPLACE</span> <span class="token keyword">VIEW</span> myv2
<span class="token keyword">AS</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>email <span class="token string">&quot;annual salary&quot;</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
<span class="token comment">-- 1\u3001\u63D2\u5165\u6570\u636E</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> myv1 <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;\u5F20\u98DE&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;zf@qq.com&#39;</span><span class="token punctuation">,</span><span class="token number">1000000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">## \u62A5\u76EE\u6807\u7684\u8BED\u6CD5\u4E0D\u80FD\u66F4\u65B0\uFF0C\u6362\u4E00\u4E2A\u80FD\u66F4\u65B0\u7684</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> myv2 <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;\u5F20\u98DE&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;zf@qq.com&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">## \u4E5F\u4F1A\u63D2\u5165\u5230\u539F\u59CB\u8868\u4E2D</span>

<span class="token comment">-- 2\u3001\u4FEE\u6539</span>
<span class="token keyword">UPDATE</span> myv2 <span class="token keyword">SET</span> last_name <span class="token operator">=</span><span class="token string">&#39;\u5F20\u65E0\u5FCC&#39;</span> <span class="token keyword">WHERE</span> last_name<span class="token operator">=</span><span class="token string">&#39;\u5F20\u98DE&#39;</span><span class="token punctuation">;</span> <span class="token comment">## \u4E5F\u4F1A\u66F4\u65B0\u5230\u539F\u59CB\u8868\u4E2D</span>

<span class="token comment">-- 3\u3001\u5220\u9664</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> myv2 <span class="token keyword">WHERE</span> last_name<span class="token operator">=</span><span class="token string">&#39;\u5F20\u65E0\u5FCC&#39;</span><span class="token punctuation">;</span> <span class="token comment">## \u4E5F\u4F1A\u5220\u9664\u539F\u59CB\u8868\u4E2D\u7684\u6570\u636E</span>

<span class="token comment">/*
\u5177\u5907\u4EE5\u4E0B\u7279\u70B9\u7684\u89C6\u56FE\u65F6\u4E0D\u5141\u8BB8\u66F4\u65B0\u7684
	\u5305\u542B\u4EE5\u4E0B\u5173\u952E\u5B57\u7684SQL\u8BED\u53E5\uFF1A\u5206\u7EC4\u51FD\u6570\u3001distinct\u3001group by\u3001having\u3001union\u6216\u8005union all
	\u5E38\u91CF\u89C6\u56FE
	select \u4E2D\u5305\u542B\u5B50\u67E5\u8BE2
	join
	from\u4E00\u4E2A\u4E0D\u80FD\u66F4\u65B0\u7684\u89C6\u56FE
	where\u5B50\u53E5\u7684\u5B50\u67E5\u8BE2\u5F15\u7528\u4E86from\u5B50\u53E5\u4E2D\u7684\u8868
*/</span>
<span class="token comment">-- \u5305\u542B\u4EE5\u4E0B\u5173\u952E\u5B57\u7684SQL\u8BED\u53E5\uFF1A\u5206\u7EC4\u51FD\u6570\u3001distinct\u3001group by\u3001having\u3001union\u6216\u8005union all</span>
<span class="token keyword">CREATE</span> <span class="token operator">OR</span> <span class="token keyword">replace</span> <span class="token keyword">VIEW</span> myv1
<span class="token keyword">AS</span>
<span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> m<span class="token punctuation">,</span>department_id
<span class="token keyword">FROM</span> employees <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id<span class="token punctuation">;</span>
<span class="token comment">## \u66F4\u65B0\u5931\u8D25</span>
<span class="token keyword">UPDATE</span> myv1 <span class="token keyword">SET</span> m<span class="token operator">=</span><span class="token number">900</span> <span class="token keyword">WHERE</span> department_id<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">;</span>

<span class="token comment">-- \u5E38\u91CF\u89C6\u56FE</span>
<span class="token keyword">CREATE</span> <span class="token operator">OR</span> <span class="token keyword">replace</span> <span class="token keyword">VIEW</span> myv1
<span class="token keyword">AS</span>
<span class="token keyword">SELECT</span> <span class="token string">&#39;john&#39;</span> <span class="token identifier"><span class="token punctuation">\`</span>name<span class="token punctuation">\`</span></span><span class="token punctuation">;</span>
<span class="token comment">## \u66F4\u65B0\u5931\u8D25</span>
<span class="token keyword">UPDATE</span> myv1 <span class="token keyword">SET</span> <span class="token identifier"><span class="token punctuation">\`</span>name<span class="token punctuation">\`</span></span><span class="token operator">=</span><span class="token string">&#39;lacy&#39;</span><span class="token punctuation">;</span>

<span class="token comment">-- select \u4E2D\u5305\u542B\u5B50\u67E5\u8BE2</span>
<span class="token keyword">CREATE</span> <span class="token operator">OR</span> <span class="token keyword">replace</span> <span class="token keyword">VIEW</span> myv1
<span class="token keyword">AS</span>
<span class="token keyword">SELECT</span> department_id<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token function">max</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">)</span> \u6700\u9AD8\u5DE5\u8D44 <span class="token keyword">FROM</span> departments<span class="token punctuation">;</span>
<span class="token comment">## \u66F4\u65B0\u5931\u8D25</span>
<span class="token keyword">UPDATE</span> myv1 <span class="token keyword">SET</span> \u6700\u9AD8\u5DE5\u8D44<span class="token operator">=</span><span class="token number">100000</span><span class="token punctuation">;</span>

<span class="token comment">-- join\uFF0Csql92\u7684\u9017\u53F7\u8FDE\u63A5\u4E5F\u4E0D\u884C</span>
<span class="token keyword">CREATE</span> <span class="token operator">OR</span> <span class="token keyword">REPLACE</span> <span class="token keyword">VIEW</span> myv1
<span class="token keyword">AS</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>department_name <span class="token keyword">FROM</span> employees e <span class="token keyword">JOIN</span> departments d <span class="token keyword">ON</span> e<span class="token punctuation">.</span>department_id <span class="token operator">=</span>d<span class="token punctuation">.</span>department_id<span class="token punctuation">;</span>
<span class="token comment">## \u66F4\u65B0</span>
<span class="token keyword">UPDATE</span> myv1 <span class="token keyword">SET</span> last_name <span class="token operator">=</span><span class="token string">&#39;\u5F20\u98DE&#39;</span> <span class="token keyword">WHERE</span> last_name <span class="token operator">=</span><span class="token string">&#39;Whalen&#39;</span> <span class="token comment">## \u53EF\u4EE5\u66F4\u65B0\u6570\u636E</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> myv1 <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;\u9648\u771F&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;xxxx&#39;</span><span class="token punctuation">)</span> <span class="token comment">## \u4E0D\u80FD\u63D2\u5165\u6570\u636E</span>

<span class="token comment">-- from\u4E00\u4E2A\u4E0D\u80FD\u66F4\u65B0\u7684\u89C6\u56FE</span>
<span class="token keyword">CREATE</span> <span class="token operator">OR</span> <span class="token keyword">REPLACE</span> <span class="token keyword">VIEW</span> myv2
<span class="token keyword">AS</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> myv1<span class="token punctuation">;</span><span class="token comment">## myv1\u4E0D\u80FD\u66F4\u65B0</span>

<span class="token comment">-- where\u5B50\u53E5\u7684\u5B50\u67E5\u8BE2\u5F15\u7528\u4E86from\u5B50\u53E5\u4E2D\u7684\u8868</span>
<span class="token keyword">CREATE</span> <span class="token operator">OR</span> <span class="token keyword">REPLACE</span> <span class="token keyword">VIEW</span> myv1
<span class="token keyword">AS</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>email<span class="token punctuation">,</span>salary
<span class="token keyword">FROM</span> employees <span class="token keyword">WHERE</span> employee_id <span class="token operator">IN</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> manager_id <span class="token keyword">FROM</span> employees <span class="token keyword">WHERE</span> manager_id <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u53D8\u91CF"><a class="header-anchor" href="#\u53D8\u91CF" aria-hidden="true">#</a> \u53D8\u91CF</h2><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">/*
\u53D8\u91CF
\u7CFB\u7EDF\u53D8\u91CF
	\u5168\u5C40\u53D8\u91CF
	\u4F1A\u8BDD\u53D8\u91CF
\u81EA\u5B9A\u4E49\u53D8\u91CF
	\u7528\u6237\u53D8\u91CF
	\u5C40\u90E8\u53D8\u91CF
*/</span>
<span class="token comment">-- \u4E00\u3001\u7CFB\u7EDF\u53D8\u91CF</span>
<span class="token comment">-- \u8BF4\u660E\uFF1A\u53D8\u91CF\u7531\u7CFB\u7EDF\u63D0\u4F9B\uFF0C\u4E0D\u662F\u7528\u6237\u5B9A\u4E49\uFF0C\u5C5E\u4E8E\u670D\u52A1\u5668\u5C42\u9762</span>
<span class="token comment">-- \u6CE8\u610F\uFF1A</span>
<span class="token comment">-- 	\u5982\u679C\u5168\u5C40\u7EA7\u522B\uFF0C\u5219\u9700\u8981\u52A0GLOBAL\uFF0C\u5982\u679C\u662F\u4F1A\u8BDD\u7EA7\u522B\uFF0C\u5219\u9700\u8981\u52A0SESSION\uFF0C\u5982\u679C\u4E0D\u5199\uFF0C\u5219\u9ED8\u8BA4SESSION</span>
<span class="token comment">/*
\u5168\u5C40\u53D8\u91CF
	\u4F5C\u7528\u57DF\uFF1A\u670D\u52A1\u5668\u6BCF\u6B21\u542F\u52A8\u5C06\u4E3A\u6240\u6709\u7684\u5168\u5C40\u53D8\u91CF\u8D4B\u521D\u59CB\u503C\uFF0C\u9488\u5BF9\u4E8E\u6240\u6709\u7684\u4F1A\u8BDD\uFF08\u8FDE\u63A5\uFF09\u6709\u6548\uFF0C\u4F46\u662F\u4E0D\u80FD\u8DE8\u91CD\u542F
*/</span>
<span class="token comment">-- \u4F7F\u7528\u7684\u8BED\u6CD5\uFF1A</span>
<span class="token comment">-- 1\u3001\u67E5\u770B\u6240\u6709\u7684\u7CFB\u7EDF\u53D8\u91CF\uFF0C\u7CFB\u7EDF\u548C\u4F1A\u8BDD\u7684\u53D8\u91CF</span>
<span class="token keyword">SHOW</span> <span class="token punctuation">[</span><span class="token keyword">GLOBAL</span><span class="token operator">|</span><span class="token keyword">SESSION</span><span class="token punctuation">]</span> VARIABLES<span class="token punctuation">;</span><span class="token comment">## \u5982\u679C\u4E24\u4E2A\u90FD\u4E0D\u5199\u7684\u8BDD\uFF0C\u9ED8\u8BA4\u8868\u793A\u67E5\u770B\u4F1A\u8BDD\u53D8\u91CF</span>
<span class="token keyword">SHOW</span> <span class="token keyword">GLOBAL</span> VARIABLES<span class="token punctuation">;</span>
<span class="token comment">-- 2\u3001\u67E5\u770B\u6EE1\u8DB3\u6761\u4EF6\u7684\u90E8\u5206\u7CFB\u7EDF\u53D8\u91CF</span>
<span class="token keyword">SHOW</span> <span class="token punctuation">[</span><span class="token keyword">GLOBAL</span><span class="token operator">|</span><span class="token keyword">SESSION</span><span class="token punctuation">]</span> VARIABLES <span class="token operator">LIKE</span> <span class="token string">&#39;%char%&#39;</span><span class="token punctuation">;</span><span class="token comment">## \u67E5\u770B\u5305\u542Bchar\u7684\u7CFB\u7EDF\u53D8\u91CF\u7684\u503C</span>
<span class="token keyword">SHOW</span> <span class="token keyword">GLOBAL</span> VARIABLES <span class="token operator">LIKE</span> <span class="token string">&#39;%char%&#39;</span><span class="token punctuation">;</span>
<span class="token comment">-- 3\u3001\u67E5\u770B\u6307\u5B9A\u7684\u67D0\u4E2A\u7CFB\u7EDF\u53D8\u91CF\u7684\u503C</span>
<span class="token keyword">SELECT</span> @<span class="token variable">@GLOBAL</span><span class="token operator">|</span><span class="token punctuation">[</span><span class="token keyword">SESSION</span><span class="token punctuation">]</span><span class="token punctuation">.</span>\u7CFB\u7EDF\u53D8\u91CF\u540D<span class="token punctuation">;</span><span class="token comment">## \u5982\u679C\u4E0D\u5199GLOBAL\uFF0C\u9ED8\u8BA4\u662F\u4F1A\u8BDD\u53D8\u91CF</span>
<span class="token keyword">SELECT</span> @<span class="token variable">@GLOBAL.AUTOCOMMIT</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> @<span class="token variable">@TX_ISOLATION</span><span class="token punctuation">;</span>
<span class="token comment">-- 4\u3001\u4E3A\u67D0\u4E2A\u7CFB\u7EDF\u53D8\u91CF\u8D4B\u503C</span>
<span class="token comment">## \u65B9\u5F0F\u4E00 \u6211\u6D4B\u8BD5\u8FD9\u79CD\u65B9\u5F0F\u62A5\u9519</span>
<span class="token keyword">SET</span> @<span class="token variable">@GLOBAL</span><span class="token operator">|</span><span class="token keyword">SESSION</span> \u7CFB\u7EDF\u53D8\u91CF\u540D<span class="token operator">=</span>\u503C<span class="token punctuation">;</span>
<span class="token keyword">SET</span> @<span class="token variable">@GLOBAL.AUTOCOMMIT</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment">## \u65B9\u5F0F\u4E8C</span>
<span class="token keyword">SET</span> @<span class="token variable">@GLOBAL</span><span class="token operator">|</span><span class="token punctuation">[</span><span class="token keyword">SESSION</span><span class="token punctuation">]</span><span class="token punctuation">.</span>\u7CFB\u7EDF\u53D8\u91CF\u540D<span class="token operator">=</span>\u503C<span class="token punctuation">;</span>

<span class="token comment">/*
\u4F1A\u8BDD\u53D8\u91CF
\u4F5C\u7528\u57DF\uFF1A\u4EC5\u4EC5\u9488\u5BF9\u4E8E\u5F53\u524D\u4F1A\u8BDD\uFF08\u8FDE\u63A5\uFF09\u6709\u6548
*/</span>
<span class="token comment">-- \u4F7F\u7528\u7684\u8BED\u6CD5\uFF1A</span>
<span class="token comment">-- 1\u3001\u67E5\u770B\u6240\u6709\u7684\u7CFB\u7EDF\u53D8\u91CF\uFF0C\u7CFB\u7EDF\u548C\u4F1A\u8BDD\u7684\u53D8\u91CF</span>
<span class="token keyword">SHOW</span> <span class="token punctuation">[</span><span class="token keyword">GLOBAL</span><span class="token operator">|</span><span class="token keyword">SESSION</span><span class="token punctuation">]</span> VARIABLES<span class="token punctuation">;</span><span class="token comment">## \u5982\u679C\u4E24\u4E2A\u90FD\u4E0D\u5199\u7684\u8BDD\uFF0C\u9ED8\u8BA4\u8868\u793A\u67E5\u770B\u4F1A\u8BDD\u53D8\u91CF</span>
<span class="token keyword">SHOW</span> <span class="token keyword">SESSION</span> VARIABLES<span class="token punctuation">;</span>
<span class="token comment">-- 2\u3001\u67E5\u770B\u6EE1\u8DB3\u6761\u4EF6\u7684\u90E8\u5206\u7CFB\u7EDF\u53D8\u91CF</span>
<span class="token keyword">SHOW</span> <span class="token punctuation">[</span><span class="token keyword">GLOBAL</span><span class="token operator">|</span><span class="token keyword">SESSION</span><span class="token punctuation">]</span> VARIABLES <span class="token operator">LIKE</span> <span class="token string">&#39;%char%&#39;</span><span class="token punctuation">;</span><span class="token comment">## \u67E5\u770B\u5305\u542Bchar\u7684\u7CFB\u7EDF\u53D8\u91CF\u7684\u503C</span>
<span class="token keyword">SHOW</span> <span class="token keyword">SESSION</span> VARIABLES <span class="token operator">LIKE</span> <span class="token string">&#39;%char%&#39;</span><span class="token punctuation">;</span>
<span class="token comment">-- 3\u3001\u67E5\u770B\u6307\u5B9A\u7684\u67D0\u4E2A\u7CFB\u7EDF\u53D8\u91CF\u7684\u503C</span>
<span class="token keyword">SELECT</span> @<span class="token variable">@GLOBAL</span><span class="token operator">|</span><span class="token punctuation">[</span><span class="token keyword">SESSION</span><span class="token punctuation">]</span><span class="token punctuation">.</span>\u7CFB\u7EDF\u53D8\u91CF\u540D<span class="token punctuation">;</span><span class="token comment">## \u5982\u679C\u4E0D\u5199GLOBAL\uFF0C\u9ED8\u8BA4\u662F\u4F1A\u8BDD\u53D8\u91CF</span>
<span class="token keyword">SELECT</span> @<span class="token variable">@SESSION.AUTOCOMMIT</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> @<span class="token variable">@TX_ISOLATION</span><span class="token punctuation">;</span>
<span class="token comment">-- 4\u3001\u4E3A\u67D0\u4E2A\u7CFB\u7EDF\u53D8\u91CF\u8D4B\u503C</span>
<span class="token comment">## \u65B9\u5F0F\u4E00 \u6211\u6D4B\u8BD5\u8FD9\u79CD\u65B9\u5F0F\u62A5\u9519</span>
<span class="token keyword">SET</span> @<span class="token variable">@GLOBAL</span><span class="token operator">|</span><span class="token keyword">SESSION</span> \u7CFB\u7EDF\u53D8\u91CF\u540D<span class="token operator">=</span>\u503C<span class="token punctuation">;</span>
<span class="token keyword">SET</span> @<span class="token variable">@SESSION.AUTOCOMMIT</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment">## \u65B9\u5F0F\u4E8C</span>
<span class="token keyword">SET</span> @<span class="token variable">@GLOBAL</span><span class="token operator">|</span><span class="token punctuation">[</span><span class="token keyword">SESSION</span><span class="token punctuation">]</span><span class="token punctuation">.</span>\u7CFB\u7EDF\u53D8\u91CF\u540D<span class="token operator">=</span>\u503C<span class="token punctuation">;</span>

<span class="token comment">-- \u4E8C\u3001\u81EA\u5B9A\u4E49\u53D8\u91CF</span>
<span class="token comment">/*
\u8BF4\u660E\uFF1A\u53D8\u91CF\u662F\u7528\u6237\u81EA\u5B9A\u4E49\u7684\uFF0C\u4E0D\u662F\u7531\u7CFB\u7EDF\u521B\u5EFA\u7684
\u4F7F\u7528\uFF1A
	\u58F0\u660E
	\u8D4B\u503C
	\u4F7F\u7528\uFF08\u67E5\u770B\u3001\u6BD4\u8F83\u3001\u8FD0\u7B97\u7B49\uFF09
*/</span>
<span class="token comment">/*
1\u3001\u7528\u6237\u53D8\u91CF
	\u4F5C\u7528\u57DF\uFF1A\u9488\u5BF9\u4E8E\u5F53\u524D\u4F1A\u8BDD\uFF08\u8FDE\u63A5\uFF09\u6709\u6548\uFF0C\u540C\u4E8E\u4F1A\u8BDD\u53D8\u91CF\u7684\u4F5C\u7528\u57DF
	\u5E94\u7528\u5728\u6240\u6709\u7684\u5730\u65B9
*/</span>
<span class="token comment">-- 1\uFF09\u58F0\u660E</span>
<span class="token comment">-- \u8D4B\u503C\u7684\u64CD\u4F5C\u7B26\u4E3A\uFF1A= \u6216\u8005:=</span>
<span class="token keyword">SET</span> @\u7528\u6237\u53D8\u91CF\u540D<span class="token operator">=</span>\u503C<span class="token punctuation">;</span>
<span class="token keyword">SET</span> @\u7528\u6237\u53D8\u91CF\u540D:<span class="token operator">=</span>\u503C
<span class="token keyword">SELECT</span> @\u7528\u6237\u53D8\u91CF\u540D:<span class="token operator">=</span>\u503C<span class="token punctuation">;</span>
<span class="token comment">-- 2\uFF09\u8D4B\u503C\uFF08\u66F4\u65B0\u7528\u6237\u53D8\u91CF\u7684\u503C\uFF09</span>
<span class="token comment">-- \u65B9\u5F0F\u4E00\uFF1A\u901A\u8FC7SET\u6216SELECT</span>
<span class="token keyword">SET</span> @\u7528\u6237\u53D8\u91CF\u540D<span class="token operator">=</span>\u503C<span class="token punctuation">;</span>
<span class="token keyword">SET</span> @\u7528\u6237\u53D8\u91CF\u540D:<span class="token operator">=</span>\u503C
<span class="token keyword">SELECT</span> @\u7528\u6237\u53D8\u91CF\u540D:<span class="token operator">=</span>\u503C<span class="token punctuation">;</span>
<span class="token comment">-- \u6848\u4F8B\uFF1A</span>
<span class="token comment">-- \u58F0\u660E\u5E76\u521D\u59CB\u5316</span>
<span class="token keyword">SET</span> <span class="token variable">@MYNAME</span><span class="token operator">=</span><span class="token string">&#39;JOHN&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">SET</span> <span class="token variable">@MYNAME</span><span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">;</span>
<span class="token comment">-- \u65B9\u5F0F\u4E8C\uFF1A\u901A\u8FC7SELECT INTO</span>
<span class="token keyword">SELECT</span> \u5B57\u6BB5 <span class="token keyword">INTO</span> \u53D8\u91CF\u540D <span class="token keyword">FROM</span> \u8868<span class="token punctuation">;</span>
<span class="token keyword">SET</span> <span class="token variable">@MYCOUNT</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment">-- \u8D4B\u503C</span>
<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">INTO</span> <span class="token variable">@MYCOUNT</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span><span class="token comment">## \u5C06\u5458\u5DE5\u8868\u7684\u603B\u4E2A\u6570\u8D4B\u503C\u7ED9MYCOUNT</span>
<span class="token comment">-- 3\uFF09\u3001\u4F7F\u7528\uFF08\u67E5\u770B\u7528\u6237\u53D8\u91CF\u7684\u503C\uFF09</span>
<span class="token keyword">SELECT</span> @\u7528\u6237\u53D8\u91CF\u540D<span class="token punctuation">;</span>
<span class="token comment">-- \u67E5\u770B</span>
<span class="token keyword">SELECT</span> <span class="token variable">@MYCOUNT</span><span class="token punctuation">;</span>
<span class="token comment">/*
2\u3001\u5C40\u90E8\u53D8\u91CF
	\u51FD\u6570\u4E2D
	\u4F5C\u7528\u57DF\uFF1A\u4EC5\u4EC5\u5728\u5B9A\u4E49\u5B83\u7684begin end\u4E2D\u6709\u6548
	\u5E94\u7528\u5728begin end\u4E2D\u7684\u7B2C\u4E00\u53E5\u8BDD
*/</span>

<span class="token comment">-- 1\uFF09\u3001\u58F0\u660E</span>
<span class="token keyword">DECLARE</span> \u53D8\u91CF\u540D \u7C7B\u578B
<span class="token keyword">DELETE</span> \u53D8\u91CF\u540D \u7C7B\u578B <span class="token keyword">DEFAULT</span> \u503C<span class="token punctuation">;</span>
<span class="token comment">-- 2)\u3001\u8D4B\u503C</span>
<span class="token comment">-- \u65B9\u5F0F\u4E00\uFF1A\u901A\u8FC7SET\u6216SELECT</span>
<span class="token keyword">SET</span> \u5C40\u90E8\u53D8\u91CF\u540D<span class="token operator">=</span>\u503C<span class="token punctuation">;</span>
<span class="token keyword">SET</span> \u5C40\u90E8\u53D8\u91CF\u540D:<span class="token operator">=</span>\u503C
<span class="token keyword">SELECT</span> @\u5C40\u90E8\u53D8\u91CF\u540D:<span class="token operator">=</span>\u503C<span class="token punctuation">;</span>
<span class="token comment">-- \u65B9\u5F0F\u4E8C\uFF1A\u901A\u8FC7SELECT INTO</span>
<span class="token keyword">SELECT</span> \u5B57\u6BB5 <span class="token keyword">INTO</span> \u5C40\u90E8\u53D8\u91CF\u540D <span class="token keyword">FROM</span> \u8868<span class="token punctuation">;</span>
<span class="token comment">-- 3\uFF09\u3001\u4F7F\u7528</span>
<span class="token keyword">SELECT</span> \u5C40\u90E8\u53D8\u91CF\u540D<span class="token punctuation">;</span>

\u5BF9\u6BD4\u7528\u6237\u53D8\u91CF\u548C\u5C40\u90E8\u53D8\u91CF
									\u4F5C\u7528\u57DF							\u5B9A\u4E49\u548C\u4F7F\u7528											\u8BED\u6CD5
\u7528\u6237\u53D8\u91CF						\u5F53\u524D\u4F1A\u8BDD						\u4F1A\u8BDD\u4E2D\u7684\u4EFB\u4F55\u5730\u65B9									\u5FC5\u987B\u52A0@\u7B26\u53F7\uFF0C\u4E0D\u7528\u9650\u5B9A\u7C7B\u578B
\u5C40\u90E8\u53D8\u91CF						<span class="token keyword">BEGIN</span> <span class="token keyword">END</span>\u4E2D				\u53EA\u80FD\u5728<span class="token keyword">BEGIN</span> <span class="token keyword">END</span>\u4E2D\u7684\u7B2C\u4E00\u53E5				\u4E00\u822C\u4E0D\u7528\u52A0@\u7B26\u53F7\uFF0C\u9700\u8981\u9650\u5B9A\u7C7B\u578B

<span class="token comment">-- \u6848\u4F8B \u58F0\u660E\u4E24\u4E2A\u53D8\u91CF\u5E76\u8D4B\u521D\u503C\uFF0C\u6C42\u4E24\u4E2A\u53D8\u91CF\u4E4B\u548C</span>
<span class="token comment">-- 1 \u7528\u6237\u53D8\u91CF</span>
<span class="token keyword">SET</span> <span class="token variable">@M</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">SET</span> <span class="token variable">@N</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">SET</span> <span class="token variable">@MYSUM</span><span class="token operator">=</span> <span class="token variable">@M</span><span class="token operator">+</span><span class="token variable">@N</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token variable">@MYSUM</span><span class="token punctuation">;</span>

<span class="token comment">-- 2 \u5C40\u90E8\u53D8\u91CF</span>
<span class="token keyword">DECLARE</span> M <span class="token keyword">INT</span> <span class="token keyword">DEFAULT</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">DECLARE</span> N <span class="token keyword">INT</span> <span class="token keyword">DEFAULT</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">DECLARE</span> MYSUM <span class="token keyword">INT</span><span class="token punctuation">;</span>
<span class="token keyword">SET</span> MYSUM<span class="token operator">=</span>M<span class="token operator">+</span>N<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> MYSUM<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5B58\u50A8\u8FC7\u7A0B\u548C\u51FD\u6570"><a class="header-anchor" href="#\u5B58\u50A8\u8FC7\u7A0B\u548C\u51FD\u6570" aria-hidden="true">#</a> \u5B58\u50A8\u8FC7\u7A0B\u548C\u51FD\u6570</h2><h3 id="\u5B58\u50A8\u8FC7\u7A0B"><a class="header-anchor" href="#\u5B58\u50A8\u8FC7\u7A0B" aria-hidden="true">#</a> \u5B58\u50A8\u8FC7\u7A0B</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- \u5B58\u50A8\u8FC7\u7A0B\u548C\u51FD\u6570</span>
<span class="token comment">/*
\u9700\u8981\u5728\u7EC8\u7AEF\u4E2D\u8FD0\u884C

\u5B58\u50A8\u8FC7\u7A0B\u548C\u51FD\u6570 \u7C7B\u4F3C\u4E8EJava\u4E2D\u7684\u65B9\u6CD5
\u597D\u5904\uFF1A
	1\u3001\u63D0\u9AD8\u4EE3\u7801\u7684\u91CD\u7528\u6027
	2\u3001\u7B80\u5316\u64CD\u4F5C

*/</span>

<span class="token comment">-- \u5B58\u50A8\u8FC7\u7A0B</span>
<span class="token comment">/*
\u542B\u4E49\uFF1A\u4E00\u7EC4\u9884\u5148\u7F16\u8BD1\u597D\u7684sql\u8BED\u53E5\u7684\u548C\u96C6\u5408\uFF0C\u7406\u89E3\u6210\u6279\u5904\u7406\u8BED\u53E5
1\u3001\u63D0\u9AD8\u4E86\u4EE3\u7801\u91CD\u7528\u6027
2\u3001\u7B80\u5316\u64CD\u4F5C
3\u3001\u51CF\u5C11\u4E86\u7F16\u8BD1\u6B21\u6570\u5E76\u4E14\u51CF\u5C11\u4E86\u548C\u6570\u636E\u5E93\u670D\u52A1\u5668\u7684\u8FDE\u63A5\u6B21\u6570\uFF0C\u63D0\u9AD8\u4E86\u6548\u7387
*/</span>

<span class="token comment">-- \u4E00\u3001\u521B\u5EFA\u8BED\u6CD5</span>
<span class="token keyword">CREATE</span> <span class="token keyword">PROCEDURE</span> \u5B58\u50A8\u8FC7\u7A0B\u540D<span class="token punctuation">(</span>\u53C2\u6570\u5217\u8868<span class="token punctuation">)</span>
<span class="token keyword">BEGIN</span>
	\u5B58\u50A8\u8FC7\u7A0B\u4F53\uFF08\u4E00\u7EC4\u5408\u6CD5\u7684<span class="token keyword">sql</span>\u8BED\u53E5\uFF09
<span class="token keyword">END</span>
\u6CE8\u610F\uFF1A
	<span class="token number">1</span>\u3001\u53C2\u6570\u5217\u8868\u5305\u542B\u4E09\u90E8\u5206
		\u53C2\u6570\u6A21\u5F0F \u53C2\u6570\u540D \u53C2\u6570\u7C7B\u578B
		\u4E3E\u4F8B\uFF1A<span class="token operator">IN</span> stuname <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
		\u53C2\u6570\u6A21\u5F0F\uFF1A
			<span class="token operator">IN</span>\uFF1A\u8BE5\u53C2\u6570\u53EF\u4EE5\u4F5C\u4E3A\u8F93\u5165
			<span class="token keyword">OUT</span>\uFF1A\u8BE5\u53C2\u6570\u53EF\u4EE5\u4F5C\u4E3A\u8FD4\u56DE\u503C
			<span class="token keyword">INOUT</span>\uFF1A\u8BE5\u53C2\u6570\u65E2\u53EF\u4EE5\u4F5C\u4E3A\u8F93\u5165\u53C8\u53EF\u4EE5\u4F5C\u4E3A\u8F93\u51FA\uFF0C\u4E5F\u5C31\u662F\u8BE5\u53C2\u6570\u65E2\u9700\u8981\u4F20\u5165\u503C\uFF0C\u53C8\u53EF\u4EE5\u8FD4\u56DE\u503C
	<span class="token number">2</span>\u3001\u5982\u679C\u5B58\u50A8\u8FC7\u7A0B\u4F53\u4EC5\u4EC5\u53EA\u6709\u4E00\u53E5\u8BDD\uFF0C<span class="token keyword">BEGIN</span> <span class="token keyword">END</span>\u53EF\u4EE5\u7701\u7565
	<span class="token number">3</span>\u3001\u5B58\u50A8\u8FC7\u7A0B\u4F53\u4E2D\u7684\u6BCF\u6761<span class="token keyword">sql</span>\u8BED\u53E5\u7684\u7ED3\u5C3E\u8981\u6C42\u5FC5\u987B\u52A0\u5206\u53F7\u3002\u5B58\u50A8\u8FC7\u7A0B\u7684\u7ED3\u5C3E\u53EF\u4EE5\u4F7F\u7528 <span class="token keyword">DELIMITER</span> \u91CD\u65B0\u8BBE\u7F6E
		\u8BED\u6CD5\uFF1A
			<span class="token keyword">DELIMITER</span> \u7ED3\u675F\u6807\u8BB0
			<span class="token keyword">DELIMITER</span> $
<span class="token comment">-- \u8C03\u7528\u8BED\u6CD5</span>
<span class="token keyword">CALL</span> \u5B58\u50A8\u8FC7\u7A0B\u540D<span class="token punctuation">(</span>\u5B9E\u53C2\u5217\u8868<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 1\u3001\u7A7A\u53C2\u5217\u8868</span>
<span class="token comment">-- \u6848\u4F8B\uFF1A\u63D2\u5165\u5230admin\u8868\u4E2D\u4E94\u6761\u8BB0\u5F55</span>
<span class="token comment">-- \u521B\u5EFA</span>
<span class="token keyword">DELIMITER</span> $
<span class="token keyword">CREATE</span> RPOCEDURE myp1<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">BEGIN</span>
	<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>admin<span class="token punctuation">\`</span></span><span class="token punctuation">(</span>username<span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">\`</span>password<span class="token punctuation">\`</span></span><span class="token punctuation">)</span> 
	<span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;john1&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;0000&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">&#39;john2&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;0000&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">&#39;john3&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;0000&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">&#39;john4&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;0000&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">&#39;john5&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;0000&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">END</span> $
<span class="token comment">-- \u8C03\u7528</span>
<span class="token keyword">CALL</span> myp1<span class="token punctuation">(</span><span class="token punctuation">)</span>$

<span class="token comment">-- 2\u3001\u521B\u5EFA\u5E26in\u6A21\u5F0F\u7684\u5B58\u50A8\u8FC7\u7A0B</span>
<span class="token comment">-- \u6848\u4F8B\uFF1A\u521B\u5EFA\u5B58\u50A8\u8FC7\u7A0B\u5B9E\u73B0\u6839\u636E\u5973\u795E\u540D\uFF0C\u67E5\u8BE2\u5BF9\u5E94\u7684\u7537\u795E\u4FE1\u606F</span>
<span class="token keyword">CREATE</span> <span class="token keyword">PROCEDURE</span> myp2<span class="token punctuation">(</span><span class="token operator">IN</span> beautyName <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">BEGIN</span>
	<span class="token keyword">SELECT</span> bo<span class="token punctuation">.</span><span class="token operator">*</span>
	<span class="token keyword">FROM</span> boys bo
	<span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> beauty b <span class="token keyword">ON</span> bo<span class="token punctuation">.</span>id <span class="token operator">=</span> b<span class="token punctuation">.</span>boyfriend_id
	<span class="token keyword">WHERE</span> b<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>name<span class="token punctuation">\`</span></span><span class="token operator">=</span>beautyName<span class="token punctuation">;</span>
<span class="token keyword">END</span> $

<span class="token comment">-- \u8C03\u7528</span>
<span class="token keyword">CALL</span> myp2<span class="token punctuation">(</span><span class="token string">&#39;\u67F3\u5CA9&#39;</span><span class="token punctuation">)</span>$

<span class="token comment">-- \u8BBE\u7F6E\u63A7\u5236\u53F0\u5B57\u7B26\u96C6</span>
<span class="token keyword">SET</span> NAMES GBK<span class="token punctuation">;</span>

<span class="token comment">-- \u6848\u4F8B\uFF1A\u521B\u5EFA\u5B58\u50A8\u8FC7\u7A0B\u5B9E\u73B0\uFF0C\u7528\u6237\u662F\u5426\u767B\u5F55\u6210\u529F</span>
<span class="token keyword">CREATE</span> <span class="token keyword">PROCEDURE</span> myp3<span class="token punctuation">(</span><span class="token operator">IN</span> username <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">IN</span> <span class="token identifier"><span class="token punctuation">\`</span>password<span class="token punctuation">\`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">BEGIN</span>
	<span class="token keyword">DECLARE</span> result <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span>
	<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">INTO</span> result <span class="token comment">## \u8D4B\u503C</span>
	<span class="token keyword">FROM</span> <span class="token identifier"><span class="token punctuation">\`</span>admin<span class="token punctuation">\`</span></span>
	<span class="token keyword">WHERE</span> admin<span class="token punctuation">.</span>username<span class="token operator">=</span>username
	<span class="token operator">AND</span> admin<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>password<span class="token punctuation">\`</span></span> <span class="token operator">=</span> <span class="token identifier"><span class="token punctuation">\`</span>password<span class="token punctuation">\`</span></span><span class="token punctuation">;</span>
	<span class="token keyword">SELECT</span> result<span class="token punctuation">;</span> <span class="token comment">#\u4F7F\u7528</span>
<span class="token keyword">END</span> $

<span class="token keyword">CREATE</span> <span class="token keyword">PROCEDURE</span> myp3<span class="token punctuation">(</span><span class="token operator">IN</span> username <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">IN</span> <span class="token identifier"><span class="token punctuation">\`</span>password<span class="token punctuation">\`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">BEGIN</span>
	<span class="token keyword">DECLARE</span> result <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">INTO</span> result <span class="token comment">## \u8D4B\u503C</span>
	<span class="token keyword">FROM</span> <span class="token identifier"><span class="token punctuation">\`</span>admin<span class="token punctuation">\`</span></span>
	<span class="token keyword">WHERE</span> admin<span class="token punctuation">.</span>username<span class="token operator">=</span>username
	<span class="token operator">AND</span> admin<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>password<span class="token punctuation">\`</span></span> <span class="token operator">=</span> <span class="token identifier"><span class="token punctuation">\`</span>password<span class="token punctuation">\`</span></span><span class="token punctuation">;</span>
	<span class="token keyword">SELECT</span> <span class="token keyword">IF</span><span class="token punctuation">(</span>result<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&#39;\u6210\u529F&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;\u5931\u8D25&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">#\u4F7F\u7528</span>
<span class="token keyword">END</span> $

<span class="token comment">-- \u8C03\u7528</span>
<span class="token keyword">CALL</span> myp3<span class="token punctuation">(</span><span class="token string">&#39;\u5F20\u98DE&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;8888&#39;</span><span class="token punctuation">)</span>$

<span class="token comment">-- 3\u3001\u521B\u5EFA\u5E26out\u6A21\u5F0F\u7684\u5B58\u50A8\u8FC7\u7A0B</span>
<span class="token comment">-- \u6848\u4F8B\uFF1A\u6839\u636E\u5973\u795E\u540D\uFF0C\u8FD4\u56DE\u5BF9\u5E94\u7684\u7537\u795E\u540D</span>
<span class="token keyword">CREATE</span> <span class="token keyword">PROCEDURE</span> myp5<span class="token punctuation">(</span><span class="token operator">IN</span> beautyName <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">OUT</span> boyName <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">BEGIN</span>
	<span class="token keyword">SELECT</span> boys<span class="token punctuation">.</span>boyName <span class="token keyword">INTO</span> boyName
	<span class="token keyword">FROM</span> beauty <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> boys <span class="token keyword">ON</span> beauty<span class="token punctuation">.</span>boyfriend_id<span class="token operator">=</span>boys<span class="token punctuation">.</span>id
	<span class="token keyword">WHERE</span> beauty<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>name<span class="token punctuation">\`</span></span><span class="token operator">=</span>beautyName<span class="token punctuation">;</span>
<span class="token keyword">END</span> $
<span class="token comment">-- \u8C03\u7528</span>
<span class="token keyword">SET</span> <span class="token variable">@bName$</span>
<span class="token keyword">CALL</span> myp5<span class="token punctuation">(</span><span class="token string">&#39;\u5C0F\u662D&#39;</span><span class="token punctuation">,</span><span class="token variable">@bName</span><span class="token punctuation">)</span>$
<span class="token keyword">SELECT</span> <span class="token variable">@bName$</span>

<span class="token comment">-- \u6848\u4F8B\uFF1A\u6839\u636E\u5973\u795E\u540D\uFF0C\u8FD4\u56DE\u5BF9\u5E94\u7684\u7537\u795E\u540D\u548C\u7537\u795E\u9B45\u529B\u503C</span>
<span class="token keyword">CREATE</span> <span class="token keyword">PROCEDURE</span> myp6<span class="token punctuation">(</span><span class="token operator">IN</span> beautyName <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">OUT</span> boyName <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">OUT</span> userCP <span class="token keyword">INT</span><span class="token punctuation">)</span>
<span class="token keyword">BEGIN</span>
	<span class="token keyword">SELECT</span> boys<span class="token punctuation">.</span>boyName<span class="token punctuation">,</span>boys<span class="token punctuation">.</span>userCP <span class="token keyword">INTO</span> boyName<span class="token punctuation">,</span>userCP
	<span class="token keyword">FROM</span> beauty <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> boys <span class="token keyword">ON</span> beauty<span class="token punctuation">.</span>boyfriend_id<span class="token operator">=</span>boys<span class="token punctuation">.</span>id
	<span class="token keyword">WHERE</span> beauty<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>name<span class="token punctuation">\`</span></span><span class="token operator">=</span>beautyName<span class="token punctuation">;</span>
<span class="token keyword">END</span> $
<span class="token comment">-- \u8C03\u7528</span>
<span class="token keyword">CALL</span> myp6<span class="token punctuation">(</span><span class="token string">&#39;\u5C0F\u662D&#39;</span><span class="token punctuation">,</span><span class="token variable">@bName</span><span class="token punctuation">,</span><span class="token variable">@userCP</span><span class="token punctuation">)</span>$

<span class="token comment">-- 4\u3001\u521B\u5EFA\u5E26inout\u6A21\u5F0F\u53C2\u6570\u7684\u5B58\u50A8\u8FC7\u7A0B</span>
<span class="token comment">-- \u6848\u4F8B\uFF1A\u4F20\u5165a\u548Cb\u4E24\u4E2A\u503C\uFF0C\u6700\u7EC8a\u548Cb\u90FD\u7FFB\u500D\u5E76\u8FD4\u56DE</span>

<span class="token keyword">CREATE</span> <span class="token keyword">PROCEDURE</span> myp8<span class="token punctuation">(</span><span class="token keyword">INOUT</span> a <span class="token keyword">INT</span><span class="token punctuation">,</span><span class="token keyword">INOUT</span> b <span class="token keyword">INT</span><span class="token punctuation">)</span>
<span class="token keyword">BEGIN</span>
	<span class="token keyword">SET</span> a<span class="token operator">=</span>a<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">SET</span> b<span class="token operator">=</span>b<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">END</span> $

<span class="token comment">-- \u8C03\u7528</span>
<span class="token keyword">SET</span> <span class="token variable">@a</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">SET</span> <span class="token variable">@b</span><span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">;</span>
<span class="token keyword">CALL</span> myp8<span class="token punctuation">(</span><span class="token variable">@a</span><span class="token punctuation">,</span><span class="token variable">@b</span><span class="token punctuation">)</span>$

<span class="token comment">-- \u4E8C\u3001\u5B58\u50A8\u8FC7\u7A0B\u7684\u5220\u9664</span>
\u8BED\u6CD5\uFF1A
	<span class="token keyword">DROP</span> <span class="token keyword">PROCEDURE</span> \u5B58\u50A8\u8FC7\u7A0B\u540D<span class="token punctuation">;</span>

<span class="token comment">-- \u4E09\u3001\u67E5\u770B\u5B58\u50A8\u8FC7\u7A0B</span>
<span class="token keyword">SHOW</span> <span class="token keyword">CREATE</span> <span class="token keyword">PROCEDURE</span> myp2<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u51FD\u6570"><a class="header-anchor" href="#\u51FD\u6570" aria-hidden="true">#</a> \u51FD\u6570</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">/*
\u51FD\u6570\uFF1A
\u5728\u7EC8\u7AEF\u4E2D\u8FD0\u884C
\u542B\u4E49\uFF1A\u4E00\u7EC4\u9884\u5148\u7F16\u8BD1\u597D\u7684SQL\u8BED\u53E5\u548C\u96C6\u5408\uFF0C\u7406\u89E3\u6210\u6279\u5904\u7406\u8BED\u53E5
1\u3001\u63D0\u9AD8\u4EE3\u7801\u7684\u91CD\u7528\u6027
2\u3001\u7B80\u5316\u64CD\u4F5C\u54E6
3\u3001\u51CF\u5C11\u7F16\u8BD1\u6B21\u6570\u5E76\u4E14\u51CF\u5C11\u4E86\u548C\u6570\u636E\u5E93\u670D\u52A1\u5668\u7684\u8FDE\u63A5\u6B21\u6570\uFF0C\u63D0\u9AD8\u4E86\u6548\u7387

\u533A\u522B\uFF1A

\u5B58\u50A8\u8FC7\u7A0B\uFF1A\u53EF\u4EE5\u67090\u4E2A\u8FD4\u56DE\uFF0C\u4E5F\u53EF\u4EE5\u6709\u591A\u4E2A\u8FD4\u56DE
\u51FD\u6570\uFF1A\u6709\u4E14\u4EC5\u6709\u4E00\u4E2A\u8FD4\u56DE

*/</span>

<span class="token comment">-- \u4E00\u3001\u521B\u5EFA\u8BED\u6CD5</span>
<span class="token comment">/*
\u6CE8\u610F\uFF1A
1. \u53C2\u6570\u5217\u8868 \u5305\u542B\u4E24\u90E8\u5206\uFF1A
\u53C2\u6570\u540D \u53C2\u6570\u7C7B\u578B

2. \u51FD\u6570\u4F53\uFF1A\u80AF\u5B9A\u4F1Areturn\u8BED\u53E5\uFF0C\u5982\u679C\u6CA1\u6709\u4F1A\u62A5\u9519\uFF0C\u5982\u679Creturn\u8BED\u53E5\u6CA1\u6709\u653E\u5728\u51FD\u6570\u4F53\u7684\u6700\u540E\u4E5F\u4E0D\u4F1A\u62A5\u9519\uFF0C\u4F46\u4E0D\u5EFA\u8BAE
return \u503C;

3. \u51FD\u6570\u4F53\u4E2D\u4EC5\u6709\u4E00\u53E5\u8BDD\uFF0C\u5219\u53EF\u4EE5\u7701\u7565begin end

4. \u4F7F\u7528 delimiter\u8BED\u53E5\u8BBE\u7F6E\u7ED3\u675F\u6807\u8BB0
*/</span>
<span class="token keyword">DELIMITER</span> $
<span class="token keyword">CREATE</span> <span class="token keyword">FUNCTION</span> \u51FD\u6570\u540D<span class="token punctuation">(</span>\u53C2\u6570\u5217\u8868<span class="token punctuation">)</span> <span class="token keyword">RETURNS</span> \u8FD4\u56DE\u7C7B\u578B
<span class="token keyword">BEGIN</span>
	\u51FD\u6570\u4F53
<span class="token keyword">END</span> $

<span class="token comment">-- \u4E8C\u3001\u8C03\u7528\u8BED\u6CD5</span>
<span class="token keyword">SELECT</span> \u51FD\u6570\u540D<span class="token punctuation">(</span>\u53C2\u6570\u5217\u8868<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- \u6848\u4F8B\u6F14\u793A</span>
<span class="token comment">-- \u6848\u4F8B\uFF1A\u8FD4\u56DE\u516C\u53F8\u7684\u5458\u5DE5\u4E2A\u6570</span>
<span class="token keyword">CREATE</span> <span class="token keyword">FUNCTION</span> myf1<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">RETURNS</span> <span class="token keyword">INT</span>
<span class="token keyword">BEGIN</span>
	<span class="token keyword">DECLARE</span> c <span class="token keyword">INT</span> <span class="token keyword">DEFAULT</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">## \u5B9A\u4E49\u53D8\u91CF</span>
	<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">INTO</span> c <span class="token comment">## \u4E3A\u53D8\u91CF\u8D4B\u503C</span>
	<span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
	<span class="token keyword">RETURN</span> c<span class="token punctuation">;</span>
<span class="token keyword">END</span> $

<span class="token keyword">SELECT</span> myf1<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- \u6848\u4F8B\uFF1A\u6839\u636E\u5458\u5DE5\u540D\uFF0C\u8FD4\u56DE\u5B83\u7684\u5DE5\u8D44</span>
<span class="token keyword">CREATE</span> <span class="token keyword">FUNCTION</span> myf2<span class="token punctuation">(</span>empName <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">RETURNS</span> <span class="token keyword">DOUBLE</span>
<span class="token keyword">BEGIN</span>
	<span class="token keyword">SET</span> <span class="token variable">@sal</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">## \u7528\u6237\u53D8\u91CF</span>
	<span class="token keyword">DECLARE</span> s <span class="token keyword">DOUBLE</span> <span class="token keyword">DEFAULT</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">SELECT</span> employees<span class="token punctuation">.</span>salary <span class="token keyword">INTO</span> s <span class="token comment">## \u6216\u8005 @sal</span>
	<span class="token keyword">FROM</span> employees 
	<span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>last_name <span class="token operator">=</span> empName
<span class="token keyword">END</span> $ 

<span class="token keyword">SELECT</span> myf1<span class="token punctuation">(</span><span class="token string">&#39;K_ing&#39;</span><span class="token punctuation">)</span>$

<span class="token comment">-- \u6848\u4F8B \u6839\u636E\u90E8\u95E8\u540D\uFF0C\u8FD4\u56DE\u8BE5\u90E8\u95E8\u7684\u5E73\u5747\u5DE5\u8D44</span>
<span class="token keyword">CREATE</span> <span class="token keyword">FUNCTION</span> myf3<span class="token punctuation">(</span>depName <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">RETURNS</span> <span class="token keyword">DOUBLE</span>
<span class="token keyword">BEGIN</span>
	<span class="token keyword">DECLARE</span> ags <span class="token keyword">DOUBLE</span> <span class="token keyword">DEFAULT</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span>employees<span class="token punctuation">.</span>salary<span class="token punctuation">)</span> <span class="token keyword">INTO</span> ags
	<span class="token keyword">FROM</span> employees
	<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> departments
	<span class="token keyword">ON</span> employees<span class="token punctuation">.</span>department_id <span class="token operator">=</span> departments<span class="token punctuation">.</span>department_id
	<span class="token keyword">WHERE</span> departments<span class="token punctuation">.</span>department_name<span class="token operator">=</span>depName<span class="token punctuation">;</span>
	<span class="token keyword">RETURN</span> ags<span class="token punctuation">;</span>
<span class="token keyword">END</span> $

<span class="token keyword">SELECT</span> myf3<span class="token punctuation">(</span><span class="token string">&#39;K_ing&#39;</span><span class="token punctuation">)</span>$

<span class="token comment">-- \u4E09\u3001\u67E5\u770B\u51FD\u6570</span>
<span class="token keyword">DECLARE</span> <span class="token punctuation">;</span>
<span class="token keyword">SHOW</span> <span class="token keyword">CREATE</span> <span class="token keyword">FUNCTION</span> myf3<span class="token punctuation">;</span>

<span class="token comment">-- \u56DB\u3001\u5220\u9664\u51FD\u6570</span>
<span class="token keyword">DROP</span> <span class="token keyword">FUNCTION</span> myf3<span class="token punctuation">;</span>

<span class="token comment">-- \u6848\u4F8B\uFF1A\u521B\u5EFA\u51FD\u6570\uFF0C\u5B9E\u73B0\u4F20\u5165\u4E24\u4E2Afloat\uFF0C\u8FD4\u56DE\u4E8C\u8005\u4E4B\u548C</span>
<span class="token keyword">DECLARE</span> $
<span class="token keyword">CREATE</span> <span class="token keyword">FUNCTION</span> myf4<span class="token punctuation">(</span>a <span class="token keyword">FLOAT</span><span class="token punctuation">,</span>b <span class="token keyword">FLOAT</span><span class="token punctuation">)</span> <span class="token keyword">RETURNS</span> <span class="token keyword">FLOAT</span>
<span class="token keyword">BEGIN</span>
	<span class="token keyword">DECLARE</span> mysum <span class="token keyword">FLOAT</span> <span class="token keyword">DEFAULT</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">SET</span> mysum<span class="token operator">=</span>a<span class="token operator">+</span>b<span class="token punctuation">;</span>
	<span class="token keyword">RETURN</span> mysum
<span class="token keyword">END</span> $
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u6D41\u7A0B\u63A7\u5236"><a class="header-anchor" href="#\u6D41\u7A0B\u63A7\u5236" aria-hidden="true">#</a> \u6D41\u7A0B\u63A7\u5236</h2><h3 id="\u4F7F\u7528-9"><a class="header-anchor" href="#\u4F7F\u7528-9" aria-hidden="true">#</a> \u4F7F\u7528</h3><p><img src="`+A+`" alt=""></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- \u6D41\u7A0B\u63A7\u5236\u7ED3\u6784</span>
<span class="token comment">/*
\u987A\u5E8F\u6267\u884C\uFF1A\u7A0B\u5E8F\u4ECE\u4E0A\u5F80\u4E0B\u4F9D\u6B21\u6267\u884C
\u5206\u652F\u7ED3\u6784\uFF1A\u7A0B\u5E8F\u4ECE\u4E24\u6761\u6216\u8005\u591A\u6761\u8DEF\u5F84\u4E2D\u9009\u62E9\u4E00\u6761\u53BB\u6267\u884C
\u5FAA\u73AF\u7ED3\u6784\uFF1A\u7A0B\u5E8F\u5728\u6EE1\u8DB3\u4E00\u5B9A\u8C03\u6559\u7684\u57FA\u7840\u4E0A\uFF0C\u91CD\u590D\u6267\u884C\u4E00\u6BB5\u4EE3\u7801
*/</span>

<span class="token comment">-- \u4E00\u3001\u5206\u652F\u7ED3\u6784</span>
<span class="token comment">/*
1\u3001if\u51FD\u6570
\u529F\u80FD\uFF1A\u5B9E\u73B0\u7B80\u5355\u7684\u53CC\u5206\u652F
\u8BED\u6CD5\uFF1A
SELECT IF(\u8868\u8FBE\u5F0F1,\u8868\u8FBE\u5F0F2,\u8868\u8FBE\u5F0F3)
\u6267\u884C\u987A\u5E8F\uFF1A
\u5982\u679C\u8868\u8FBE\u5F0F1\u6210\u7ACB\uFF0C\u5219if\u51FD\u6570\u8FD4\u56DE\u8868\u8FBE\u5F0F2\u7684\u503C\uFF0C\u5426\u5219\u8FD4\u56DE\u8868\u8FBE\u5F0F3\u7684\u503C
\u5E94\u7528\uFF1A\u4EFB\u4F55\u5730\u65B9
*/</span>

<span class="token comment">/*
2\u3001case\u7ED3\u6784
\u60C5\u51B51\uFF1B\u7C7B\u4F3C\u4E8EJava\u4E2D\u7684switch\u8BED\u53E5\uFF0C\u4E00\u822C\u7528\u4E8E\u5B9E\u73B0\u7B49\u503C\u5224\u65AD
	\u8BED\u6CD5\uFF1A
		case \u53D8\u91CF|\u8868\u8FBE\u5F0F|\u5B57\u6BB5
		when \u8981\u5224\u65AD\u7684\u503C then \u8FD4\u56DE\u7684\u503C1;
		when \u8981\u5224\u65AD\u7684\u503C then \u8FD4\u56DE\u7684\u503C2;
		...
		else \u8981\u8FD4\u56DE\u7684\u503Cn;
		end case;

\u60C5\u51B52\uFF1A\u7C7B\u4F3C\u4E8EJava\u4E2D\u7684\u591A\u91CDif\u8BED\u53E5\uFF0C\u4E00\u822C\u7528\u4E8E\u5B9E\u73B0\u533A\u95F4\u5224\u65AD
	\u8BED\u6CD5\uFF1A
		case \u53D8\u91CF|\u8868\u8FBE\u5F0F|\u5B57\u6BB5
		when \u8981\u5224\u65AD\u7684\u6761\u4EF61 then \u8FD4\u56DE\u7684\u503C1\u6216\u8BED\u53E51;
		when \u8981\u5224\u65AD\u7684\u6761\u4EF62 then \u8FD4\u56DE\u7684\u503C2\u6216\u8BED\u53E52;
		...
		else \u8981\u8FD4\u56DE\u7684\u503Cn\u6216\u8BED\u53E5n;
		end case;
\u7279\u70B9\uFF1A
1\u3001
	\u53EF\u4EE5\u4F5C\u4E3A\u8868\u8FBE\u5F0F\uFF0C\u5D4C\u5957\u5728\u5176\u4ED6\u8BED\u53E5\u4E2D\u4F7F\u7528\uFF0C\u53EF\u4EE5\u653E\u5728\u4EFB\u4F55\u5730\u65B9\uFF0Cbegin end\u4E2D\u6216\u8005begin end\u7684\u5916\u9762
	\u53EF\u4EE5\u4F5C\u4E3A\u72EC\u7ACB\u7684\u8BED\u53E5\u4F7F\u7528\uFF0C\u53EA\u80FD\u653E\u5728begin end\u4E2D
2\u3001
	\u5982\u679C\u6267\u884Cwhen\u4E2D\u7684\u503C\u6216\u8005\u6761\u4EF6\u6210\u7ACB\uFF0C\u5219\u6267\u884C\u5BF9\u5E94\u7684then\u540E\u9762\u7684\u8BED\u53E5\uFF0C\u5E76\u4E14\u7ED3\u675Fcase
	\u5982\u679C\u90FD\u4E0D\u6EE1\u8DB3\uFF0C\u5219\u6267\u884Celse\u4E2D\u7684\u8BED\u53E5\u6216\u503C
3\u3001else\u53EF\u4EE5\u7701\u7565\uFF0C\u5982\u679Celse\u7701\u7565\u4E86\uFF0C\u5E76\u4E14\u6240\u6709\u7684when\u6761\u4EF6\u90FD\u4E0D\u6EE1\u8DB3\uFF0C\u5219\u8FD4\u56DEnull
*/</span>

<span class="token comment">-- \u6848\u4F8B\uFF1A</span>
<span class="token comment">-- \u521B\u5EFA\u5B58\u50A8\u8FC7\u7A0B\uFF0C\u6839\u636E\u4F20\u5165\u7684\u6210\u7EE9\uFF0C\u6765\u663E\u793A\u7B49\u7EA7\uFF0C\u6BD4\u5982\u4F20\u5165\u7684\u6210\u7EE9\uFF1A90-100\uFF0C\u663E\u793AA\uFF1B80-90\uFF0C\u663E\u793AB\uFF1B60-80\uFF0C\u663E\u793AC\uFF0C\u5426\u5219\u663E\u793AD</span>
<span class="token keyword">DELIMITER</span> $
<span class="token keyword">CREATE</span> <span class="token keyword">PROCEDURE</span> teste_case<span class="token punctuation">(</span><span class="token operator">IN</span> score <span class="token keyword">INT</span><span class="token punctuation">)</span>
<span class="token keyword">BEGIN</span>
	<span class="token keyword">CASE</span>
	<span class="token keyword">WHEN</span> score<span class="token operator">&gt;=</span><span class="token number">90</span> <span class="token operator">AND</span> score<span class="token operator">&lt;=</span><span class="token number">100</span> <span class="token keyword">THEN</span> <span class="token keyword">SELECT</span> <span class="token string">&#39;A&#39;</span><span class="token punctuation">;</span>
	<span class="token keyword">WHEN</span> score<span class="token operator">&gt;=</span><span class="token number">80</span> <span class="token operator">AND</span> score<span class="token operator">&lt;=</span><span class="token number">90</span> <span class="token keyword">THEN</span> <span class="token keyword">SELECT</span> <span class="token string">&#39;B&#39;</span><span class="token punctuation">;</span>
	<span class="token keyword">WHEN</span> score<span class="token operator">&gt;=</span><span class="token number">60</span> <span class="token operator">AND</span> score<span class="token operator">&lt;=</span><span class="token number">80</span> <span class="token keyword">THEN</span> <span class="token keyword">SELECT</span> <span class="token string">&#39;C&#39;</span><span class="token punctuation">;</span>
	<span class="token keyword">ELSE</span> <span class="token keyword">SELECT</span> <span class="token string">&#39;D&#39;</span><span class="token punctuation">;</span>
	<span class="token keyword">END</span> <span class="token keyword">CASE</span><span class="token punctuation">;</span>
<span class="token keyword">END</span> $

<span class="token keyword">CALL</span> test_case<span class="token punctuation">(</span><span class="token number">95</span><span class="token punctuation">)</span>$

<span class="token comment">/*
if\u7ED3\u6784
\u529F\u80FD\uFF1A\u5B9E\u73B0\u591A\u91CD\u5206\u652F
if \u6761\u4EF61 then \u8BED\u53E51
elseif \u6761\u4EF62 then \u8BED\u53E52;
...
[else \u8BED\u53E5n;]
end if
\u5E94\u7528\u5728begin end\u4E2D
*/</span>
<span class="token comment">-- \u6848\u4F8B\uFF1A\u6839\u636E\u4F20\u5165\u7684\u6210\u7EE9\uFF0C\u6765\u663E\u793A\u7B49\u7EA7\uFF0C\u6BD4\u5982\u4F20\u5165\u7684\u6210\u7EE9\uFF1A90-100\uFF0C\u8FD4\u56DEA\uFF1B80-90\uFF0C\u8FD4\u56DEB\uFF1B60-80\uFF0C\u8FD4\u56DEC\uFF0C\u5426\u5219\u8FD4\u56DED</span>

<span class="token keyword">CREATE</span> <span class="token keyword">FUNCTION</span> test_if<span class="token punctuation">(</span>score <span class="token keyword">INT</span><span class="token punctuation">)</span> <span class="token keyword">RETURNS</span> <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">BEGIN</span>
	<span class="token keyword">IF</span> score<span class="token operator">&gt;=</span><span class="token number">90</span> <span class="token operator">AND</span> score<span class="token operator">&lt;=</span><span class="token number">100</span> <span class="token keyword">THEN</span> <span class="token keyword">RETURN</span> <span class="token string">&#39;A&#39;</span><span class="token punctuation">;</span>
	<span class="token keyword">ELSEIF</span> score<span class="token operator">&gt;=</span><span class="token number">80</span> <span class="token operator">AND</span> score<span class="token operator">&lt;=</span><span class="token number">90</span> <span class="token keyword">THEN</span> <span class="token keyword">RETURN</span> <span class="token string">&#39;B&#39;</span><span class="token punctuation">;</span>
	<span class="token keyword">ELSEIF</span> score<span class="token operator">&gt;=</span><span class="token number">60</span> <span class="token operator">AND</span> score<span class="token operator">&lt;=</span><span class="token number">80</span> <span class="token keyword">THEN</span> <span class="token keyword">RETURN</span> <span class="token string">&#39;C&#39;</span><span class="token punctuation">;</span>
	<span class="token keyword">ELSE</span> <span class="token keyword">RETURN</span> <span class="token string">&#39;D&#39;</span><span class="token punctuation">;</span>
	<span class="token keyword">END</span> <span class="token keyword">IF</span><span class="token punctuation">;</span>
<span class="token keyword">END</span> $

<span class="token keyword">SELECT</span> test_if<span class="token punctuation">(</span><span class="token number">86</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
\u4E8C\u3001\u5FAA\u73AF\u7ED3\u6784
\u5206\u7C7B\uFF1A
	while\u3001loop\u3001repeat
\u5FAA\u73AF\u63A7\u5236\uFF1A
	iterate \u7C7B\u4F3C\u4E8Econtinue\uFF0C\u7EE7\u7EED\uFF0C\u7ED3\u675F\u672C\u6B21\u5FAA\u73AF\uFF0C\u7EE7\u7EED\u4E0B\u4E00\u6B21
	leave \u7C7B\u4F3C\u4E8E break\uFF0C\u8DF3\u51FA\uFF0C\u7ED3\u675F\u5F53\u524D\u6240\u5728\u7684\u5FAA\u73AF
*/</span>

<span class="token comment">/*
1\u3001while
\u8BED\u6CD5\uFF1A
[\u6807\u7B7E:]while \u5FAA\u73AF\u6761\u4EF6 do
	\u5FAA\u73AF\u4F53
end while [\u6807\u7B7E];
\u8054\u60F3\uFF1A
while(\u5FAA\u73AF\u6761\u4EF6){
	\u5FAA\u73AF\u4F53;
}
*/</span>
<span class="token comment">-- 1\u3001\u6CA1\u6709\u6DFB\u52A0\u5FAA\u73AF\u63A7\u5236\u8BED\u53E5</span>
<span class="token comment">-- \u6848\u4F8B\uFF1A\u6279\u91CF\u63D2\u5165\uFF0C\u6839\u636E\u6B21\u6570\u63D2\u5165\u5230admin\u8868\u4E2D\u591A\u6761\u8BB0\u5F55</span>
<span class="token keyword">DELIMITER</span> $
<span class="token keyword">CREATE</span> <span class="token keyword">PROCEDURE</span> pro_while1<span class="token punctuation">(</span><span class="token operator">IN</span> insertCount <span class="token keyword">INT</span><span class="token punctuation">)</span>
<span class="token keyword">BEGIN</span>
	<span class="token keyword">DECLARE</span> i <span class="token keyword">INT</span> <span class="token keyword">DEFAULT</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">WHILE</span> i<span class="token operator">&lt;=</span>insertCount <span class="token keyword">DO</span>
		<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> admin<span class="token punctuation">(</span>username<span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">\`</span>password<span class="token punctuation">\`</span></span><span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span>CONCAT<span class="token punctuation">(</span><span class="token string">&#39;Rose&#39;</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&#39;666&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">SET</span> i <span class="token operator">=</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">END</span> <span class="token keyword">WHILE</span><span class="token punctuation">;</span>
<span class="token keyword">END</span> $

<span class="token keyword">CALL</span> pro_while1<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>$

<span class="token comment">-- 2\u3001\u6DFB\u52A0leave\u8BED\u53E5</span>
<span class="token comment">-- \u6848\u4F8B\uFF1A\u6279\u91CF\u63D2\u5165\uFF0C\u6839\u636E\u6B21\u6570\u63D2\u5165\u5230admin\u8868\u4E2D\u591A\u6761\u8BB0\u5F55\uFF0C\u5982\u679C\u6B21\u6570\u5927\u4E8E20\uFF0C\u5219\u505C\u6B62</span>
<span class="token keyword">CREATE</span> <span class="token keyword">PROCEDURE</span> pro_while1<span class="token punctuation">(</span><span class="token operator">IN</span> insertCount <span class="token keyword">INT</span><span class="token punctuation">)</span>
<span class="token keyword">BEGIN</span>
	<span class="token keyword">DECLARE</span> i <span class="token keyword">INT</span> <span class="token keyword">DEFAULT</span> <span class="token number">1</span><span class="token punctuation">;</span>
	a:<span class="token keyword">WHILE</span> i<span class="token operator">&lt;=</span>insertCount <span class="token keyword">DO</span>
		<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> admin<span class="token punctuation">(</span>username<span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">\`</span>password<span class="token punctuation">\`</span></span><span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span>CONCAT<span class="token punctuation">(</span><span class="token string">&#39;Rose&#39;</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&#39;666&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">IF</span> i<span class="token operator">&gt;=</span><span class="token number">20</span> <span class="token keyword">THEN</span> <span class="token keyword">LEAVE</span> a<span class="token punctuation">;</span>
		<span class="token keyword">END</span> <span class="token keyword">IF</span><span class="token punctuation">;</span>
		<span class="token keyword">SET</span> i <span class="token operator">=</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">END</span> <span class="token keyword">WHILE</span> a<span class="token punctuation">;</span>
<span class="token keyword">END</span> $

<span class="token keyword">CALL</span> pro_while1<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>$

<span class="token comment">-- 3\u3001\u6DFB\u52A0iterate\u8BED\u53E5</span>
<span class="token comment">-- \u6848\u4F8B\uFF1A\u6279\u91CF\u63D2\u5165\uFF0C\u6839\u636E\u6B21\u6570\u63D2\u5165\u5230admin\u8868\u4E2D\u591A\u6761\u8BB0\u5F55\uFF0C\u53EA\u63D2\u5165\u5076\u6570\u6B21</span>
<span class="token keyword">CREATE</span> <span class="token keyword">PROCEDURE</span> pro_while1<span class="token punctuation">(</span><span class="token operator">IN</span> insertCount <span class="token keyword">INT</span><span class="token punctuation">)</span>
<span class="token keyword">BEGIN</span>
	<span class="token keyword">DECLARE</span> i <span class="token keyword">INT</span> <span class="token keyword">DEFAULT</span> <span class="token number">0</span><span class="token punctuation">;</span>
	a:<span class="token keyword">WHILE</span> i<span class="token operator">&lt;=</span>insertCount <span class="token keyword">DO</span>
		<span class="token keyword">SET</span> i <span class="token operator">=</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token keyword">IF</span> <span class="token function">MOD</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">!=</span><span class="token number">0</span> <span class="token keyword">THEN</span> <span class="token keyword">ITERATE</span> a<span class="token punctuation">;</span>
		<span class="token keyword">END</span> <span class="token keyword">IF</span><span class="token punctuation">;</span>
		<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> admin<span class="token punctuation">(</span>username<span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">\`</span>password<span class="token punctuation">\`</span></span><span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span>CONCAT<span class="token punctuation">(</span><span class="token string">&#39;Rose&#39;</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&#39;666&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">END</span> <span class="token keyword">WHILE</span> a<span class="token punctuation">;</span>
<span class="token keyword">END</span> $

<span class="token keyword">CALL</span> pro_while1<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>$

<span class="token comment">/*
2\u3001loop
\u8BED\u6CD5\uFF1A
[\u6807\u7B7E:]loop
	\u5FAA\u73AF\u4F53;
end loop [\u6807\u7B7E];
\u53EF\u4EE5\u7528\u6765\u6A21\u62DF\u7B80\u5355\u7684\u6B7B\u5FAA\u73AF
*/</span>

<span class="token comment">/*
3\u3001repeat
[\u6807\u7B7E:]repeat
	\u5FAA\u73AF\u4F53;
until \u7ED3\u675F\u5FAA\u73AF\u7684\u6761\u4EF6
end repeat [\u6807\u7B7E];
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u7EC3\u4E60-8"><a class="header-anchor" href="#\u7EC3\u4E60-8" aria-hidden="true">#</a> \u7EC3\u4E60</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">/*
\u4E00\u3001\u5DF2\u77E5\u8868 stringcontent
\u5176\u4E2D\u5B57\u6BB5\uFF1A
id \u81EA\u589E\u957F
content varchar(20)

\u5411\u8BE5\u8868\u63D2\u5165\u6307\u5B9A\u4E2A\u6570\u7684\uFF0C\u968F\u673A\u7684\u5B57\u7B26\u4E32
*/</span>
<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> stringcontent<span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> stringcontent<span class="token punctuation">(</span>
	id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
	content <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">DELIMITER</span> $<span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">PROCEDURE</span> test_randstr_ineset<span class="token punctuation">(</span><span class="token operator">IN</span> insertCount <span class="token keyword">INT</span><span class="token punctuation">)</span>
<span class="token keyword">BEGIN</span>
	<span class="token keyword">DECLARE</span> i <span class="token keyword">INT</span> <span class="token keyword">DEFAULT</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">DECLARE</span> str <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">26</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;abcdefghijklmnopqrstuvwxyz&#39;</span><span class="token punctuation">;</span>
	<span class="token keyword">DECLARE</span> startIndex <span class="token keyword">INT</span> <span class="token keyword">DEFAULT</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">## \u4EE3\u8868\u8D77\u59CB\u7D22\u5F15</span>
	<span class="token keyword">DECLARE</span> len <span class="token keyword">INT</span> <span class="token keyword">DEFAULT</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">## \u4EE3\u8868\u622A\u53D6\u7684\u5B57\u7B26\u7684\u957F\u5EA6</span>
	<span class="token keyword">WHILE</span> i<span class="token operator">&lt;=</span>insertCount <span class="token keyword">DO</span>
		<span class="token keyword">SET</span>	len<span class="token operator">=</span>FLOOR<span class="token punctuation">(</span>RAND<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token operator">-</span>startIndex<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">#\u4EA7\u751F\u4E00\u4E2A\u968F\u673A\u7684\u6574\u6570\uFF0C\u4EE3\u8868\u622A\u53D6\u7684\u957F\u5EA6\uFF0C1~(26-startIndex+1)</span>
		<span class="token keyword">SET</span> startIndex<span class="token operator">=</span>FLOOR<span class="token punctuation">(</span>RAND<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">26</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">## \u4EA7\u751F\u4E00\u4E2A\u968F\u673A\u7684\u6574\u6570\uFF0C\u4EE3\u8868\u8D77\u59CB\u7D22\u5F151~26</span>
		<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> stringContent<span class="token punctuation">(</span>content<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span>SUBSTR<span class="token punctuation">(</span>str<span class="token punctuation">,</span>startIndex<span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">SET</span> i<span class="token operator">=</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">END</span> <span class="token keyword">WHILE</span><span class="token punctuation">;</span>
<span class="token keyword">END</span> $
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,164);function g(h,C){return S}var f=n(O,[["render",g],["__file","01.mysql\u57FA\u7840.html.vue"]]);export{f as default};
