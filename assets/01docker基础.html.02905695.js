import{_ as n,c as s}from"./app.1b3ac386.js";var a="/naive-dafou-ui-dist/assets/16382346572309.4e96d2d7.jpg",e="/naive-dafou-ui-dist/assets/16382351920177.15f4a687.jpg",t="/naive-dafou-ui-dist/assets/16382382499962.19581bf9.jpg",o="/naive-dafou-ui-dist/assets/16382384424339.169aca93.jpg",l="/naive-dafou-ui-dist/assets/16382395931138.71d30220.jpg",i="/naive-dafou-ui-dist/assets/16382446666880.53edcf5d.jpg",p="/naive-dafou-ui-dist/assets/16382447832522.11cea882.jpg",c="/naive-dafou-ui-dist/assets/16382448281067.59cb566a.jpg",r="/naive-dafou-ui-dist/assets/16382451352487.316df4dc.jpg",u="/naive-dafou-ui-dist/assets/16382454791182.a14c05b6.jpg",d="/naive-dafou-ui-dist/assets/16382456539290.21310ec5.jpg",m="/naive-dafou-ui-dist/assets/16382505278467.dd7918ea.jpg",k="/naive-dafou-ui-dist/assets/16382508149381.20cef50d.jpg",v="/naive-dafou-ui-dist/assets/16382512194829.3212542a.jpg",b="/naive-dafou-ui-dist/assets/16382637464620.8260358c.jpg",g="/naive-dafou-ui-dist/assets/16382641976850.baed4568.jpg",h="/naive-dafou-ui-dist/assets/16382642275746.05414a92.jpg",f="/naive-dafou-ui-dist/assets/16382696730204.eebfe74b.jpg",q="/naive-dafou-ui-dist/assets/16382697563496.52192411.jpg",x="/naive-dafou-ui-dist/assets/16382711983034.4ae7613c.jpg",y="/naive-dafou-ui-dist/assets/16382718387076.7d981738.jpg",w="/naive-dafou-ui-dist/assets/16382747922056.6f1b5d11.jpg",_="/naive-dafou-ui-dist/assets/16382803639688.2b103f77.jpg",D="/naive-dafou-ui-dist/assets/16382804060945.b497afbb.jpg",N="/naive-dafou-ui-dist/assets/16382809198534.aec67942.jpg",S="/naive-dafou-ui-dist/assets/16382815352308.a7bec9be.jpg",A="/naive-dafou-ui-dist/assets/16382817016123.93936e2f.jpg",I="/naive-dafou-ui-dist/assets/16382818567941.2e3a1582.jpg",R="/naive-dafou-ui-dist/assets/16382824036102.66a1bdac.jpg",O="/naive-dafou-ui-dist/assets/16382828996189.9a580476.jpg",T="/naive-dafou-ui-dist/assets/16382862226184.f560fffe.jpg",E="/naive-dafou-ui-dist/assets/16382875086455.7fcdd1ee.jpg",P="/naive-dafou-ui-dist/assets/16382877219598.4c524ce6.jpg",C="/naive-dafou-ui-dist/assets/16382888758072.cfb1aff3.jpg",M="/naive-dafou-ui-dist/assets/16383210852926.2097ed08.jpg",L="/naive-dafou-ui-dist/assets/16383212516880.a714cf61.jpg",j="/naive-dafou-ui-dist/assets/16383213713964.12917d41.jpg",U="/naive-dafou-ui-dist/assets/16383248292048.c8f27b18.jpg",B="/naive-dafou-ui-dist/assets/16383267390485.f706e469.jpg",G="/naive-dafou-ui-dist/assets/16383339308643.8549994e.jpg",F="/naive-dafou-ui-dist/assets/16383339446219.5416c0ef.jpg",z="/naive-dafou-ui-dist/assets/16383345821847.330d641f.jpg",V="/naive-dafou-ui-dist/assets/16383353273169.bebd3ba9.jpg",H="/naive-dafou-ui-dist/assets/16383425344025.c0d570c9.jpg",W="/naive-dafou-ui-dist/assets/16383425630636.10a3f588.jpg",Y="/naive-dafou-ui-dist/assets/16383438875147.782e501c.jpg",K="/naive-dafou-ui-dist/assets/16383443969026.a0130106.jpg",X="/naive-dafou-ui-dist/assets/16383454942755.717db19e.jpg",Q="/naive-dafou-ui-dist/assets/16383457634698.2d5e3f4b.jpg",Z="/naive-dafou-ui-dist/assets/16383481721439.54c8a6f7.jpg",J="/naive-dafou-ui-dist/assets/16383485422890.fa1eb6ea.jpg",$="/naive-dafou-ui-dist/assets/16383487742241.8374b1b2.jpg",nn="/naive-dafou-ui-dist/assets/16383487839642.04fc712c.jpg",sn="/naive-dafou-ui-dist/assets/16383488237130.cd09f100.jpg",an="/naive-dafou-ui-dist/assets/16383489059125.8bcbae7b.jpg",en="/naive-dafou-ui-dist/assets/16383502332865.c121783d.jpg",tn="/naive-dafou-ui-dist/assets/16383538933927.ef831489.jpg",on="/naive-dafou-ui-dist/assets/16383544179921.d0c305cc.jpg",ln="/naive-dafou-ui-dist/assets/16383546071967.7f459ccf.jpg",pn="/naive-dafou-ui-dist/assets/16383598179009.f3082ea3.jpg",cn="/naive-dafou-ui-dist/assets/16383598593014.6b368ca6.jpg",rn="/naive-dafou-ui-dist/assets/16383601641965.6230568c.jpg",un="/naive-dafou-ui-dist/assets/16383607408288.bf8c0d0e.jpg",dn="/naive-dafou-ui-dist/assets/16383619418066.08a4ace3.jpg",mn="/naive-dafou-ui-dist/assets/16383619560497.f1fbda2b.jpg",kn="/naive-dafou-ui-dist/assets/16383632955885.e1f0bd48.jpg",vn="/naive-dafou-ui-dist/assets/16383631449787.af03ceb7.jpg",bn="/naive-dafou-ui-dist/assets/16383632424595.a7061b7f.jpg",gn="/naive-dafou-ui-dist/assets/16383633722628.fbf0f14d.jpg",hn="/naive-dafou-ui-dist/assets/16383635659550.53ed4174.jpg",fn="/naive-dafou-ui-dist/assets/16383638137821.0170fd50.jpg",qn="/naive-dafou-ui-dist/assets/16383639932399.d982818e.jpg",xn="/naive-dafou-ui-dist/assets/16383641404420.fe0c738f.jpg",yn="/naive-dafou-ui-dist/assets/16383644657256.0a3d11a7.jpg",wn="/naive-dafou-ui-dist/assets/16383645451430.bfc39701.jpg",_n="/naive-dafou-ui-dist/assets/16383645767839.dfd950c4.jpg",Dn="/naive-dafou-ui-dist/assets/16383646063166.4430cf96.jpg",Nn="/naive-dafou-ui-dist/assets/16383646302836.a6da8d91.jpg",Sn="/naive-dafou-ui-dist/assets/16383646523592.b5c37d36.jpg",An="/naive-dafou-ui-dist/assets/16383649949435.fbac3100.jpg",In="/naive-dafou-ui-dist/assets/16383650056388.cd4bde90.jpg",Rn="/naive-dafou-ui-dist/assets/16383651753378.2dcfa5f0.jpg",On="/naive-dafou-ui-dist/assets/16383652087103.9b875bbd.jpg",Tn="/naive-dafou-ui-dist/assets/16383652387865.bbd57cd7.jpg",En="/naive-dafou-ui-dist/assets/16383655464408.6643773b.jpg",Pn="/naive-dafou-ui-dist/assets/16383660426623.142cccb9.jpg",Cn="/naive-dafou-ui-dist/assets/16383661112388.9467539c.jpg",Mn="/naive-dafou-ui-dist/assets/16383661599869.ffcb34f3.jpg",Ln="/naive-dafou-ui-dist/assets/16383662997918.885a9846.jpg",jn="/naive-dafou-ui-dist/assets/16383663957922.90e9076f.jpg",Un="/naive-dafou-ui-dist/assets/16383669419174.285e79a2.jpg",Bn="/naive-dafou-ui-dist/assets/16386094466127.be7c48a7.jpg",Gn="/naive-dafou-ui-dist/assets/16386198632278.18e91682.jpg",Fn="/naive-dafou-ui-dist/assets/16386214847492.54f3658a.jpg",zn="/naive-dafou-ui-dist/assets/16386219602229.6d51afa9.jpg",Vn="/naive-dafou-ui-dist/assets/16386294518345.8e504e4c.jpg",Hn="/naive-dafou-ui-dist/assets/16386295539934.cae01a53.jpg",Wn="/naive-dafou-ui-dist/assets/16386330421831.aa5ee5db.jpg",Yn="/naive-dafou-ui-dist/assets/16386332495439.23687e81.jpg",Kn="/naive-dafou-ui-dist/assets/16386350640518.bbe9ae63.jpg",Xn="/naive-dafou-ui-dist/assets/16386358862461.dec16e01.jpg",Qn="/naive-dafou-ui-dist/assets/16386388025010.0e789f62.jpg",Zn="/naive-dafou-ui-dist/assets/16386398773669.66bd4b7b.jpg";const Jn={},$n=s('<h2 id="\u6982\u8FF0"><a class="header-anchor" href="#\u6982\u8FF0" aria-hidden="true">#</a> \u6982\u8FF0</h2><h3 id="docker\u5B66\u4E60\u77E5\u8BC6\u70B9"><a class="header-anchor" href="#docker\u5B66\u4E60\u77E5\u8BC6\u70B9" aria-hidden="true">#</a> Docker\u5B66\u4E60\u77E5\u8BC6\u70B9</h3><ul><li>Docker\u6982\u8FF0</li><li>Docker\u5B89\u88C5</li><li>Docker\u547D\u4EE4 <ul><li>\u955C\u50CF\u547D\u4EE4</li><li>\u5BB9\u5668\u547D\u4EE4</li><li>\u64CD\u4F5C\u547D\u4EE4</li></ul></li><li>Docker\u955C\u50CF</li><li>\u5BB9\u5668\u7684\u6570\u636E\u5377</li><li>DockerFile</li><li>Docker\u7F51\u7EDC\u539F\u7406</li><li>idea\u6574\u5408Docker</li><li>Docker Compose</li><li>Docker Swarm</li><li>CI\\CD jenkins\u6D41\u6C34\u7EBF</li></ul><h3 id="docker\u6982\u8FF0"><a class="header-anchor" href="#docker\u6982\u8FF0" aria-hidden="true">#</a> Docker\u6982\u8FF0</h3><h4 id="docker\u4E3A\u4EC0\u4E48\u51FA\u73B0"><a class="header-anchor" href="#docker\u4E3A\u4EC0\u4E48\u51FA\u73B0" aria-hidden="true">#</a> Docker\u4E3A\u4EC0\u4E48\u51FA\u73B0\uFF1F</h4><p>\u505A\u4E00\u6B3E\u4E00\u6B3E\u4EA7\u54C1\uFF0C\u4F1A\u7ECF\u5386\u4E24\u4E2A\u9636\u6BB5\uFF1A\u5F00\u53D1-\u4E0A\u7EBF\uFF0C\u7ECF\u5E38\u4F1A\u6709\u4E24\u5957\u73AF\u5883\u4E24\u5957\u73AF\u5883\uFF0C\u8FD9\u4E2A\u73AF\u5883\u90E8\u7F72\u7684\u8BDD\uFF0C\u5F00\u59CB\u7684\u65F6\u5019\u662F\u975E\u5E38\u9EBB\u70E6\u7684\uFF0C\u5F00\u53D1\u73AF\u5883\u8981\u5230\u4E0A\u7EBF\u7684\u65F6\u5019\uFF0C\u8FD8\u8981\u90E8\u7F72\u5230\u5E94\u7528\u73AF\u5883\uFF0C\u7136\u540E\u4E00\u4E9B\u5E94\u7528\u8FD8\u9700\u8981\u914D\u7F6E\uFF0C\u6BD4\u5982\u8BF4\u914D\u7F6E\u7AEF\u53E3\u3001\u6570\u636E\u5E93\u8FDE\u63A5\u7B49</p><p>\u8FD9\u65F6\u5019\u4EA7\u751F\u4E86\u4E24\u4E2A\u89D2\u8272\uFF1A\u5F00\u53D1\u4EBA\u5458\u548C\u8FD0\u7EF4\u4EBA\u5458\uFF0C\u5C31\u4F1A\u51FA\u73B0\u4E00\u4E9B\u95EE\u9898\uFF1A\u6211\u5728\u6211\u7684\u7535\u8111\u4E0A\u53EF\u4EE5\u8FD0\u884C\uFF0C\u4F46\u662F\u5728\u6D4B\u8BD5\u6216\u8005\u8FD0\u7EF4\u4EBA\u5458\u4E0A\u4E0D\u80FD\u8FD0\u884C\u6216\u8005\u51FA\u73B0bug\uFF0C\u6216\u8005\u4E0A\u7EBF\u66F4\u65B0\u4E00\u4E9B\u8F6F\u4EF6\u6216\u8005\u73AF\u5883\u7248\u672C\u66F4\u65B0\u5BFC\u81F4\u5E94\u7528\u4E0D\u80FD\u7528\u4E86\uFF0C\u5BF9\u4E8E\u8FD0\u7EF4\u6765\u8BF4\uFF0C\u8003\u9A8C\u5C31\u975E\u5E38\u5927\u4E86\u3002</p><p>\u6B64\u65F6\u5C31\u4F1A\u51FA\u73B0\u4E24\u4E2A\u89E3\u51B3\u65B9\u6848\uFF1A\u8981\u4E48\u8FD0\u7EF4\u6765\u5B66\u4E60\u5F00\u53D1\uFF0C\u8981\u4E48\u5F00\u53D1\u53BB\u5B66\u4E60\u8FD0\u7EF4\uFF0C\u5373\u5F00\u53D1\u5373\u8FD0\u7EF4</p><p>\u73AF\u5883\u914D\u7F6E\u662F\u5341\u5206\u9EBB\u70E6\u7684\uFF0C\u5728\u96C6\u7FA4\u90E8\u7F72\u7684\u60C5\u51B5\u4E0B\uFF0C\u6BCF\u4E00\u4E2A\u673A\u5668\u90FD\u8981\u90E8\u7F72\u73AF\u5883\uFF08Redis\u3001ES\u3001Hadoop....\uFF09\uFF0C\u8D39\u65F6\u8D39\u529B</p><p>\u53D1\u5E03\u4E00\u4E2A\u9879\u76EE\uFF0C\u4EE5\u524D\u53EF\u80FD\u662F\u53D1\u5E03\u4E3A\u4E00\u4E2Ajar\u6216\u8005war\uFF0C\u5047\u5982\u9700\u8981\u7684\u73AF\u5883\u662FRedis\u3001MySQL\u3001jdk\u3001ES\uFF0C\u672C\u6765\u8FD0\u884C\u4E00\u4E2Ajar\u5C31\u662F\u4E00\u5206\u949F\u7684\u4E8B\uFF0C\u4F46\u662F\u914D\u7F6E\u73AF\u5883\u6709\u65F6\u5019\u9700\u8981\u4E00\u5929\u90FD\u90E8\u7F72\u4E0D\u597D\uFF0C\u8FD9\u4E2A\u65F6\u5019\uFF0C\u5982\u679C\u80FD\u5E26\u7740\u6211\u4EEC\u672C\u5730\u8FD0\u884C\u7684\u73AF\u5883\u4E00\u8D77\u4E0A\u7EBF\u5C31\u597D\u4E86\uFF0C\u5373\u53D8\u6210\u4E86\u53D1\u5E03\u4E3Ajar+\u8FD9\u4E9BRedis\u3001MySQL\u3001jdk\u3001ES\u73AF\u5883\uFF0C\u9879\u76EE\u5E26\u4E0A\u73AF\u5883\u5B89\u88C5\u6253\u5305</p><p>\u4E4B\u524D\u5728\u670D\u52A1\u5668\u914D\u7F6E\u4E00\u4E2A\u5E94\u7528\u73AF\u5883\uFF0C\u914D\u7F6E\u8D85\u7EA7\u9EBB\u70E6\uFF0C\u4E0D\u80FD\u591F\u8DE8\u5E73\u53F0</p><p>window\u4E0A\u5F00\u53D1\uFF0C\u6700\u540E\u53D1\u5E03\u5230Linux</p><ul><li>\u4F20\u7EDF\uFF1A\u5F00\u53D1jar\uFF0C\u7136\u540E\u53D1\u7ED9\u8FD0\u7EF4\uFF0C\u8BA9\u8FD0\u7EF4\u6765\u914D\u7F6E\u548C\u90E8\u7F72</li><li>\u73B0\u5728\uFF1A\u5F00\u53D1\u6253\u5305\u90E8\u7F72\u4E0A\u7EBF\uFF0C\u4E00\u5957\u6D41\u7A0B\u505A\u5B8C</li></ul><p>Docker\u7ED9\u4EE5\u4E0A\u7684\u95EE\u9898\uFF0C\u7ED9\u51FA\u4E86\u89E3\u51B3\u65B9\u6848\uFF0C</p><p>java-&gt;jar(\u73AF\u5883)-&gt;\u6253\u5305\u9879\u76EE\u6253\u4E0A\u73AF\u5883\uFF08Docker\u955C\u50CF\uFF09-&gt;Docker\u4ED3\u5E93-&gt;\u4E0B\u8F7D\u6211\u4EEC\u53D1\u5E03\u7684\u955C\u50CF-&gt;\u76F4\u63A5\u8FD0\u884C\u5373\u53EF</p><p>\u5BB9\u5668-\u955C\u50CF-\u4ED3\u5E93</p><p>https://www.docker.com/</p><p><img src="'+a+'" alt=""></p><p>Docker\u7684\u601D\u60F3\u5C31\u6765\u81EA\u4E8E\u96C6\u88C5\u7BB1</p><p>\u539F\u6765\u7684\u8BDD\uFF0C\u591A\u4E2AJava\u5E94\u7528\u7A0B\u5E8F\u8FD0\u884C\u5728\u540C\u4E00\u4E2Ajre\u73AF\u5883\u4E2D\uFF0C\u6709\u53EF\u80FD\u4F1A\u51FA\u73B0\u51B2\u7A81\uFF0C\u6BD4\u5982\u7AEF\u53E3\u5360\u7528\uFF0C\u5728\u539F\u6765\u90FD\u662F\u4EA4\u53C9\u7684</p><p>\u73B0\u5728\u7684\u8BDD\uFF0C\u5C31\u8981\u628A\u5B83\u9694\u79BB\uFF08Docker\u7684\u6838\u5FC3\u601D\u60F3\uFF09\u5F00\u6765\uFF0C\u6253\u5305\u88C5\u7BB1\uFF0C\u6BCF\u4E2A\u7BB1\u5B50\u662F\u4E92\u76F8\u9694\u79BB\u7684</p><p>\u4E00\u4E2A\u7BB1\u5B50\u88C5\u6C34\u679C\uFF0C\u4E00\u4E2A\u7BB1\u5B50\u88C5\u751F\u5316\u6B66\u5668\uFF0C\u539F\u6765\u7684\u8BDD\uFF0C\u662F\u4E0D\u80FD\u628A\u5B83\u4EEC\u653E\u5728\u4E00\u4E2A\u8239\u91CC\u53BB\u88C5\u7684\uFF0C\u73B0\u5728\u4F7F\u7528\u7BB1\u5B50\u628A\u5B83\u4EEC\u9694\u79BB</p><p>Docker\u901A\u8FC7\u9694\u79BB\u673A\u5236\uFF0C\u53EF\u4EE5\u5C06\u670D\u52A1\u5668\u5229\u7528\u5230\u6781\u81F4</p><p>\u6C99\u7BB1</p><h4 id="docker\u7684\u5386\u53F2"><a class="header-anchor" href="#docker\u7684\u5386\u53F2" aria-hidden="true">#</a> Docker\u7684\u5386\u53F2</h4><p>2010\u5E74\uFF0C\u51E0\u4E2A\u641EIT\u7684\u5E74\u8F7B\u4EBA\uFF0C\u5C31\u5728\u7F8E\u56FD\u6210\u7ACB\u4E86\u4E00\u5BB6\u516C\u53F8dotCloud\uFF0C\u5F00\u59CB\u662F\u505A\u4E00\u4E9Bpass\u7684\u4E91\u8BA1\u7B97\u670D\u52A1</p><p>Linux\u6709\u5173\u7684\u5BB9\u5668\u6280\u672F\uFF0CLXC\u6709\u5173\u7684\u5BB9\u5668\u6280\u672F</p><p><img src="'+e+'" alt=""></p><p>\u5B83\u4EEC\u5C06\u81EA\u5DF1\u7684\u6280\u672F \u5BB9\u5668\u5316\u6280\u672F\u8FDB\u884C\u4E86\u7EDF\u4E00\u7684\u7B80\u5316\u547D\u540DDocker</p><p>Docker\u521A\u521A\u8BDE\u751F\u7684\u65F6\u5019\uFF0C\u6CA1\u6709\u5F15\u8D77\u884C\u4E1A\u7684\u6CE8\u610F\uFF0CdotCloud\u6D3B\u4E0D\u4E0B\u53BB\u4E86\uFF0C\u6CA1\u6709\u529E\u6CD5\u5C06Docker\u5F00\u6E90</p><p>2013\u5E74\uFF0CDocker\u5F00\u6E90\uFF0C\u8D8A\u6765\u8D8A\u591A\u7684\u4EBA\u53D1\u73B0\u4E86Docker\u7684\u4F18\u70B9\uFF0C\u5C31\u706B\u4E86</p><p>2014\u5E749\u6708\uFF0CDocker1.0\u53D1\u5E03</p><h4 id="docker\u4E3A\u4EC0\u4E48\u8FD9\u4E48\u706B"><a class="header-anchor" href="#docker\u4E3A\u4EC0\u4E48\u8FD9\u4E48\u706B" aria-hidden="true">#</a> Docker\u4E3A\u4EC0\u4E48\u8FD9\u4E48\u706B\uFF1F</h4><p>Docker\u865A\u62DF\u673A\u5341\u5206\u7684\u8F7B\u5DE7</p><p>\u5728\u5BB9\u5668\u6280\u672F\u51FA\u6765\u4E4B\u524D\uFF0C\u6211\u4EEC\u90FD\u662F\u4F7F\u7528\u865A\u62DF\u673A\u6280\u672F\uFF0C\u865A\u62DF\u673A\u9700\u8981\u5728window\u4E2D\u5B89\u88C5\u4E00\u4E2Avmware\uFF0C\u901A\u8FC7\u8F6F\u4EF6\u6211\u4EEC\u53EF\u4EE5\u865A\u62DF\u51FA\u6765\u4E00\u53F0\u6216\u8005\u591A\u53F0\u7535\u8111\uFF0C\u5341\u5206\u7B28\u91CD</p><p>\u865A\u62DF\u673A\u4E5F\u662F\u5C5E\u4E8E\u865A\u62DF\u5316\u6280\u672F\uFF0CDocker\u7684\u5BB9\u5668\u6280\u672F\u4E5F\u662F\u4E00\u79CD\u865A\u62DF\u5316\u6280\u672F</p><ul><li>vmware\uFF1Alinux centos\u539F\u751F\u955C\u50CF\uFF08\u4E00\u4E2A\u7535\u8111\uFF09\uFF0C\u8981\u505A\u9694\u79BB\u7684\u8BDD\uFF0C\u9700\u8981\u5F00\u542F\u591A\u4E2A\u865A\u62DF\u673A</li><li>Docker\uFF1A\u4E5F\u662F\u8981\u505A\u9694\u79BB\uFF0C\u4F7F\u7528\u955C\u50CF\u6280\u672F\uFF08\u53EA\u6709\u6700\u6838\u5FC3\u7684\u73AF\u5883\uFF09\u5341\u5206\u7684\u5C0F\u5DE7\uFF0C\u8FD0\u884C\u955C\u50CF\u5C31\u53EF\u4EE5\u4E86</li></ul><p>Docker\u662F\u57FA\u4E8Ego\u8BED\u8A00\u5F00\u53D1\u7684\u5F00\u6E90\u9879\u76EE</p><p>\u6587\u6863\u5730\u5740\uFF1Ahttps://docs.docker.com/ Docker\u7684\u6587\u6863\u662F\u8D85\u7EA7\u8BE6\u7EC6\u7684</p><p>\u4ED3\u5E93\u5730\u5740\uFF1Ahttps://hub.docker.com/</p><h3 id="docker\u80FD\u5E72\u561B"><a class="header-anchor" href="#docker\u80FD\u5E72\u561B" aria-hidden="true">#</a> Docker\u80FD\u5E72\u561B</h3><h4 id="\u4E4B\u524D\u7684\u865A\u62DF\u673A\u6280\u672F"><a class="header-anchor" href="#\u4E4B\u524D\u7684\u865A\u62DF\u673A\u6280\u672F" aria-hidden="true">#</a> \u4E4B\u524D\u7684\u865A\u62DF\u673A\u6280\u672F</h4><p><img src="'+t+'" alt=""></p><p>\u865A\u62DF\u673A\u7684\u7F3A\u70B9\uFF1A</p><ul><li>\u5185\u5B58\u5360\u7528\u5927</li><li>\u8D44\u6E90\u6D6A\u8D39\uFF0C\u8D44\u6E90\u5360\u7528\u5341\u5206\u591A</li><li>\u5197\u4F59\u6B65\u9AA4\u591A</li><li>\u542F\u52A8\u5F88\u6162</li></ul><h4 id="\u5BB9\u5668\u5316\u6280\u672F"><a class="header-anchor" href="#\u5BB9\u5668\u5316\u6280\u672F" aria-hidden="true">#</a> \u5BB9\u5668\u5316\u6280\u672F</h4><p>\u5BB9\u5668\u5316\u5C31\u662F\u4E0D\u662F\u6A21\u62DF\u7684\u5B8C\u6574\u7684\u64CD\u4F5C\u7CFB\u7EDF</p><p><img src="'+o+'" alt=""></p><p>\u6BD4\u8F83Docker\u548C\u865A\u62DF\u673A\u6280\u672F\u7684\u4E0D\u540C</p><ul><li>\u4F20\u7EDF\u7684\u865A\u62DF\u673A\uFF0C\u865A\u62DF\u51FA\u4E00\u6761\u786C\u4EF6\uFF0C\u8FD0\u884C\u4E00\u4E2A\u5B8C\u6574\u7684\u64CD\u4F5C\u7CFB\u7EDF\uFF0C\u7136\u540E\u5728\u8FD9\u4E2A\u7CFB\u7EDF\u4E0A\u5B89\u88C5\u548C\u8FD0\u884C\u8F6F\u4EF6</li><li>\u5BB9\u5668\u5185\u7684\u5E94\u7528\u662F\u76F4\u63A5\u8FD0\u884C\u5728\u5BBF\u4E3B\u673A\u7684\u5185\u6838\u4E0A\uFF0C\u5BB9\u5668\u662F\u6CA1\u6709\u81EA\u5DF1\u7684\u5185\u6838\u7684\uFF0C\u4E5F\u6CA1\u6709\u865A\u62DF\u6211\u4EEC\u7684\u786C\u4EF6\uFF0C\u6240\u4EE5\u5C31\u8F7B\u4FBF\u4E86</li><li>\u6BCF\u4E2A\u5BB9\u5668\u95F4\u662F\u4E92\u76F8\u9694\u79BB\u7684\uFF0C\u6BCF\u4E2A\u5BB9\u5668\u5185\u90FD\u6709\u4E00\u4E2A\u5C5E\u4E8E\u81EA\u5DF1\u7684\u6587\u4EF6\u7CFB\u7EDF\uFF0C\u4E92\u4E0D\u5F71\u54CD</li></ul><h4 id="devops-\u5F00\u53D1\u3001\u8FD0\u7EF4"><a class="header-anchor" href="#devops-\u5F00\u53D1\u3001\u8FD0\u7EF4" aria-hidden="true">#</a> DevOps\uFF08\u5F00\u53D1\u3001\u8FD0\u7EF4\uFF09</h4><ul><li>\u66F4\u5FEB\u901F\u7684\u4EA4\u4ED8\u548C\u90E8\u7F72 <ul><li>\u4F20\u7EDF\uFF1A\u4E00\u5806\u5E2E\u52A9\u6587\u6863\uFF0C\u5B89\u88C5\u7A0B\u5E8F</li><li>Docker\uFF1A\u6253\u5305\u955C\u50CF\u53D1\u5E03\u6D4B\u8BD5\uFF0C\u4E00\u952E\u8FD0\u884C</li></ul></li><li>\u66F4\u4FBF\u6377\u7684\u5347\u7EA7\u548C\u6269\u7F29\u5BB9 <ul><li>\u4F7F\u7528Docker\u4E4B\u540E\uFF0C\u6211\u4EEC\u90E8\u7F72\u5E94\u7528\u5C31\u548C\u642D\u79EF\u6728\u4E00\u6837</li><li>\u9879\u76EE\u6253\u5305\u4E3A\u4E00\u4E2A\u955C\u50CF\uFF0C\u6253\u5305\u6269\u5C55</li></ul></li><li>\u66F4\u7B80\u5355\u7684\u7CFB\u7EDF\u8FD0\u7EF4 <ul><li>\u5728\u5BB9\u5668\u5316\u4E4B\u540E\uFF0C\u6211\u4EEC\u7684\u5F00\u53D1\uFF0C\u6D4B\u8BD5\u73AF\u5883\u90FD\u662F\u9AD8\u5EA6\u4E00\u81F4</li></ul></li><li>\u66F4\u9AD8\u6548\u7684\u8BA1\u7B97\u8D44\u6E90\u5229\u7528 <ul><li>Docker\u662F\u5185\u6838\u7EA7\u7684\u865A\u62DF\u5316\uFF0C\u53EF\u4EE5\u5728\u4E00\u4E2A\u7269\u7406\u673A\u4E0A\u8FD0\u884C\u5F88\u591A\u7684\u5BB9\u5668\u5B9E\u4F8B\uFF0C\u670D\u52A1\u5668\u6027\u80FD\u53EF\u4EE5\u4F7F\u7528\u5230\u6781\u81F4</li></ul></li></ul><h3 id="docker\u4E2D\u7684\u540D\u8BCD\u6982\u5FF5"><a class="header-anchor" href="#docker\u4E2D\u7684\u540D\u8BCD\u6982\u5FF5" aria-hidden="true">#</a> Docker\u4E2D\u7684\u540D\u8BCD\u6982\u5FF5</h3><p><img src="'+l+`" alt=""></p><ul><li>\u5BA2\u6237\u7AEF</li><li>\u670D\u52A1\u5668</li><li>\u955C\u50CF\uFF08image\uFF09 <ul><li>Docker\u955C\u50CF\u5C31\u597D\u6BD4\u662F\u4E00\u4E2A\u6A21\u677F\uFF0C\u53EF\u4EE5\u901A\u8FC7\u8FD9\u4E2A\u6A21\u677F\u6765\u521B\u5EFA\u5BB9\u5668\u670D\u52A1\uFF0CTomcat\u955C\u50CF-&gt;run-&gt;tomcat1\u5BB9\u5668\uFF08\u63D0\u4F9B\u670D\u52A1\uFF09</li><li>\u901A\u8FC7\u8FD9\u4E2A\u955C\u50CF\u53EF\u4EE5\u521B\u5EFA\u591A\u4E2A\u5BB9\u5668\uFF08\u6700\u7EC8\u670D\u52A1\u8FD0\u884C\u6216\u8005\u9879\u76EE\u8FD0\u884C\u5C31\u662F\u5728\u5BB9\u5668\u4E2D\u7684\uFF09</li></ul></li><li>\u5BB9\u5668\uFF08container\uFF09 <ul><li>Docker\u5229\u7528\u5BB9\u5668\u6280\u672F\uFF0C\u72EC\u7ACB\u8FD0\u884C\u4E00\u4E2A\u6216\u8005\u4E00\u7EC4\u5E94\u7528\uFF0C\u901A\u8FC7\u955C\u50CF\u6765\u521B\u5EFA\u7684</li><li>\u542F\u52A8\uFF0C\u505C\u6B62\uFF0C\u5220\u9664\u7B49\u57FA\u672C\u547D\u4EE4</li><li>\u76EE\u524D\uFF0C\u5C31\u53EF\u4EE5\u628A\u5BB9\u5668\u7406\u89E3\u4E3A\u7B80\u6613\u7684Linux\u7CFB\u7EDF</li></ul></li><li>\u4ED3\u5E93\uFF08repository\uFF09 <ul><li>\u4ED3\u5E93\u5C31\u662F\u5B58\u653E\u955C\u50CF\u7684\u5730\u65B9</li><li>\u4ED3\u5E93\u53EF\u4EE5\u5206\u4E3A\u516C\u6709\u4ED3\u5E93\u548C\u79C1\u6709\u4ED3\u5E93</li><li>Docker Hub\uFF08\u9ED8\u8BA4\u662F\u56FD\u5916\u7684\uFF09</li><li>\u963F\u91CC\u4E91\u3001\u7F51\u6613\u4E91\u7B49\u90FD\u6709\u5BB9\u5668\u670D\u52A1\u5668\uFF08\u9ED8\u8BA4\u955C\u50CF\u52A0\u901F\uFF09</li></ul></li></ul><h2 id="\u5B89\u88C5"><a class="header-anchor" href="#\u5B89\u88C5" aria-hidden="true">#</a> \u5B89\u88C5</h2><h3 id="\u73AF\u5883\u51C6\u5907"><a class="header-anchor" href="#\u73AF\u5883\u51C6\u5907" aria-hidden="true">#</a> \u73AF\u5883\u51C6\u5907</h3><ol><li>Linux\u57FA\u7840</li><li>centos7</li></ol><h3 id="\u73AF\u5883\u67E5\u770B"><a class="header-anchor" href="#\u73AF\u5883\u67E5\u770B" aria-hidden="true">#</a> \u73AF\u5883\u67E5\u770B</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">## \u7CFB\u7EDF\u5185\u6838</span>
<span class="token punctuation">[</span>root@localhost config<span class="token punctuation">]</span><span class="token comment">## uname -r</span>
<span class="token number">3.10</span>.0-1160.el7.x86_64

<span class="token comment">## \u7CFB\u7EDF\u7248\u672C</span>
<span class="token punctuation">[</span>root@localhost config<span class="token punctuation">]</span><span class="token comment">## cat /etc/os-release</span>
<span class="token assign-left variable">NAME</span><span class="token operator">=</span><span class="token string">&quot;CentOS Linux&quot;</span>
<span class="token assign-left variable">VERSION</span><span class="token operator">=</span><span class="token string">&quot;7 (Core)&quot;</span>
<span class="token assign-left variable">ID</span><span class="token operator">=</span><span class="token string">&quot;centos&quot;</span>
<span class="token assign-left variable">ID_LIKE</span><span class="token operator">=</span><span class="token string">&quot;rhel fedora&quot;</span>
<span class="token assign-left variable">VERSION_ID</span><span class="token operator">=</span><span class="token string">&quot;7&quot;</span>
<span class="token assign-left variable">PRETTY_NAME</span><span class="token operator">=</span><span class="token string">&quot;CentOS Linux 7 (Core)&quot;</span>
<span class="token assign-left variable">ANSI_COLOR</span><span class="token operator">=</span><span class="token string">&quot;0;31&quot;</span>
<span class="token assign-left variable">CPE_NAME</span><span class="token operator">=</span><span class="token string">&quot;cpe:/o:centos:centos:7&quot;</span>
<span class="token assign-left variable">HOME_URL</span><span class="token operator">=</span><span class="token string">&quot;https://www.centos.org/&quot;</span>
<span class="token assign-left variable">BUG_REPORT_URL</span><span class="token operator">=</span><span class="token string">&quot;https://bugs.centos.org/&quot;</span>

<span class="token assign-left variable">CENTOS_MANTISBT_PROJECT</span><span class="token operator">=</span><span class="token string">&quot;CentOS-7&quot;</span>
<span class="token assign-left variable">CENTOS_MANTISBT_PROJECT_VERSION</span><span class="token operator">=</span><span class="token string">&quot;7&quot;</span>
<span class="token assign-left variable">REDHAT_SUPPORT_PRODUCT</span><span class="token operator">=</span><span class="token string">&quot;centos&quot;</span>
<span class="token assign-left variable">REDHAT_SUPPORT_PRODUCT_VERSION</span><span class="token operator">=</span><span class="token string">&quot;7&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5B89\u88C5-1"><a class="header-anchor" href="#\u5B89\u88C5-1" aria-hidden="true">#</a> \u5B89\u88C5</h3><p>\u5E2E\u52A9\u6587\u6863\uFF1Ahttps://docs.docker.com/get-docker/</p><p>\u5728Linux\u4E0A\u5B89\u88C5\uFF1Ahttps://docs.docker.com/engine/install/centos/</p><ol><li>\u5378\u8F7D\u65E7\u7684\u7248\u672C</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> yum remove <span class="token function">docker</span> <span class="token punctuation">\\</span>
                  docker-client <span class="token punctuation">\\</span>
                  docker-client-latest <span class="token punctuation">\\</span>
                  docker-common <span class="token punctuation">\\</span>
                  docker-latest <span class="token punctuation">\\</span>
                  docker-latest-logrotate <span class="token punctuation">\\</span>
                  docker-logrotate <span class="token punctuation">\\</span>
                  docker-engine
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6267\u884C\u7ED3\u679C</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost config<span class="token punctuation">]</span><span class="token comment">## yum remove docker \\</span>
<span class="token operator">&gt;</span>                   docker-client <span class="token punctuation">\\</span>
<span class="token operator">&gt;</span>                   docker-client-latest <span class="token punctuation">\\</span>
<span class="token operator">&gt;</span>                   docker-common <span class="token punctuation">\\</span>
<span class="token operator">&gt;</span>                   docker-latest <span class="token punctuation">\\</span>
<span class="token operator">&gt;</span>                   docker-latest-logrotate <span class="token punctuation">\\</span>
<span class="token operator">&gt;</span>                   docker-logrotate <span class="token punctuation">\\</span>
<span class="token operator">&gt;</span>                   docker-engine
\u5DF2\u52A0\u8F7D\u63D2\u4EF6\uFF1Afastestmirror
\u53C2\u6570 <span class="token function">docker</span> \u6CA1\u6709\u5339\u914D
\u53C2\u6570 docker-client \u6CA1\u6709\u5339\u914D
\u53C2\u6570 docker-client-latest \u6CA1\u6709\u5339\u914D
\u53C2\u6570 docker-common \u6CA1\u6709\u5339\u914D
\u53C2\u6570 docker-latest \u6CA1\u6709\u5339\u914D
\u53C2\u6570 docker-latest-logrotate \u6CA1\u6709\u5339\u914D
\u53C2\u6570 docker-logrotate \u6CA1\u6709\u5339\u914D
\u53C2\u6570 docker-engine \u6CA1\u6709\u5339\u914D
\u4E0D\u5220\u9664\u4EFB\u4F55\u8F6F\u4EF6\u5305
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>\u9700\u8981\u7684\u5B89\u88C5\u5305\uFF08\u6709\u591A\u4E2A\u5B89\u88C5\u65B9\u6CD5\uFF0C\u672C\u6B21\u4F7F\u7528\u955C\u50CF\u7684\u65B9\u5F0F\u8FDB\u884C\u5B89\u88C5\uFF09</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> yum <span class="token function">install</span> -y yum-utils
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u6267\u884C\u7ED3\u679C</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost config<span class="token punctuation">]</span><span class="token comment">## sudo yum install -y yum-utils</span>
\u5DF2\u52A0\u8F7D\u63D2\u4EF6\uFF1Afastestmirror
Loading mirror speeds from cached hostfile
 * base: mirrors.aliyun.com
 * centos-sclo-rh: mirrors.aliyun.com
 * centos-sclo-sclo: mirrors.163.com
 * extras: mirrors.aliyun.com
 * updates: mirrors.aliyun.com
base                                                                                                                             <span class="token operator">|</span> <span class="token number">3.6</span> kB  00:00:00
centos-sclo-rh                                                                                                                   <span class="token operator">|</span> <span class="token number">3.0</span> kB  00:00:00
centos-sclo-sclo                                                                                                                 <span class="token operator">|</span> <span class="token number">3.0</span> kB  00:00:00
extras                                                                                                                           <span class="token operator">|</span> <span class="token number">2.9</span> kB  00:00:00
updates                                                                                                                          <span class="token operator">|</span> <span class="token number">2.9</span> kB  00:00:00
\u6B63\u5728\u89E3\u51B3\u4F9D\u8D56\u5173\u7CFB
--<span class="token operator">&gt;</span> \u6B63\u5728\u68C0\u67E5\u4E8B\u52A1
---<span class="token operator">&gt;</span> \u8F6F\u4EF6\u5305 yum-utils.noarch.0.1.1.31-54.el7_8 \u5C06\u88AB \u5B89\u88C5
--<span class="token operator">&gt;</span> \u6B63\u5728\u5904\u7406\u4F9D\u8D56\u5173\u7CFB python-kitchen\uFF0C\u5B83\u88AB\u8F6F\u4EF6\u5305 yum-utils-1.1.31-54.el7_8.noarch \u9700\u8981
--<span class="token operator">&gt;</span> \u6B63\u5728\u5904\u7406\u4F9D\u8D56\u5173\u7CFB libxml2-python\uFF0C\u5B83\u88AB\u8F6F\u4EF6\u5305 yum-utils-1.1.31-54.el7_8.noarch \u9700\u8981
--<span class="token operator">&gt;</span> \u6B63\u5728\u68C0\u67E5\u4E8B\u52A1
---<span class="token operator">&gt;</span> \u8F6F\u4EF6\u5305 libxml2-python.x86_64.0.2.9.1-6.el7_9.6 \u5C06\u88AB \u5B89\u88C5
--<span class="token operator">&gt;</span> \u6B63\u5728\u5904\u7406\u4F9D\u8D56\u5173\u7CFB libxml2 <span class="token operator">=</span> <span class="token number">2.9</span>.1-6.el7_9.6\uFF0C\u5B83\u88AB\u8F6F\u4EF6\u5305 libxml2-python-2.9.1-6.el7_9.6.x86_64 \u9700\u8981
---<span class="token operator">&gt;</span> \u8F6F\u4EF6\u5305 python-kitchen.noarch.0.1.1.1-5.el7 \u5C06\u88AB \u5B89\u88C5
--<span class="token operator">&gt;</span> \u6B63\u5728\u5904\u7406\u4F9D\u8D56\u5173\u7CFB python-chardet\uFF0C\u5B83\u88AB\u8F6F\u4EF6\u5305 python-kitchen-1.1.1-5.el7.noarch \u9700\u8981
--<span class="token operator">&gt;</span> \u6B63\u5728\u68C0\u67E5\u4E8B\u52A1
---<span class="token operator">&gt;</span> \u8F6F\u4EF6\u5305 libxml2.x86_64.0.2.9.1-6.el7.5 \u5C06\u88AB \u5347\u7EA7
---<span class="token operator">&gt;</span> \u8F6F\u4EF6\u5305 libxml2.x86_64.0.2.9.1-6.el7_9.6 \u5C06\u88AB \u66F4\u65B0
---<span class="token operator">&gt;</span> \u8F6F\u4EF6\u5305 python-chardet.noarch.0.2.2.1-3.el7 \u5C06\u88AB \u5B89\u88C5
--<span class="token operator">&gt;</span> \u89E3\u51B3\u4F9D\u8D56\u5173\u7CFB\u5B8C\u6210

\u4F9D\u8D56\u5173\u7CFB\u89E3\u51B3

<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
 Package                                \u67B6\u6784                           \u7248\u672C                                       \u6E90                               \u5927\u5C0F
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
\u6B63\u5728\u5B89\u88C5:
 yum-utils                              noarch                         <span class="token number">1.1</span>.31-54.el7_8                            base                            <span class="token number">122</span> k
\u4E3A\u4F9D\u8D56\u800C\u5B89\u88C5:
 libxml2-python                         x86_64                         <span class="token number">2.9</span>.1-6.el7_9.6                            updates                         <span class="token number">247</span> k
 python-chardet                         noarch                         <span class="token number">2.2</span>.1-3.el7                                base                            <span class="token number">227</span> k
 python-kitchen                         noarch                         <span class="token number">1.1</span>.1-5.el7                                base                            <span class="token number">267</span> k
\u4E3A\u4F9D\u8D56\u800C\u66F4\u65B0:
 libxml2                                x86_64                         <span class="token number">2.9</span>.1-6.el7_9.6                            updates                         <span class="token number">668</span> k

\u4E8B\u52A1\u6982\u8981
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
\u5B89\u88C5  <span class="token number">1</span> \u8F6F\u4EF6\u5305 <span class="token punctuation">(</span>+3 \u4F9D\u8D56\u8F6F\u4EF6\u5305<span class="token punctuation">)</span>
\u5347\u7EA7           <span class="token punctuation">(</span> <span class="token number">1</span> \u4F9D\u8D56\u8F6F\u4EF6\u5305<span class="token punctuation">)</span>

\u603B\u4E0B\u8F7D\u91CF\uFF1A1.5 M
Downloading packages:
Delta RPMs disabled because /usr/bin/applydeltarpm not installed.
<span class="token punctuation">(</span><span class="token number">1</span>/5<span class="token punctuation">)</span>: libxml2-2.9.1-6.el7_9.6.x86_64.rpm                                                                                        <span class="token operator">|</span> <span class="token number">668</span> kB  00:00:00
<span class="token punctuation">(</span><span class="token number">2</span>/5<span class="token punctuation">)</span>: python-chardet-2.2.1-3.el7.noarch.rpm                                                                                     <span class="token operator">|</span> <span class="token number">227</span> kB  00:00:00
<span class="token punctuation">(</span><span class="token number">3</span>/5<span class="token punctuation">)</span>: libxml2-python-2.9.1-6.el7_9.6.x86_64.rpm                                                                                 <span class="token operator">|</span> <span class="token number">247</span> kB  00:00:00
<span class="token punctuation">(</span><span class="token number">4</span>/5<span class="token punctuation">)</span>: python-kitchen-1.1.1-5.el7.noarch.rpm                                                                                     <span class="token operator">|</span> <span class="token number">267</span> kB  00:00:00
<span class="token punctuation">(</span><span class="token number">5</span>/5<span class="token punctuation">)</span>: yum-utils-1.1.31-54.el7_8.noarch.rpm                                                                                      <span class="token operator">|</span> <span class="token number">122</span> kB  00:00:00
--------------------------------------------------------------------------------------------------------------------------------------------------------
\u603B\u8BA1                                                                                                                    <span class="token number">1.9</span> MB/s <span class="token operator">|</span> <span class="token number">1.5</span> MB  00:00:00
Running transaction check
Running transaction <span class="token builtin class-name">test</span>
Transaction <span class="token builtin class-name">test</span> succeeded
Running transaction
  \u6B63\u5728\u66F4\u65B0    <span class="token builtin class-name">:</span> libxml2-2.9.1-6.el7_9.6.x86_64                                                                                                      <span class="token number">1</span>/6
  \u6B63\u5728\u5B89\u88C5    <span class="token builtin class-name">:</span> libxml2-python-2.9.1-6.el7_9.6.x86_64                                                                                               <span class="token number">2</span>/6
  \u6B63\u5728\u5B89\u88C5    <span class="token builtin class-name">:</span> python-chardet-2.2.1-3.el7.noarch                                                                                                   <span class="token number">3</span>/6
  \u6B63\u5728\u5B89\u88C5    <span class="token builtin class-name">:</span> python-kitchen-1.1.1-5.el7.noarch                                                                                                   <span class="token number">4</span>/6
  \u6B63\u5728\u5B89\u88C5    <span class="token builtin class-name">:</span> yum-utils-1.1.31-54.el7_8.noarch                                                                                                    <span class="token number">5</span>/6
  \u6E05\u7406        <span class="token builtin class-name">:</span> libxml2-2.9.1-6.el7.5.x86_64                                                                                                        <span class="token number">6</span>/6
  \u9A8C\u8BC1\u4E2D      <span class="token builtin class-name">:</span> python-chardet-2.2.1-3.el7.noarch                                                                                                   <span class="token number">1</span>/6
  \u9A8C\u8BC1\u4E2D      <span class="token builtin class-name">:</span> libxml2-2.9.1-6.el7_9.6.x86_64                                                                                                      <span class="token number">2</span>/6
  \u9A8C\u8BC1\u4E2D      <span class="token builtin class-name">:</span> libxml2-python-2.9.1-6.el7_9.6.x86_64                                                                                               <span class="token number">3</span>/6
  \u9A8C\u8BC1\u4E2D      <span class="token builtin class-name">:</span> python-kitchen-1.1.1-5.el7.noarch                                                                                                   <span class="token number">4</span>/6
  \u9A8C\u8BC1\u4E2D      <span class="token builtin class-name">:</span> yum-utils-1.1.31-54.el7_8.noarch                                                                                                    <span class="token number">5</span>/6
  \u9A8C\u8BC1\u4E2D      <span class="token builtin class-name">:</span> libxml2-2.9.1-6.el7.5.x86_64                                                                                                        <span class="token number">6</span>/6

\u5DF2\u5B89\u88C5:
  yum-utils.noarch <span class="token number">0</span>:1.1.31-54.el7_8

\u4F5C\u4E3A\u4F9D\u8D56\u88AB\u5B89\u88C5:
  libxml2-python.x86_64 <span class="token number">0</span>:2.9.1-6.el7_9.6              python-chardet.noarch <span class="token number">0</span>:2.2.1-3.el7              python-kitchen.noarch <span class="token number">0</span>:1.1.1-5.el7

\u4F5C\u4E3A\u4F9D\u8D56\u88AB\u5347\u7EA7:
  libxml2.x86_64 <span class="token number">0</span>:2.9.1-6.el7_9.6

\u5B8C\u6BD5\uFF01
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>\u8BBE\u7F6E\u955C\u50CF\u7684\u4ED3\u5E93</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> yum-config-manager <span class="token punctuation">\\</span>
    --add-repo <span class="token punctuation">\\</span>
    https://download.docker.com/linux/centos/docker-ce.repo <span class="token comment">## \u9ED8\u8BA4\u662F\u4ECE\u56FD\u5916\u7684\uFF0C\u5341\u5206\u7684\u6162</span>
<span class="token function">sudo</span> yum-config-manager <span class="token punctuation">\\</span>
    --add-repo <span class="token punctuation">\\</span>
    http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo <span class="token comment">## \u963F\u91CC\u4E91\u7684\u955C\u50CF</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6267\u884C\u7ED3\u679C</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost config<span class="token punctuation">]</span><span class="token comment">## sudo yum-config-manager \\</span>
<span class="token operator">&gt;</span>     --add-repo <span class="token punctuation">\\</span>
<span class="token operator">&gt;</span>     http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
\u5DF2\u52A0\u8F7D\u63D2\u4EF6\uFF1Afastestmirror
adding repo from: http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
grabbing <span class="token function">file</span> http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo to /etc/yum.repos.d/docker-ce.repo
repo saved to /etc/yum.repos.d/docker-ce.repo
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>\u5B89\u88C5\u4E4B\u524D\uFF0C\u6700\u597D\u66F4\u65B0\u4E00\u4E0Byum\u8F6F\u4EF6\u5305\u7D22\u5F15</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost config<span class="token punctuation">]</span><span class="token comment">## yum makecache fast</span>
\u5DF2\u52A0\u8F7D\u63D2\u4EF6\uFF1Afastestmirror
Loading mirror speeds from cached hostfile
 * base: mirrors.aliyun.com
 * centos-sclo-rh: mirrors.aliyun.com
 * centos-sclo-sclo: mirrors.163.com
 * extras: mirrors.aliyun.com
 * updates: mirrors.aliyun.com
base                                                                                                                             <span class="token operator">|</span> <span class="token number">3.6</span> kB  00:00:00
centos-sclo-rh                                                                                                                   <span class="token operator">|</span> <span class="token number">3.0</span> kB  00:00:00
centos-sclo-sclo                                                                                                                 <span class="token operator">|</span> <span class="token number">3.0</span> kB  00:00:00
docker-ce-stable                                                                                                                 <span class="token operator">|</span> <span class="token number">3.5</span> kB  00:00:00
extras                                                                                                                           <span class="token operator">|</span> <span class="token number">2.9</span> kB  00:00:00
updates                                                                                                                          <span class="token operator">|</span> <span class="token number">2.9</span> kB  00:00:00
<span class="token punctuation">(</span><span class="token number">1</span>/2<span class="token punctuation">)</span>: docker-ce-stable/7/x86_64/updateinfo                                                                                      <span class="token operator">|</span>   <span class="token number">55</span> B  00:00:00
<span class="token punctuation">(</span><span class="token number">2</span>/2<span class="token punctuation">)</span>: docker-ce-stable/7/x86_64/primary_db                                                                                      <span class="token operator">|</span>  <span class="token number">69</span> kB  00:00:00
\u5143\u6570\u636E\u7F13\u5B58\u5DF2\u5EFA\u7ACB
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="5"><li>\u5B89\u88C5\u6700\u65B0\u7248\u7684Docker\u5F15\u64CE</li></ol><p>docker-ce \u793E\u533A\u7248\uFF08\u4E00\u822C\u4F7F\u7528\u8FD9\u4E2A\uFF09 ee \u4F01\u4E1A\u7248</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> yum <span class="token function">install</span> docker-ce docker-ce-cli containerd.io <span class="token comment">## \u5BB9\u5668\u3001\u5BA2\u6237\u7AEF\u3001io</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u6267\u884C\u7ED3\u679C</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost config<span class="token punctuation">]</span><span class="token comment">## sudo yum install docker-ce docker-ce-cli containerd.io</span>
\u5DF2\u52A0\u8F7D\u63D2\u4EF6\uFF1Afastestmirror
Loading mirror speeds from cached hostfile
 * base: mirrors.aliyun.com
 * centos-sclo-rh: mirrors.aliyun.com
 * centos-sclo-sclo: mirrors.163.com
 * extras: mirrors.aliyun.com
 * updates: mirrors.aliyun.com
\u6B63\u5728\u89E3\u51B3\u4F9D\u8D56\u5173\u7CFB
--<span class="token operator">&gt;</span> \u6B63\u5728\u68C0\u67E5\u4E8B\u52A1
---<span class="token operator">&gt;</span> \u8F6F\u4EF6\u5305 containerd.io.x86_64.0.1.4.12-3.1.el7 \u5C06\u88AB \u5B89\u88C5
--<span class="token operator">&gt;</span> \u6B63\u5728\u5904\u7406\u4F9D\u8D56\u5173\u7CFB container-selinux <span class="token operator">&gt;=</span> <span class="token number">2</span>:2.74\uFF0C\u5B83\u88AB\u8F6F\u4EF6\u5305 containerd.io-1.4.12-3.1.el7.x86_64 \u9700\u8981
---<span class="token operator">&gt;</span> \u8F6F\u4EF6\u5305 docker-ce.x86_64.3.20.10.11-3.el7 \u5C06\u88AB \u5B89\u88C5
--<span class="token operator">&gt;</span> \u6B63\u5728\u5904\u7406\u4F9D\u8D56\u5173\u7CFB docker-ce-rootless-extras\uFF0C\u5B83\u88AB\u8F6F\u4EF6\u5305 <span class="token number">3</span>:docker-ce-20.10.11-3.el7.x86_64 \u9700\u8981
---<span class="token operator">&gt;</span> \u8F6F\u4EF6\u5305 docker-ce-cli.x86_64.1.20.10.11-3.el7 \u5C06\u88AB \u5B89\u88C5
--<span class="token operator">&gt;</span> \u6B63\u5728\u5904\u7406\u4F9D\u8D56\u5173\u7CFB docker-scan-plugin<span class="token punctuation">(</span>x86-64<span class="token punctuation">)</span>\uFF0C\u5B83\u88AB\u8F6F\u4EF6\u5305 <span class="token number">1</span>:docker-ce-cli-20.10.11-3.el7.x86_64 \u9700\u8981
--<span class="token operator">&gt;</span> \u6B63\u5728\u68C0\u67E5\u4E8B\u52A1
---<span class="token operator">&gt;</span> \u8F6F\u4EF6\u5305 container-selinux.noarch.2.2.119.2-1.911c772.el7_8 \u5C06\u88AB \u5B89\u88C5
---<span class="token operator">&gt;</span> \u8F6F\u4EF6\u5305 docker-ce-rootless-extras.x86_64.0.20.10.11-3.el7 \u5C06\u88AB \u5B89\u88C5
--<span class="token operator">&gt;</span> \u6B63\u5728\u5904\u7406\u4F9D\u8D56\u5173\u7CFB fuse-overlayfs <span class="token operator">&gt;=</span> <span class="token number">0.7</span>\uFF0C\u5B83\u88AB\u8F6F\u4EF6\u5305 docker-ce-rootless-extras-20.10.11-3.el7.x86_64 \u9700\u8981
--<span class="token operator">&gt;</span> \u6B63\u5728\u5904\u7406\u4F9D\u8D56\u5173\u7CFB slirp4netns <span class="token operator">&gt;=</span> <span class="token number">0.4</span>\uFF0C\u5B83\u88AB\u8F6F\u4EF6\u5305 docker-ce-rootless-extras-20.10.11-3.el7.x86_64 \u9700\u8981
---<span class="token operator">&gt;</span> \u8F6F\u4EF6\u5305 docker-scan-plugin.x86_64.0.0.9.0-3.el7 \u5C06\u88AB \u5B89\u88C5
--<span class="token operator">&gt;</span> \u6B63\u5728\u68C0\u67E5\u4E8B\u52A1
---<span class="token operator">&gt;</span> \u8F6F\u4EF6\u5305 fuse-overlayfs.x86_64.0.0.7.2-6.el7_8 \u5C06\u88AB \u5B89\u88C5
--<span class="token operator">&gt;</span> \u6B63\u5728\u5904\u7406\u4F9D\u8D56\u5173\u7CFB libfuse3.so.3<span class="token punctuation">(</span>FUSE_3.2<span class="token punctuation">)</span><span class="token punctuation">(</span>64bit<span class="token punctuation">)</span>\uFF0C\u5B83\u88AB\u8F6F\u4EF6\u5305 fuse-overlayfs-0.7.2-6.el7_8.x86_64 \u9700\u8981
--<span class="token operator">&gt;</span> \u6B63\u5728\u5904\u7406\u4F9D\u8D56\u5173\u7CFB libfuse3.so.3<span class="token punctuation">(</span>FUSE_3.0<span class="token punctuation">)</span><span class="token punctuation">(</span>64bit<span class="token punctuation">)</span>\uFF0C\u5B83\u88AB\u8F6F\u4EF6\u5305 fuse-overlayfs-0.7.2-6.el7_8.x86_64 \u9700\u8981
--<span class="token operator">&gt;</span> \u6B63\u5728\u5904\u7406\u4F9D\u8D56\u5173\u7CFB libfuse3.so.3<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span>64bit<span class="token punctuation">)</span>\uFF0C\u5B83\u88AB\u8F6F\u4EF6\u5305 fuse-overlayfs-0.7.2-6.el7_8.x86_64 \u9700\u8981
---<span class="token operator">&gt;</span> \u8F6F\u4EF6\u5305 slirp4netns.x86_64.0.0.4.3-4.el7_8 \u5C06\u88AB \u5B89\u88C5
--<span class="token operator">&gt;</span> \u6B63\u5728\u68C0\u67E5\u4E8B\u52A1
---<span class="token operator">&gt;</span> \u8F6F\u4EF6\u5305 fuse3-libs.x86_64.0.3.6.1-4.el7 \u5C06\u88AB \u5B89\u88C5
--<span class="token operator">&gt;</span> \u89E3\u51B3\u4F9D\u8D56\u5173\u7CFB\u5B8C\u6210

\u4F9D\u8D56\u5173\u7CFB\u89E3\u51B3

<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
 Package                                    \u67B6\u6784                    \u7248\u672C                                        \u6E90                                 \u5927\u5C0F
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
\u6B63\u5728\u5B89\u88C5:
 containerd.io                              x86_64                  <span class="token number">1.4</span>.12-3.1.el7                              docker-ce-stable                   <span class="token number">28</span> M
 docker-ce                                  x86_64                  <span class="token number">3</span>:20.10.11-3.el7                            docker-ce-stable                   <span class="token number">23</span> M
 docker-ce-cli                              x86_64                  <span class="token number">1</span>:20.10.11-3.el7                            docker-ce-stable                   <span class="token number">29</span> M
\u4E3A\u4F9D\u8D56\u800C\u5B89\u88C5:
 container-selinux                          noarch                  <span class="token number">2</span>:2.119.2-1.911c772.el7_8                   extras                             <span class="token number">40</span> k
 docker-ce-rootless-extras                  x86_64                  <span class="token number">20.10</span>.11-3.el7                              docker-ce-stable                  <span class="token number">8.0</span> M
 docker-scan-plugin                         x86_64                  <span class="token number">0.9</span>.0-3.el7                                 docker-ce-stable                  <span class="token number">3.7</span> M
 fuse-overlayfs                             x86_64                  <span class="token number">0.7</span>.2-6.el7_8                               extras                             <span class="token number">54</span> k
 fuse3-libs                                 x86_64                  <span class="token number">3.6</span>.1-4.el7                                 extras                             <span class="token number">82</span> k
 slirp4netns                                x86_64                  <span class="token number">0.4</span>.3-4.el7_8                               extras                             <span class="token number">81</span> k

\u4E8B\u52A1\u6982\u8981
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
\u5B89\u88C5  <span class="token number">3</span> \u8F6F\u4EF6\u5305 <span class="token punctuation">(</span>+6 \u4F9D\u8D56\u8F6F\u4EF6\u5305<span class="token punctuation">)</span>

\u603B\u4E0B\u8F7D\u91CF\uFF1A93 M
\u5B89\u88C5\u5927\u5C0F\uFF1A376 M
Is this ok <span class="token punctuation">[</span>y/d/N<span class="token punctuation">]</span>: y
Downloading packages:
<span class="token punctuation">(</span><span class="token number">1</span>/9<span class="token punctuation">)</span>: container-selinux-2.119.2-1.911c772.el7_8.noarch.rpm                                                                      <span class="token operator">|</span>  <span class="token number">40</span> kB  00:00:00
warning: /var/cache/yum/x86_64/7/docker-ce-stable/packages/docker-ce-20.10.11-3.el7.x86_64.rpm: Header V4 RSA/SHA512 Signature, key ID 621e9f35: NOKEYA
docker-ce-20.10.11-3.el7.x86_64.rpm \u7684\u516C\u94A5\u5C1A\u672A\u5B89\u88C5
<span class="token punctuation">(</span><span class="token number">2</span>/9<span class="token punctuation">)</span>: docker-ce-20.10.11-3.el7.x86_64.rpm                                                                                       <span class="token operator">|</span>  <span class="token number">23</span> MB  00:00:08
<span class="token punctuation">(</span><span class="token number">3</span>/9<span class="token punctuation">)</span>: containerd.io-1.4.12-3.1.el7.x86_64.rpm                                                                                   <span class="token operator">|</span>  <span class="token number">28</span> MB  00:00:09
<span class="token punctuation">(</span><span class="token number">4</span>/9<span class="token punctuation">)</span>: docker-ce-rootless-extras-20.10.11-3.el7.x86_64.rpm                                                                       <span class="token operator">|</span> <span class="token number">8.0</span> MB  00:00:01
<span class="token punctuation">(</span><span class="token number">5</span>/9<span class="token punctuation">)</span>: fuse3-libs-3.6.1-4.el7.x86_64.rpm                                                                                         <span class="token operator">|</span>  <span class="token number">82</span> kB  00:00:00
<span class="token punctuation">(</span><span class="token number">6</span>/9<span class="token punctuation">)</span>: slirp4netns-0.4.3-4.el7_8.x86_64.rpm                                                                                      <span class="token operator">|</span>  <span class="token number">81</span> kB  00:00:00
<span class="token punctuation">(</span><span class="token number">7</span>/9<span class="token punctuation">)</span>: fuse-overlayfs-0.7.2-6.el7_8.x86_64.rpm                                                                                   <span class="token operator">|</span>  <span class="token number">54</span> kB  00:00:00
<span class="token punctuation">(</span><span class="token number">8</span>/9<span class="token punctuation">)</span>: docker-scan-plugin-0.9.0-3.el7.x86_64.rpm                                                                                 <span class="token operator">|</span> <span class="token number">3.7</span> MB  00:00:00
<span class="token punctuation">(</span><span class="token number">9</span>/9<span class="token punctuation">)</span>: docker-ce-cli-20.10.11-3.el7.x86_64.rpm                                                                                   <span class="token operator">|</span>  <span class="token number">29</span> MB  00:00:05
--------------------------------------------------------------------------------------------------------------------------------------------------------
\u603B\u8BA1                                                                                                                    <span class="token number">6.4</span> MB/s <span class="token operator">|</span>  <span class="token number">93</span> MB  00:00:14
\u4ECE https://mirrors.aliyun.com/docker-ce/linux/centos/gpg \u68C0\u7D22\u5BC6\u94A5
\u5BFC\u5165 GPG key 0x621E9F35:
 \u7528\u6237ID     <span class="token builtin class-name">:</span> <span class="token string">&quot;Docker Release (CE rpm) &lt;docker@docker.com&gt;&quot;</span>
 \u6307\u7EB9       <span class="token builtin class-name">:</span> 060a 61c5 1b55 8a7f 742b 77aa c52f eb6b 621e 9f35
 \u6765\u81EA       <span class="token builtin class-name">:</span> https://mirrors.aliyun.com/docker-ce/linux/centos/gpg
\u662F\u5426\u7EE7\u7EED\uFF1F<span class="token punctuation">[</span>y/N<span class="token punctuation">]</span>\uFF1Ay
Running transaction check
Running transaction <span class="token builtin class-name">test</span>
Transaction <span class="token builtin class-name">test</span> succeeded
Running transaction
  \u6B63\u5728\u5B89\u88C5    <span class="token builtin class-name">:</span> docker-scan-plugin-0.9.0-3.el7.x86_64                                                                                               <span class="token number">1</span>/9
  \u6B63\u5728\u5B89\u88C5    <span class="token builtin class-name">:</span> <span class="token number">1</span>:docker-ce-cli-20.10.11-3.el7.x86_64                                                                                               <span class="token number">2</span>/9
  \u6B63\u5728\u5B89\u88C5    <span class="token builtin class-name">:</span> <span class="token number">2</span>:container-selinux-2.119.2-1.911c772.el7_8.noarch                                                                                  <span class="token number">3</span>/9
  \u6B63\u5728\u5B89\u88C5    <span class="token builtin class-name">:</span> containerd.io-1.4.12-3.1.el7.x86_64                                                                                                 <span class="token number">4</span>/9
  \u6B63\u5728\u5B89\u88C5    <span class="token builtin class-name">:</span> slirp4netns-0.4.3-4.el7_8.x86_64                                                                                                    <span class="token number">5</span>/9
  \u6B63\u5728\u5B89\u88C5    <span class="token builtin class-name">:</span> fuse3-libs-3.6.1-4.el7.x86_64                                                                                                       <span class="token number">6</span>/9
  \u6B63\u5728\u5B89\u88C5    <span class="token builtin class-name">:</span> fuse-overlayfs-0.7.2-6.el7_8.x86_64                                                                                                 <span class="token number">7</span>/9
  \u6B63\u5728\u5B89\u88C5    <span class="token builtin class-name">:</span> docker-ce-rootless-extras-20.10.11-3.el7.x86_64                                                                                     <span class="token number">8</span>/9
  \u6B63\u5728\u5B89\u88C5    <span class="token builtin class-name">:</span> <span class="token number">3</span>:docker-ce-20.10.11-3.el7.x86_64                                                                                                   <span class="token number">9</span>/9
  \u9A8C\u8BC1\u4E2D      <span class="token builtin class-name">:</span> <span class="token number">1</span>:docker-ce-cli-20.10.11-3.el7.x86_64                                                                                               <span class="token number">1</span>/9
  \u9A8C\u8BC1\u4E2D      <span class="token builtin class-name">:</span> docker-scan-plugin-0.9.0-3.el7.x86_64                                                                                               <span class="token number">2</span>/9
  \u9A8C\u8BC1\u4E2D      <span class="token builtin class-name">:</span> fuse3-libs-3.6.1-4.el7.x86_64                                                                                                       <span class="token number">3</span>/9
  \u9A8C\u8BC1\u4E2D      <span class="token builtin class-name">:</span> fuse-overlayfs-0.7.2-6.el7_8.x86_64                                                                                                 <span class="token number">4</span>/9
  \u9A8C\u8BC1\u4E2D      <span class="token builtin class-name">:</span> slirp4netns-0.4.3-4.el7_8.x86_64                                                                                                    <span class="token number">5</span>/9
  \u9A8C\u8BC1\u4E2D      <span class="token builtin class-name">:</span> <span class="token number">2</span>:container-selinux-2.119.2-1.911c772.el7_8.noarch                                                                                  <span class="token number">6</span>/9
  \u9A8C\u8BC1\u4E2D      <span class="token builtin class-name">:</span> <span class="token number">3</span>:docker-ce-20.10.11-3.el7.x86_64                                                                                                   <span class="token number">7</span>/9
  \u9A8C\u8BC1\u4E2D      <span class="token builtin class-name">:</span> docker-ce-rootless-extras-20.10.11-3.el7.x86_64                                                                                     <span class="token number">8</span>/9
  \u9A8C\u8BC1\u4E2D      <span class="token builtin class-name">:</span> containerd.io-1.4.12-3.1.el7.x86_64                                                                                                 <span class="token number">9</span>/9

\u5DF2\u5B89\u88C5:
  containerd.io.x86_64 <span class="token number">0</span>:1.4.12-3.1.el7              docker-ce.x86_64 <span class="token number">3</span>:20.10.11-3.el7              docker-ce-cli.x86_64 <span class="token number">1</span>:20.10.11-3.el7

\u4F5C\u4E3A\u4F9D\u8D56\u88AB\u5B89\u88C5:
  container-selinux.noarch <span class="token number">2</span>:2.119.2-1.911c772.el7_8    docker-ce-rootless-extras.x86_64 <span class="token number">0</span>:20.10.11-3.el7    docker-scan-plugin.x86_64 <span class="token number">0</span>:0.9.0-3.el7
  fuse-overlayfs.x86_64 <span class="token number">0</span>:0.7.2-6.el7_8                 fuse3-libs.x86_64 <span class="token number">0</span>:3.6.1-4.el7                      slirp4netns.x86_64 <span class="token number">0</span>:0.4.3-4.el7_8

\u5B8C\u6BD5\uFF01
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5982\u679C\u4E0D\u60F3\u5B89\u88C5\u6700\u540E\u4E00\u4E2A\u7248\u672C\uFF0C\u4E5F\u53EF\u4EE5\u6267\u884C\u7248\u672C\u5B89\u88C5</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>yum list docker-ce --showduplicates <span class="token operator">|</span> <span class="token function">sort</span> -r <span class="token comment">## \u67E5\u770B\u6240\u6709\u53EF\u9009\u7684\u7248\u672C</span>

<span class="token function">sudo</span> yum <span class="token function">install</span> docker-ce-<span class="token operator">&lt;</span>VERSION_STRING<span class="token operator">&gt;</span> docker-ce-cli-<span class="token operator">&lt;</span>VERSION_STRING<span class="token operator">&gt;</span> containerd.io <span class="token comment">## \u5B89\u88C5\u6307\u5B9A\u7684\u7248\u672C</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="6"><li>\u542F\u52A8\u548C\u6D4B\u8BD5</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl start <span class="token function">docker</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u6267\u884C\u7ED3\u679C</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost config<span class="token punctuation">]</span><span class="token comment">## sudo systemctl start docker</span>
<span class="token punctuation">[</span>root@localhost config<span class="token punctuation">]</span><span class="token comment">## docker version ## \u4F7F\u7528docker version\u67E5\u770B\u662F\u5426\u5B89\u88C5\u6210\u529F</span>
Client: Docker Engine - Community
 Version:           <span class="token number">20.10</span>.11
 API version:       <span class="token number">1.41</span>
 Go version:        go1.16.9
 Git commit:        dea9396
 Built:             Thu Nov <span class="token number">18</span> 00:38:53 <span class="token number">2021</span>
 OS/Arch:           linux/amd64
 Context:           default
 Experimental:      <span class="token boolean">true</span>

Server: Docker Engine - Community
 Engine:
  Version:          <span class="token number">20.10</span>.11
  API version:      <span class="token number">1.41</span> <span class="token punctuation">(</span>minimum version <span class="token number">1.12</span><span class="token punctuation">)</span>
  Go version:       go1.16.9
  Git commit:       847da18
  Built:            Thu Nov <span class="token number">18</span> 00:37:17 <span class="token number">2021</span>
  OS/Arch:          linux/amd64
  Experimental:     <span class="token boolean">false</span>
 containerd:
  Version:          <span class="token number">1.4</span>.12
  GitCommit:        7b11cfaabd73bb80907dd23182b9347b4245eb5d
 runc:
  Version:          <span class="token number">1.0</span>.2
  GitCommit:        v1.0.2-0-g52b36a2
 docker-init:
  Version:          <span class="token number">0.19</span>.0
  GitCommit:        de40ad0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="7"><li>\u901A\u8FC7\u8FD0\u884C hello-world \u6620\u50CF\u9A8C\u8BC1 Docker Engine \u662F\u5426\u5DF2\u6B63\u786E\u5B89\u88C5</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">docker</span> run hello-world
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u6267\u884C\u7ED3\u679C</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost config<span class="token punctuation">]</span><span class="token comment">## sudo docker run hello-world</span>
Unable to <span class="token function">find</span> image <span class="token string">&#39;hello-world:latest&#39;</span> locally <span class="token comment">## \u6CA1\u6709\u5728\u672C\u5730\u627E\u5230\u8FD9\u4E2A\u955C\u50CF</span>
latest: Pulling from library/hello-world <span class="token comment">## \u9700\u8981\u53BB\u8FDC\u7A0B\u4ED3\u5E93\u62C9\u53D6\u4E0B\u8F7D</span>
2db29710123e: Pull complete
Digest: <span class="token comment">## \u7B7E\u540D\u4FE1\u606Fsha256:cc15c5b292d8525effc0f89cb299f1804f3a725c8d05e158653a563f15e4f685</span>
Status: Downloaded newer image <span class="token keyword">for</span> hello-world:latest

Hello from Docker<span class="token operator">!</span> <span class="token comment">## \u8868\u540DDocker\u5DF2\u7ECF\u5B89\u88C5\u6210\u529F\u4E86</span>
This message shows that your installation appears to be working correctly.

To generate this message, Docker took the following steps:
 <span class="token number">1</span>. The Docker client contacted the Docker daemon.
 <span class="token number">2</span>. The Docker daemon pulled the <span class="token string">&quot;hello-world&quot;</span> image from the Docker Hub.
    <span class="token punctuation">(</span>amd64<span class="token punctuation">)</span>
 <span class="token number">3</span>. The Docker daemon created a new container from that image <span class="token function">which</span> runs the
    executable that produces the output you are currently reading.
 <span class="token number">4</span>. The Docker daemon streamed that output to the Docker client, <span class="token function">which</span> sent it
    to your terminal.

To try something <span class="token function">more</span> ambitious, you can run an Ubuntu container with:
 $ <span class="token function">docker</span> run -it ubuntu <span class="token function">bash</span>

Share images, automate workflows, and <span class="token function">more</span> with a <span class="token function">free</span> Docker ID:
 https://hub.docker.com/

For <span class="token function">more</span> examples and ideas, visit:
 https://docs.docker.com/get-started/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="8"><li>\u67E5\u770B\u4E0B\u8F7D\u7684hello-wrold\u955C\u50CF</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost config<span class="token punctuation">]</span><span class="token comment">## docker images</span>
REPOSITORY    TAG       IMAGE ID       CREATED        SIZE
hello-world   latest    feb5d9fea6a5   <span class="token number">2</span> months ago   <span class="token number">13</span>.3kB
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5378\u8F7Ddocker"><a class="header-anchor" href="#\u5378\u8F7Ddocker" aria-hidden="true">#</a> \u5378\u8F7DDocker</h3><ol><li>\u5378\u8F7D Docker Engine\u3001CLI \u548C Containerd \u5305</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> yum remove docker-ce docker-ce-cli containerd.io
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li>\u4E3B\u673A\u4E0A\u7684\u6620\u50CF\u3001\u5BB9\u5668\u3001\u5377\u6216\u81EA\u5B9A\u4E49\u914D\u7F6E\u6587\u4EF6\u4E0D\u4F1A\u81EA\u52A8\u5220\u9664\u3002\u5220\u9664\u6240\u6709\u955C\u50CF\u3001\u5BB9\u5668\u548C\u5377</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">rm</span> -rf /var/lib/docker <span class="token comment">## docker\u7684\u9ED8\u8BA4\u5DE5\u4F5C\u8DEF\u5F84</span>
<span class="token function">sudo</span> <span class="token function">rm</span> -rf /var/lib/containerd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u963F\u91CC\u4E91\u955C\u50CF\u52A0\u901F"><a class="header-anchor" href="#\u963F\u91CC\u4E91\u955C\u50CF\u52A0\u901F" aria-hidden="true">#</a> \u963F\u91CC\u4E91\u955C\u50CF\u52A0\u901F</h3><ol><li>\u767B\u5F55\u963F\u91CC\u4E91\u627E\u5230\u5BB9\u5668\u670D\u52A1</li></ol><p><img src="`+i+'" alt=""></p><ol start="2"><li>\u627E\u5230\u955C\u50CF\u52A0\u901F\u5730\u5740</li></ol><p><img src="'+p+'" alt=""></p><ol start="3"><li>\u914D\u7F6E\u4F7F\u7528</li></ol><p><img src="'+c+`" alt=""></p><h2 id="docker\u542F\u52A8\u6D41\u7A0B\u521D\u63A2"><a class="header-anchor" href="#docker\u542F\u52A8\u6D41\u7A0B\u521D\u63A2" aria-hidden="true">#</a> docker\u542F\u52A8\u6D41\u7A0B\u521D\u63A2</h2><h3 id="\u56DE\u987Ehelloworld\u6D41\u7A0B"><a class="header-anchor" href="#\u56DE\u987Ehelloworld\u6D41\u7A0B" aria-hidden="true">#</a> \u56DE\u987Ehelloworld\u6D41\u7A0B</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost config<span class="token punctuation">]</span><span class="token comment">## sudo docker run hello-world</span>
Unable to <span class="token function">find</span> image <span class="token string">&#39;hello-world:latest&#39;</span> locally <span class="token comment">## \u6CA1\u6709\u5728\u672C\u5730\u627E\u5230\u8FD9\u4E2A\u955C\u50CF</span>
latest: Pulling from library/hello-world <span class="token comment">## \u9700\u8981\u53BB\u8FDC\u7A0B\u4ED3\u5E93\u62C9\u53D6\u4E0B\u8F7D</span>
2db29710123e: Pull complete
Digest: <span class="token comment">## \u7B7E\u540D\u4FE1\u606Fsha256:cc15c5b292d8525effc0f89cb299f1804f3a725c8d05e158653a563f15e4f685</span>
Status: Downloaded newer image <span class="token keyword">for</span> hello-world:latest

Hello from Docker<span class="token operator">!</span> <span class="token comment">## \u8868\u540DDocker\u5DF2\u7ECF\u5B89\u88C5\u6210\u529F\u4E86</span>
This message shows that your installation appears to be working correctly.

To generate this message, Docker took the following steps:
 <span class="token number">1</span>. The Docker client contacted the Docker daemon.
 <span class="token number">2</span>. The Docker daemon pulled the <span class="token string">&quot;hello-world&quot;</span> image from the Docker Hub.
    <span class="token punctuation">(</span>amd64<span class="token punctuation">)</span>
 <span class="token number">3</span>. The Docker daemon created a new container from that image <span class="token function">which</span> runs the
    executable that produces the output you are currently reading.
 <span class="token number">4</span>. The Docker daemon streamed that output to the Docker client, <span class="token function">which</span> sent it
    to your terminal.

To try something <span class="token function">more</span> ambitious, you can run an Ubuntu container with:
 $ <span class="token function">docker</span> run -it ubuntu <span class="token function">bash</span>

Share images, automate workflows, and <span class="token function">more</span> with a <span class="token function">free</span> Docker ID:
 https://hub.docker.com/

For <span class="token function">more</span> examples and ideas, visit:
 https://docs.docker.com/get-started/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+r+'" alt=""></p><h3 id="\u5E95\u5C42\u539F\u7406"><a class="header-anchor" href="#\u5E95\u5C42\u539F\u7406" aria-hidden="true">#</a> \u5E95\u5C42\u539F\u7406</h3><h4 id="docker\u662F\u600E\u4E48\u5DE5\u4F5C\u7684"><a class="header-anchor" href="#docker\u662F\u600E\u4E48\u5DE5\u4F5C\u7684" aria-hidden="true">#</a> Docker\u662F\u600E\u4E48\u5DE5\u4F5C\u7684\uFF1F</h4><p>Docker\u662F\u4E00\u4E2Aclient-server\u7ED3\u6784\u7684\u7CFB\u7EDF\uFF0CDocker\u7684\u5B88\u62A4\u8FDB\u7A0B\u8FD0\u884C\u5728\u4E3B\u673A\u4E0A\uFF0C\u901A\u8FC7socket\u4ECE\u5BA2\u6237\u7AEF\u8FDB\u884C\u8BBF\u95EE</p><p>DockerServer\u63A5\u6536\u5230DockerClient\u7684\u6307\u4EE4\uFF0C\u5C31\u4F1A\u6267\u884C\u8FD9\u4E2A\u547D\u4EE4</p><p><img src="'+u+'" alt=""></p><h4 id="docker\u4E3A\u4EC0\u4E48\u6BD4vm\u5FEB"><a class="header-anchor" href="#docker\u4E3A\u4EC0\u4E48\u6BD4vm\u5FEB" aria-hidden="true">#</a> Docker\u4E3A\u4EC0\u4E48\u6BD4VM\u5FEB?</h4><ol><li>Docker\u6709\u7740\u6BD4\u865A\u62DF\u673A\u66F4\u5C11\u7684\u62BD\u8C61\u5C42</li></ol><p><img src="'+d+`" alt=""></p><ol start="2"><li>Docker\u5229\u7528\u7684\u662F\u5BBF\u4E3B\u673A\u7684\u5185\u6838\uFF0CVM\u9700\u8981Guest OS</li></ol><p>\u6240\u4EE5\u8BF4\uFF0C\u65B0\u5EFA\u4E00\u4E2A\u5BB9\u5668\u7684\u65F6\u5019\uFF0CDocker\u4E0D\u9700\u8981\u50CF\u865A\u62DF\u673A\u4E00\u6837\u91CD\u65B0\u52A0\u8F7D\u4E00\u4E2A\u64CD\u4F5C\u7CFB\u7EDF\u5185\u6838\uFF0C\u907F\u514D\u5F15\u5BFC\u3002\u865A\u62DF\u673A\u662F\u52A0\u8F7DGuest OS\uFF0C\u662F\u5206\u949F\u7EA7\u522B\u7684\uFF1B\u800CDocker\u662F\u5229\u7528\u5BBF\u4E3B\u673A\u7684\u64CD\u4F5C\u7CFB\u7EDF\uFF0C\u7701\u7565\u4E86\u8FD9\u4E2A\u590D\u5236\u7684\u8FC7\u7A0B\uFF0C\u662F\u79D2\u7EA7\u522B\u7684</p><h2 id="\u5E38\u7528\u547D\u4EE4"><a class="header-anchor" href="#\u5E38\u7528\u547D\u4EE4" aria-hidden="true">#</a> \u5E38\u7528\u547D\u4EE4</h2><h3 id="\u5E2E\u52A9\u547D\u4EE4"><a class="header-anchor" href="#\u5E2E\u52A9\u547D\u4EE4" aria-hidden="true">#</a> \u5E2E\u52A9\u547D\u4EE4</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> version <span class="token comment">#\u663E\u793Adocker\u7684\u7248\u672C\u4FE1\u606F</span>
<span class="token function">docker</span> info <span class="token comment">## \u663E\u793Adocker\u7684\u7CFB\u7EDF\u4FE1\u606F\uFF0C\u5305\u62EC\u955C\u50CF\u548C\u5BB9\u5668\u7684\u6570\u91CF</span>
<span class="token function">docker</span> \u547D\u4EE4 --help <span class="token comment">## \u5E2E\u52A9\u547D\u4EE4</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5E2E\u52A9\u6587\u6863\u7684\u5730\u5740\uFF1Ahttps://docs.docker.com/reference/</p><p><img src="`+m+'" alt=""></p><h3 id="\u955C\u50CF\u547D\u4EE4"><a class="header-anchor" href="#\u955C\u50CF\u547D\u4EE4" aria-hidden="true">#</a> \u955C\u50CF\u547D\u4EE4</h3><ol><li>docker images ## \u67E5\u770B\u6240\u6709\u672C\u5730\u7684\u4E3B\u673A\u4E0A\u7684\u955C\u50CF</li></ol><p><img src="'+k+`" alt=""></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> images --help
<span class="token function">docker</span> images

\u955C\u50CF\u7684\u4ED3\u5E93\u6E90    \u955C\u50CF\u7684\u6807\u7B7E  \u955C\u50CF\u7684id        \u955C\u50CF\u521B\u5EFA\u65F6\u95F4     \u955C\u50CF\u7684\u5927\u5C0F
REPOSITORY    TAG       IMAGE ID       CREATED        SIZE
hello-world   latest    feb5d9fea6a5   <span class="token number">2</span> months ago   <span class="token number">13</span>.3kB
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>  -a, --all             \u5217\u51FA\u6240\u6709\u7684\u955C\u50CF
  -q, --quiet           \u53EA\u663E\u793A\u955C\u50CF\u7684id\uFF0C\u8FD9\u4E2A\u4F1A\u7ECF\u5E38\u4F7F\u7528\uFF0C\u5220\u9664\u7684\u8BDD\uFF0C\u662F\u901A\u8FC7id\u5220\u9664
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>docker search ## \u641C\u7D22</li></ol><p>\u7F51\u9875\u7248\u7684\u641C\u7D22</p><p><img src="`+v+`" alt=""></p><p>\u4E5F\u53EF\u4EE5\u76F4\u63A5\u901A\u8FC7\u7EC8\u7AEF\u4F7F\u7528<code>docker search</code>\u8FDB\u884C\u641C\u7D20</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost config<span class="token punctuation">]</span><span class="token comment">## docker search mysql</span>
NAME                              DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED
mysql                             MySQL is a widely used, open-source relation\u2026   <span class="token number">11748</span>     <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
mariadb                           MariaDB Server is a high performing <span class="token function">open</span> sou\u2026   <span class="token number">4478</span>      <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
mysql/mysql-server                Optimized MySQL Server Docker images. Create\u2026   <span class="token number">877</span>                  <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u53EF\u9009\u503C</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>-f, --filter<span class="token operator">=</span>STARS<span class="token operator">=</span><span class="token number">3000</span> <span class="token comment">## \u641C\u7D22\u51FA\u6765\u7684\u955C\u50CF\u5C31\u662FSTARS\u5927\u4E8E3000\u7684</span>

<span class="token punctuation">[</span>root@localhost config<span class="token punctuation">]</span><span class="token comment">## docker search mysql --filter=STARS=3000</span>
NAME      DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED
mysql     MySQL is a widely used, open-source relation\u2026   <span class="token number">11748</span>     <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
mariadb   MariaDB Server is a high performing <span class="token function">open</span> sou\u2026   <span class="token number">4478</span>      <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>docker pull ## \u62C9\u53D6\uFF0C\u4E0B\u8F7D\u955C\u50CF</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">## \u4E0B\u8F7D\u955C\u50CF docker pull \u955C\u50CF\u540D[:tag(\u7248\u672C\u540D)]</span>
<span class="token punctuation">[</span>root@localhost config<span class="token punctuation">]</span><span class="token comment">## docker pull mysql</span>
Using default tag: latest <span class="token comment">## \u5982\u679C\u4E0D\u5199tag\uFF0C\u9ED8\u8BA4\u5C31\u662Flatest</span>
latest: Pulling from library/mysql
a10c77af2613: Pull complete <span class="token comment">## \u5206\u5C42\u4E0B\u8F7D\uFF0Cdocker image\u7684\u6838\u5FC3\uFF0C\u8054\u5408\u6587\u4EF6\u7CFB\u7EDF</span>
b76a7eb51ffd: Pull complete
258223f927e4: Pull complete
2d2c75386df9: Pull complete
63e92e4046c9: Pull complete
f5845c731544: Pull complete
bd0401123a9b: Pull complete
3ef07ec35f1a: Pull complete
c93a31315089: Pull complete
3349ed800d44: Pull complete
6d01857ca4c1: Pull complete
4cc13890eda8: Pull complete
Digest: sha256:aeecae58035f3868bf4f00e5fc623630d8b438db9d05f4d8c6538deb14d4c31b <span class="token comment">## \u7B7E\u540D</span>
Status: Downloaded newer image <span class="token keyword">for</span> mysql:latest
docker.io/library/mysql:latest <span class="token comment">## \u771F\u5B9E\u5730\u5740</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>docker pull msyql</code>\u7B49\u4EF7\u4E8E<code>docker pull docker.io/library/mysql:latest</code></p><p>\u6307\u5B9A\u7248\u672C\u4E0B\u8F7D</p><p>\u5206\u5C42\u4E0B\u8F7D\uFF1A\u628AMySQL\u5F53\u6210\u4E00\u4E2A\u5343\u5C42\u997C\uFF0C\u4E0D\u540C\u7684\u7248\u672C\u4E2D\uFF0C\u6709\u5B58\u5728\u76F8\u540C\u7684\u8D44\u6E90\uFF0C\u6BD4\u5982\u8BF4\u73B0\u5728\u5DF2\u7ECF\u4E0B\u8F7D\u4E86msyql8.0\u7248\u672C\uFF0C\u5F53\u6211\u4EEC\u5728\u4E0B\u8F7Dmysql5.7\u7248\u672C\u7684\u65F6\u5019\uFF0C\u4E00\u4E9B\u5DF2\u7ECF\u5B58\u5728\u7684\u8D44\u6E90\u65F6\u4E0D\u9700\u8981\u4E0B\u8F7D\u7684\uFF0C\u6781\u5927\u7684\u8282\u7701\u4E86\u5185\u5B58</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost config<span class="token punctuation">]</span><span class="token comment">## docker pull mysql:5.7 ## \u8FD9\u4E2A\u7248\u672C\u4E00\u5B9A\u8981\u5728\u5B98\u65B9\u4ED3\u5E93\u4E2D\u6709</span>
<span class="token number">5.7</span>: Pulling from library/mysql
a10c77af2613: Already exists
b76a7eb51ffd: Already exists
258223f927e4: Already exists
2d2c75386df9: Already exists
63e92e4046c9: Already exists
f5845c731544: Already exists
bd0401123a9b: Already exists
2724b2da64fd: Pull complete
d10a7e9e325c: Pull complete
1c5fd9c3683d: Pull complete
2e35f83a12e9: Pull complete
Digest: sha256:7a3a7b7a29e6fbff433c339fc52245435fa2c308586481f2f92ab1df239d6a29
Status: Downloaded newer image <span class="token keyword">for</span> mysql:5.7
docker.io/library/mysql:5.7
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost config<span class="token punctuation">]</span><span class="token comment">## docker images</span>
REPOSITORY    TAG       IMAGE ID       CREATED        SIZE
mysql         <span class="token number">5.7</span>       8b43c6af2ad0   <span class="token number">12</span> days ago    448MB
mysql         latest    b05128b000dd   <span class="token number">12</span> days ago    516MB
hello-world   latest    feb5d9fea6a5   <span class="token number">2</span> months ago   <span class="token number">13</span>.3kB
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>docker rmi ## \u5220\u9664\u955C\u50CF</li></ol><p>\u53EF\u4EE5\u901A\u8FC7\u540D\u79F0\u6216\u8005id\u5220\u9664</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost config<span class="token punctuation">]</span><span class="token comment">## docker rmi 8b43c6af2ad0</span>
Untagged: mysql:5.7
Untagged: mysql@sha256:7a3a7b7a29e6fbff433c339fc52245435fa2c308586481f2f92ab1df239d6a29
Deleted: sha256:8b43c6af2ad08d95cdcb415d245446909a6cbc1875604c48c4325972e5b00442
Deleted: sha256:aad43f4d2f66438acd2d156216cd544a728851238714975c38d9a690f68afc57
Deleted: sha256:7b9addbc002c1e828aee7ec5c2679b04a591b6fa2b96002701ddee9d4ed54395
Deleted: sha256:b00f8e4e6ce8920fb563615503f232799ab380b338c3f2cbb5e86a2d762a6e80
Deleted: sha256:8fbabb17fd7b46a59cc15301741bf73a527b862f59cc6e84fae15b4dd5c425c0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5168\u90E8\u5220\u9664</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">## -f \u9012\u5F52\u5220\u9664\uFF0C$(docker images -aq)\uFF1A\u590D\u5408\u67E5\u8BE2\u51FA\u6240\u6709\u7684\u955C\u50CF</span>
<span class="token punctuation">[</span>root@localhost config<span class="token punctuation">]</span><span class="token comment">## docker rmi -f $(docker images -aq)</span>
Untagged: mysql:latest
Untagged: mysql@sha256:aeecae58035f3868bf4f00e5fc623630d8b438db9d05f4d8c6538deb14d4c31b
Deleted: sha256:b05128b000ddbafb0a0d2713086c6a1cc23280dee3529d37f03c98c97c8cf1ed
Deleted: sha256:2920230e18d6833c32c9f851905df9d3e2958a43b771c84908234ac031b25a45
Deleted: sha256:a790dd6a368bc9aa7d1b251b46ac2fc718ebae5a38ed51ff89ff99955dadaa35
Deleted: sha256:cd87c1db4b159f37f092e73a52c10d5ccb837ed7bfcdc3b008038540390454a4
Deleted: sha256:7f92300b04af4aef96d5ef6fab1e27456cef354eca04733d396ad74478bee7d8
Deleted: sha256:6a59f55eb4945598b4889ea269d79f8b99563c96e97ba2373e19712732d20352
Deleted: sha256:87030c256d8077b4d969e5819f5da01ed08f29e115eaec61b58b3f3134175e1e
Deleted: sha256:b1694d0bb0b1be63e940478b93aa34f46e18f8371539ccee3b5d580cbf576812
Deleted: sha256:f323fd0baccb89f82a5711fa6291f3b4c977b85c3bbba59b1080205b498133b1
Deleted: sha256:47a2799e90faa9d9aaaa4b63457390dcbf5b26ce67f0926821c50b982d741e32
Deleted: sha256:156f55d34ef3e567ef39380f8d86f7c946927a099a43205de8721e60bfef526e
Deleted: sha256:bb282bb84eb90a6040504a46f462ebe55cb9623df13219fc39f434a53ccd1687
Deleted: sha256:77b323d4ec74aad770337f99a60e862a64ccc53f4775b5f4945df0e606f78b90
Untagged: hello-world:latest
Untagged: hello-world@sha256:cc15c5b292d8525effc0f89cb299f1804f3a725c8d05e158653a563f15e4f685
Deleted: sha256:feb5d9fea6a5e9606aa995e879d862b825965ba48de054caab5ef356dc6b3412
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6CA1\u6709\u4EFB\u4F55\u7684\u955C\u50CF\u4E86</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost config<span class="token punctuation">]</span><span class="token comment">## docker images</span>
REPOSITORY   TAG       IMAGE ID   CREATED   SIZE
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5BB9\u5668\u547D\u4EE4"><a class="header-anchor" href="#\u5BB9\u5668\u547D\u4EE4" aria-hidden="true">#</a> \u5BB9\u5668\u547D\u4EE4</h3><p>\u8BF4\u660E\uFF1A\u6709\u4E86\u955C\u50CF\u624D\u53EF\u4EE5\u521B\u5EFA\u5BB9\u5668\uFF0C\u4E0B\u8F7D\u4E00\u4E2Acentos\u955C\u50CF\u6765\u6D4B\u8BD5\u5B66\u4E60\uFF0C\u5728docker\u4E2D\u88C5\u4E00\u4E2Alinux\u6765\u6D4B\u8BD5</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> pull centos
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="\u65B0\u5EFA\u5BB9\u5668\u5E76\u542F\u52A8"><a class="header-anchor" href="#\u65B0\u5EFA\u5BB9\u5668\u5E76\u542F\u52A8" aria-hidden="true">#</a> \u65B0\u5EFA\u5BB9\u5668\u5E76\u542F\u52A8</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token punctuation">[</span>\u53EF\u9009\u53C2\u6570<span class="token punctuation">]</span> image

<span class="token comment">## \u53C2\u6570\u8BF4\u660E</span>

--name<span class="token operator">=</span><span class="token string">&quot;name&quot;</span>   \u5BB9\u5668\u540D\u5B57 tomcat01\u3001tomcat02\u7B49\uFF0C\u7528\u6765\u533A\u5206\u5BB9\u5668
-d              \u540E\u53F0\u65B9\u5F0F\u8FD0\u884C\uFF0C\u4EE5\u524Djar \u7ECF\u5E38\u4F7F\u7528nohup
-it             \u4F7F\u7528\u4EA4\u4E92\u65B9\u5F0F\u8FD0\u884C\uFF0C\u8FDB\u5165\u5BB9\u5668\u67E5\u770B\u5185\u5BB9
-p              \u6307\u5B9A\u5BB9\u5668\u7684\u7AEF\u53E3 -p <span class="token number">8080</span>:8080\uFF08\u5C0F\u5199p\uFF09
    -p          ip:\u4E3B\u673A\u7AEF\u53E3
    -p          \u4E3B\u673A\u7AEF\u53E3:\u5BB9\u5668\u7AEF\u53E3\uFF08\u5E38\u7528\u7684\uFF09
    -p          \u5BB9\u5668\u7AEF\u53E3\uFF0C\u4E0D\u5F80\u5916\u9762\u8D70
    \u5BB9\u5668\u7AEF\u53E3
-P              \u968F\u673A\u6307\u5B9A\u7AEF\u53E3\uFF08\u5927\u5199P\uFF09
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6D4B\u8BD5</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost config<span class="token punctuation">]</span><span class="token comment">## docker run -it centos /bin/bash ## \u542F\u52A8\u5E76\u8FDB\u5165\u5BB9\u5668</span>
<span class="token punctuation">[</span>root@8310454bec59 /<span class="token punctuation">]</span><span class="token comment">#</span>

<span class="token comment">## \u67E5\u770B\u5BB9\u5668\u7684centos\uFF0C\u57FA\u7840\u7248\u672C\uFF0C\u5F88\u591A\u547D\u4EE4\u90FD\u662F\u4E0D\u5B8C\u5584\u7684</span>
<span class="token punctuation">[</span>root@8310454bec59 /<span class="token punctuation">]</span><span class="token comment">## ls</span>
bin  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var

<span class="token comment">## \u9000\u51FA\u5BB9\u5668</span>
<span class="token punctuation">[</span>root@8310454bec59 /<span class="token punctuation">]</span><span class="token comment">## exit</span>
<span class="token builtin class-name">exit</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5217\u51FA\u6240\u6709\u8FD0\u884C\u4E2D\u7684\u5BB9\u5668"><a class="header-anchor" href="#\u5217\u51FA\u6240\u6709\u8FD0\u884C\u4E2D\u7684\u5BB9\u5668" aria-hidden="true">#</a> \u5217\u51FA\u6240\u6709\u8FD0\u884C\u4E2D\u7684\u5BB9\u5668</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> <span class="token function">ps</span> \u547D\u4EE4
-a <span class="token comment">## \u5217\u51FA\u5F53\u524D\u6B63\u5728\u8FD0\u884C\u7684\u5BB9\u5668+\u5E26\u51FA\u5386\u53F2\u8FD0\u884C\u8FC7\u7684\u5BB9\u5668</span>
-n<span class="token operator">=</span>? <span class="token comment">## \u663E\u793A\u6700\u8FD1\u521B\u5EFA\u7684\u5BB9\u5668\uFF0C\u6BD4\u5982n=1\u663E\u793A\u6700\u8FD1\u521B\u5EFA\u7684\u6700\u540E\u4E00\u4E2A\u5BB9\u5668</span>
-q <span class="token comment">## \u53EA\u663E\u793A\u5BB9\u5668\u7684\u7F16\u53F7</span>

<span class="token punctuation">[</span>root@localhost config<span class="token punctuation">]</span><span class="token comment">## docker ps -a ## \u5217\u51FA\u4E4B\u524D\u6240\u6709\u8FD0\u884C\u7684\u5BB9\u5668</span>
CONTAINER ID   IMAGE          COMMAND       CREATED         STATUS                     PORTS     NAMES
8310454bec59   centos         <span class="token string">&quot;/bin/bash&quot;</span>   <span class="token number">3</span> minutes ago   Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">2</span> minutes ago             gracious_germain
66d940b76782   feb5d9fea6a5   <span class="token string">&quot;/hello&quot;</span>      <span class="token number">4</span> hours ago     Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">4</span> hours ago               kind_mcnulty
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u9000\u51FA\u5BB9\u5668"><a class="header-anchor" href="#\u9000\u51FA\u5BB9\u5668" aria-hidden="true">#</a> \u9000\u51FA\u5BB9\u5668</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">exit</span> <span class="token comment">## \u76F4\u63A5\u5BB9\u5668\u505C\u6B62\u5E76\u9000\u51FA</span>

ctrl+p+q <span class="token comment">## \u5BB9\u5668\u4E0D\u505C\u6B62\u9000\u51FA \uFF08mac\uFF1Acoontrol+q+p\uFF09</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5220\u9664\u5BB9\u5668"><a class="header-anchor" href="#\u5220\u9664\u5BB9\u5668" aria-hidden="true">#</a> \u5220\u9664\u5BB9\u5668</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> <span class="token function">rm</span> \u5BB9\u5668id <span class="token comment">## \u5220\u9664\u6307\u5B9A\u7684\u5BB9\u5668\uFF0C\u4E0D\u80FD\u5220\u9664\u6B63\u5728\u8FD0\u884C\u7684\u5BB9\u5668\uFF0C\u9700\u8981\u52A0-f\u5F3A\u5236\u5220\u9664</span>
<span class="token function">docker</span> <span class="token function">rm</span> -f <span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> <span class="token function">ps</span> -aq<span class="token variable">)</span></span> <span class="token comment">## \u5220\u9664\u6240\u6709\u7684\u5BB9\u5668</span>
<span class="token function">docker</span> <span class="token function">ps</span> -a -q<span class="token operator">|</span><span class="token function">xargs</span> <span class="token function">docker</span> <span class="token function">rm</span> <span class="token comment">## \u5220\u9664\u6240\u6709\u7684\u5BB9\u5668\uFF0C\u901A\u8FC7\u7BA1\u9053\u7684\u65B9\u5F0F</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u542F\u52A8\u548C\u505C\u6B62\u5BB9\u5668\u7684\u64CD\u4F5C"><a class="header-anchor" href="#\u542F\u52A8\u548C\u505C\u6B62\u5BB9\u5668\u7684\u64CD\u4F5C" aria-hidden="true">#</a> \u542F\u52A8\u548C\u505C\u6B62\u5BB9\u5668\u7684\u64CD\u4F5C</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> start \u5BB9\u5668id       <span class="token comment">## \u542F\u52A8\u5BB9\u5668</span>
<span class="token function">docker</span> restart \u5BB9\u5668id     <span class="token comment">## \u91CD\u542F\u5BB9\u5668</span>
<span class="token function">docker</span> stop \u5BB9\u5668id        <span class="token comment">## \u505C\u6B62\u5F53\u524D\u6B63\u5728\u8FD0\u884C\u7684\u5BB9\u5668</span>
<span class="token function">docker</span> <span class="token function">kill</span> \u5BB9\u5668id        <span class="token comment">## \u5F3A\u5236\u505C\u6B62\u5F53\u524D\u5BB9\u5668</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5176\u4ED6\u547D\u4EE4"><a class="header-anchor" href="#\u5176\u4ED6\u547D\u4EE4" aria-hidden="true">#</a> \u5176\u4ED6\u547D\u4EE4</h3><h4 id="\u540E\u53F0\u542F\u52A8\u5BB9\u5668"><a class="header-anchor" href="#\u540E\u53F0\u542F\u52A8\u5BB9\u5668" aria-hidden="true">#</a> \u540E\u53F0\u542F\u52A8\u5BB9\u5668</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">## \u547D\u4EE4 docker run -d \u955C\u50CF\u540D</span>
<span class="token punctuation">[</span>root@localhost config<span class="token punctuation">]</span><span class="token comment">## docker run -d centos</span>
e6848eae16a89f15910c8cbe195e705239396f9036d102596788dc486860fcff
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u95EE\u9898\uFF1Adocker ps\uFF0C\u53D1\u73B0centos\u505C\u6B62\u4E86</p><p>\u5E38\u89C1\u7684\u5751\uFF0Cdocker\u5BB9\u5668\u7528\u540E\u53F0\u8FD0\u884C\uFF0C\u5C31\u5FC5\u987B\u8981\u6709\u4E00\u4E2A\u524D\u53F0\u8FDB\u7A0B\uFF0Cdocker\u53D1\u73B0\u6CA1\u6709\u5E94\u7528\uFF0C\u5C31\u4F1A\u81EA\u52A8\u505C\u6B62\u3002\u6BD4\u5982\uFF0CNginx\u5BB9\u5668\u542F\u52A8\u540E\uFF0C\u53D1\u73B0\u81EA\u5DF1\u6CA1\u6709\u63D0\u4F9B\u670D\u52A1\uFF0C\u5C31\u4F1A\u7ACB\u523B\u505C\u6B62\uFF0C\u5C31\u662F\u6CA1\u6709\u7A0B\u5E8F\u4E86</p><h4 id="\u67E5\u770B\u65E5\u5FD7\u547D\u4EE4"><a class="header-anchor" href="#\u67E5\u770B\u65E5\u5FD7\u547D\u4EE4" aria-hidden="true">#</a> \u67E5\u770B\u65E5\u5FD7\u547D\u4EE4</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> logs -tf --tail \u5BB9\u5668\uFF0C\u6CA1\u6709\u65E5\u5FD7

<span class="token comment">## \u81EA\u5DF1\u7F16\u5199\u4E00\u6BB5shell\u811A\u672C</span>
<span class="token function">docker</span> run -d centos /bin/sh -c <span class="token string">&quot;while true;do echo zhangsan;sleep 1;done&quot;</span>

<span class="token comment">## \u663E\u793A\u65E5\u5FD7</span>
-tf             <span class="token comment">## \u663E\u793A\u65E5\u5FD7</span>
-tail number    <span class="token comment">## \u8981\u663E\u793A\u7684\u65E5\u5FD7\u6761\u6570</span>
<span class="token function">docker</span> logs -tf --tail <span class="token number">10</span> e6848eae16a8
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u65E5\u5FD7\u7ED3\u679C</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost config<span class="token punctuation">]</span><span class="token comment">## docker logs -tf --tail 10 f57b469927ac</span>
<span class="token number">2021</span>-11-30T08:25:28.449424151Z zhangsan
<span class="token number">2021</span>-11-30T08:25:29.451613470Z zhangsan
<span class="token number">2021</span>-11-30T08:25:30.454649954Z zhangsan
<span class="token number">2021</span>-11-30T08:25:31.457364872Z zhangsan
<span class="token number">2021</span>-11-30T08:25:32.459740173Z zhangsan
<span class="token number">2021</span>-11-30T08:25:33.462692964Z zhangsan
<span class="token number">2021</span>-11-30T08:25:34.465015905Z zhangsan
<span class="token number">2021</span>-11-30T08:25:35.467454025Z zhangsan
<span class="token number">2021</span>-11-30T08:25:36.469816104Z zhangsan
<span class="token number">2021</span>-11-30T08:25:37.472183746Z zhangsan
<span class="token number">2021</span>-11-30T08:25:38.475065076Z zhangsan
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u67E5\u770B\u5BB9\u5668\u4E2D\u7684\u8FDB\u7A0B\u4FE1\u606Fps"><a class="header-anchor" href="#\u67E5\u770B\u5BB9\u5668\u4E2D\u7684\u8FDB\u7A0B\u4FE1\u606Fps" aria-hidden="true">#</a> \u67E5\u770B\u5BB9\u5668\u4E2D\u7684\u8FDB\u7A0B\u4FE1\u606Fps</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost config<span class="token punctuation">]</span><span class="token comment">## docker top f57b469927ac</span>
<span class="token environment constant">UID</span>                 PID                 <span class="token environment constant">PPID</span>                C                   STIME               TTY                 TIME                CMD
root                <span class="token number">3520</span>                <span class="token number">3500</span>                <span class="token number">0</span>                   <span class="token number">16</span>:25               ?                   00:00:00            /bin/sh -c <span class="token keyword">while</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">do</span> <span class="token builtin class-name">echo</span> zhangsan<span class="token punctuation">;</span><span class="token function">sleep</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">done</span>
root                <span class="token number">3693</span>                <span class="token number">3520</span>                <span class="token number">0</span>                   <span class="token number">16</span>:27               ?                   00:00:00            /usr/bin/coreutils --coreutils-prog-shebang<span class="token operator">=</span>sleep /usr/bin/sleep <span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u67E5\u770B\u955C\u50CF\u7684\u5143\u6570\u636E"><a class="header-anchor" href="#\u67E5\u770B\u955C\u50CF\u7684\u5143\u6570\u636E" aria-hidden="true">#</a> \u67E5\u770B\u955C\u50CF\u7684\u5143\u6570\u636E</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost config<span class="token punctuation">]</span><span class="token comment">## docker inspect f57b469927ac</span>
<span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token string">&quot;Id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;f57b469927ac7883aa3a5c6b72d13ac3e5c8d5355fe257c80621900a727e492e&quot;</span>,
        <span class="token string">&quot;Created&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;2021-11-30T08:25:20.115734668Z&quot;</span>,
        <span class="token string">&quot;Path&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/bin/sh&quot;</span>,
        <span class="token string">&quot;Args&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
            <span class="token string">&quot;-c&quot;</span>,
            <span class="token string">&quot;while true;do echo zhangsan;sleep 1;done&quot;</span>
        <span class="token punctuation">]</span>,
        <span class="token string">&quot;State&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;Status&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;running&quot;</span>,
            <span class="token string">&quot;Running&quot;</span><span class="token builtin class-name">:</span> true,
            <span class="token string">&quot;Paused&quot;</span><span class="token builtin class-name">:</span> false,
            <span class="token string">&quot;Restarting&quot;</span><span class="token builtin class-name">:</span> false,
            <span class="token string">&quot;OOMKilled&quot;</span><span class="token builtin class-name">:</span> false,
            <span class="token string">&quot;Dead&quot;</span><span class="token builtin class-name">:</span> false,
            <span class="token string">&quot;Pid&quot;</span><span class="token builtin class-name">:</span> <span class="token number">3520</span>,
            <span class="token string">&quot;ExitCode&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">&quot;Error&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,
            <span class="token string">&quot;StartedAt&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;2021-11-30T08:25:20.434063675Z&quot;</span>,
            <span class="token string">&quot;FinishedAt&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0001-01-01T00:00:00Z&quot;</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;Image&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;sha256:5d0da3dc976460b72c77d94c8a1ad043720b0416bfc16c52c45d4847e53fadb6&quot;</span>,
        <span class="token string">&quot;ResolvConfPath&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/var/lib/docker/containers/f57b469927ac7883aa3a5c6b72d13ac3e5c8d5355fe257c80621900a727e492e/resolv.conf&quot;</span>,
        <span class="token string">&quot;HostnamePath&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/var/lib/docker/containers/f57b469927ac7883aa3a5c6b72d13ac3e5c8d5355fe257c80621900a727e492e/hostname&quot;</span>,
        <span class="token string">&quot;HostsPath&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/var/lib/docker/containers/f57b469927ac7883aa3a5c6b72d13ac3e5c8d5355fe257c80621900a727e492e/hosts&quot;</span>,
        <span class="token string">&quot;LogPath&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/var/lib/docker/containers/f57b469927ac7883aa3a5c6b72d13ac3e5c8d5355fe257c80621900a727e492e/f57b469927ac7883aa3a5c6b72d13ac3e5c8d5355fe257c80621900a727e492e-json.log&quot;</span>,
        <span class="token string">&quot;Name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/distracted_shannon&quot;</span>,
        <span class="token string">&quot;RestartCount&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
        <span class="token string">&quot;Driver&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;overlay2&quot;</span>,
        <span class="token string">&quot;Platform&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;linux&quot;</span>,
        <span class="token string">&quot;MountLabel&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,
        <span class="token string">&quot;ProcessLabel&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,
        <span class="token string">&quot;AppArmorProfile&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,
        <span class="token string">&quot;ExecIDs&quot;</span><span class="token builtin class-name">:</span> null,
        <span class="token string">&quot;HostConfig&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;Binds&quot;</span><span class="token builtin class-name">:</span> null,
            <span class="token string">&quot;ContainerIDFile&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,
            <span class="token string">&quot;LogConfig&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
                <span class="token string">&quot;Type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;json-file&quot;</span>,
                <span class="token string">&quot;Config&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
            <span class="token punctuation">}</span>,
            <span class="token string">&quot;NetworkMode&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;default&quot;</span>,
            <span class="token string">&quot;PortBindings&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>,
            <span class="token string">&quot;RestartPolicy&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
                <span class="token string">&quot;Name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;no&quot;</span>,
                <span class="token string">&quot;MaximumRetryCount&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>
            <span class="token punctuation">}</span>,
            <span class="token string">&quot;AutoRemove&quot;</span><span class="token builtin class-name">:</span> false,
            <span class="token string">&quot;VolumeDriver&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,
            <span class="token string">&quot;VolumesFrom&quot;</span><span class="token builtin class-name">:</span> null,
            <span class="token string">&quot;CapAdd&quot;</span><span class="token builtin class-name">:</span> null,
            <span class="token string">&quot;CapDrop&quot;</span><span class="token builtin class-name">:</span> null,
            <span class="token string">&quot;CgroupnsMode&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;host&quot;</span>,
            <span class="token string">&quot;Dns&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>,
            <span class="token string">&quot;DnsOptions&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>,
            <span class="token string">&quot;DnsSearch&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>,
            <span class="token string">&quot;ExtraHosts&quot;</span><span class="token builtin class-name">:</span> null,
            <span class="token string">&quot;GroupAdd&quot;</span><span class="token builtin class-name">:</span> null,
            <span class="token string">&quot;IpcMode&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;private&quot;</span>,
            <span class="token string">&quot;Cgroup&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,
            <span class="token string">&quot;Links&quot;</span><span class="token builtin class-name">:</span> null,
            <span class="token string">&quot;OomScoreAdj&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">&quot;PidMode&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,
            <span class="token string">&quot;Privileged&quot;</span><span class="token builtin class-name">:</span> false,
            <span class="token string">&quot;PublishAllPorts&quot;</span><span class="token builtin class-name">:</span> false,
            <span class="token string">&quot;ReadonlyRootfs&quot;</span><span class="token builtin class-name">:</span> false,
            <span class="token string">&quot;SecurityOpt&quot;</span><span class="token builtin class-name">:</span> null,
            <span class="token string">&quot;UTSMode&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,
            <span class="token string">&quot;UsernsMode&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,
            <span class="token string">&quot;ShmSize&quot;</span><span class="token builtin class-name">:</span> <span class="token number">67108864</span>,
            <span class="token string">&quot;Runtime&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;runc&quot;</span>,
            <span class="token string">&quot;ConsoleSize&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                <span class="token number">0</span>,
                <span class="token number">0</span>
            <span class="token punctuation">]</span>,
            <span class="token string">&quot;Isolation&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,
            <span class="token string">&quot;CpuShares&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">&quot;Memory&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">&quot;NanoCpus&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">&quot;CgroupParent&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,
            <span class="token string">&quot;BlkioWeight&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">&quot;BlkioWeightDevice&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>,
            <span class="token string">&quot;BlkioDeviceReadBps&quot;</span><span class="token builtin class-name">:</span> null,
            <span class="token string">&quot;BlkioDeviceWriteBps&quot;</span><span class="token builtin class-name">:</span> null,
            <span class="token string">&quot;BlkioDeviceReadIOps&quot;</span><span class="token builtin class-name">:</span> null,
            <span class="token string">&quot;BlkioDeviceWriteIOps&quot;</span><span class="token builtin class-name">:</span> null,
            <span class="token string">&quot;CpuPeriod&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">&quot;CpuQuota&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">&quot;CpuRealtimePeriod&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">&quot;CpuRealtimeRuntime&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">&quot;CpusetCpus&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,
            <span class="token string">&quot;CpusetMems&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,
            <span class="token string">&quot;Devices&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>,
            <span class="token string">&quot;DeviceCgroupRules&quot;</span><span class="token builtin class-name">:</span> null,
            <span class="token string">&quot;DeviceRequests&quot;</span><span class="token builtin class-name">:</span> null,
            <span class="token string">&quot;KernelMemory&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">&quot;KernelMemoryTCP&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">&quot;MemoryReservation&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">&quot;MemorySwap&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">&quot;MemorySwappiness&quot;</span><span class="token builtin class-name">:</span> null,
            <span class="token string">&quot;OomKillDisable&quot;</span><span class="token builtin class-name">:</span> false,
            <span class="token string">&quot;PidsLimit&quot;</span><span class="token builtin class-name">:</span> null,
            <span class="token string">&quot;Ulimits&quot;</span><span class="token builtin class-name">:</span> null,
            <span class="token string">&quot;CpuCount&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">&quot;CpuPercent&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">&quot;IOMaximumIOps&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">&quot;IOMaximumBandwidth&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">&quot;MaskedPaths&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;/proc/asound&quot;</span>,
                <span class="token string">&quot;/proc/acpi&quot;</span>,
                <span class="token string">&quot;/proc/kcore&quot;</span>,
                <span class="token string">&quot;/proc/keys&quot;</span>,
                <span class="token string">&quot;/proc/latency_stats&quot;</span>,
                <span class="token string">&quot;/proc/timer_list&quot;</span>,
                <span class="token string">&quot;/proc/timer_stats&quot;</span>,
                <span class="token string">&quot;/proc/sched_debug&quot;</span>,
                <span class="token string">&quot;/proc/scsi&quot;</span>,
                <span class="token string">&quot;/sys/firmware&quot;</span>
            <span class="token punctuation">]</span>,
            <span class="token string">&quot;ReadonlyPaths&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;/proc/bus&quot;</span>,
                <span class="token string">&quot;/proc/fs&quot;</span>,
                <span class="token string">&quot;/proc/irq&quot;</span>,
                <span class="token string">&quot;/proc/sys&quot;</span>,
                <span class="token string">&quot;/proc/sysrq-trigger&quot;</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;GraphDriver&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;Data&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
                <span class="token string">&quot;LowerDir&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/var/lib/docker/overlay2/d0af445884236d4114644346051c3d09bc7fa53b10206e7aff3b1b66a8b40541-init/diff:/var/lib/docker/overlay2/d39436851978407d2c59f9a2df2ac07eca93c0b44222a9063efd4b16e8bddf1f/diff&quot;</span>,
                <span class="token string">&quot;MergedDir&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/var/lib/docker/overlay2/d0af445884236d4114644346051c3d09bc7fa53b10206e7aff3b1b66a8b40541/merged&quot;</span>,
                <span class="token string">&quot;UpperDir&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/var/lib/docker/overlay2/d0af445884236d4114644346051c3d09bc7fa53b10206e7aff3b1b66a8b40541/diff&quot;</span>,
                <span class="token string">&quot;WorkDir&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/var/lib/docker/overlay2/d0af445884236d4114644346051c3d09bc7fa53b10206e7aff3b1b66a8b40541/work&quot;</span>
            <span class="token punctuation">}</span>,
            <span class="token string">&quot;Name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;overlay2&quot;</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;Mounts&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>,
        <span class="token string">&quot;Config&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;Hostname&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;f57b469927ac&quot;</span>,
            <span class="token string">&quot;Domainname&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,
            <span class="token string">&quot;User&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,
            <span class="token string">&quot;AttachStdin&quot;</span><span class="token builtin class-name">:</span> false,
            <span class="token string">&quot;AttachStdout&quot;</span><span class="token builtin class-name">:</span> false,
            <span class="token string">&quot;AttachStderr&quot;</span><span class="token builtin class-name">:</span> false,
            <span class="token string">&quot;Tty&quot;</span><span class="token builtin class-name">:</span> false,
            <span class="token string">&quot;OpenStdin&quot;</span><span class="token builtin class-name">:</span> false,
            <span class="token string">&quot;StdinOnce&quot;</span><span class="token builtin class-name">:</span> false,
            <span class="token string">&quot;Env&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;</span>
            <span class="token punctuation">]</span>,
            <span class="token string">&quot;Cmd&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;/bin/sh&quot;</span>,
                <span class="token string">&quot;-c&quot;</span>,
                <span class="token string">&quot;while true;do echo zhangsan;sleep 1;done&quot;</span>
            <span class="token punctuation">]</span>,
            <span class="token string">&quot;Image&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;centos&quot;</span>,
            <span class="token string">&quot;Volumes&quot;</span><span class="token builtin class-name">:</span> null,
            <span class="token string">&quot;WorkingDir&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,
            <span class="token string">&quot;Entrypoint&quot;</span><span class="token builtin class-name">:</span> null,
            <span class="token string">&quot;OnBuild&quot;</span><span class="token builtin class-name">:</span> null,
            <span class="token string">&quot;Labels&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
                <span class="token string">&quot;org.label-schema.build-date&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;20210915&quot;</span>,
                <span class="token string">&quot;org.label-schema.license&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;GPLv2&quot;</span>,
                <span class="token string">&quot;org.label-schema.name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;CentOS Base Image&quot;</span>,
                <span class="token string">&quot;org.label-schema.schema-version&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;1.0&quot;</span>,
                <span class="token string">&quot;org.label-schema.vendor&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;CentOS&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;NetworkSettings&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;Bridge&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,
            <span class="token string">&quot;SandboxID&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;4152ac3753a5be8c7ba1fd1db56d77a400abe11f28dca0a040ec03073c773fac&quot;</span>,
            <span class="token string">&quot;HairpinMode&quot;</span><span class="token builtin class-name">:</span> false,
            <span class="token string">&quot;LinkLocalIPv6Address&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,
            <span class="token string">&quot;LinkLocalIPv6PrefixLen&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">&quot;Ports&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>,
            <span class="token string">&quot;SandboxKey&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/var/run/docker/netns/4152ac3753a5&quot;</span>,
            <span class="token string">&quot;SecondaryIPAddresses&quot;</span><span class="token builtin class-name">:</span> null,
            <span class="token string">&quot;SecondaryIPv6Addresses&quot;</span><span class="token builtin class-name">:</span> null,
            <span class="token string">&quot;EndpointID&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;09153182eaa753b3f9f0117e7fc7fb9e5a5bab63420a3aac5196aaf12d6705cc&quot;</span>,
            <span class="token string">&quot;Gateway&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;172.17.0.1&quot;</span>,
            <span class="token string">&quot;GlobalIPv6Address&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,
            <span class="token string">&quot;GlobalIPv6PrefixLen&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">&quot;IPAddress&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;172.17.0.2&quot;</span>,
            <span class="token string">&quot;IPPrefixLen&quot;</span><span class="token builtin class-name">:</span> <span class="token number">16</span>,
            <span class="token string">&quot;IPv6Gateway&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,
            <span class="token string">&quot;MacAddress&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;02:42:ac:11:00:02&quot;</span>,
            <span class="token string">&quot;Networks&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
                <span class="token string">&quot;bridge&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
                    <span class="token string">&quot;IPAMConfig&quot;</span><span class="token builtin class-name">:</span> null,
                    <span class="token string">&quot;Links&quot;</span><span class="token builtin class-name">:</span> null,
                    <span class="token string">&quot;Aliases&quot;</span><span class="token builtin class-name">:</span> null,
                    <span class="token string">&quot;NetworkID&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;2f93b7d3e704e8758194cc6a3d1d9367205362d8cdc71d26cccaff40b6448c65&quot;</span>,
                    <span class="token string">&quot;EndpointID&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;09153182eaa753b3f9f0117e7fc7fb9e5a5bab63420a3aac5196aaf12d6705cc&quot;</span>,
                    <span class="token string">&quot;Gateway&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;172.17.0.1&quot;</span>,
                    <span class="token string">&quot;IPAddress&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;172.17.0.2&quot;</span>,
                    <span class="token string">&quot;IPPrefixLen&quot;</span><span class="token builtin class-name">:</span> <span class="token number">16</span>,
                    <span class="token string">&quot;IPv6Gateway&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,
                    <span class="token string">&quot;GlobalIPv6Address&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,
                    <span class="token string">&quot;GlobalIPv6PrefixLen&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
                    <span class="token string">&quot;MacAddress&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;02:42:ac:11:00:02&quot;</span>,
                    <span class="token string">&quot;DriverOpts&quot;</span><span class="token builtin class-name">:</span> null
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u8FDB\u5165\u5F53\u524D\u6B63\u5728\u8FD0\u884C\u7684\u5BB9\u5668"><a class="header-anchor" href="#\u8FDB\u5165\u5F53\u524D\u6B63\u5728\u8FD0\u884C\u7684\u5BB9\u5668" aria-hidden="true">#</a> \u8FDB\u5165\u5F53\u524D\u6B63\u5728\u8FD0\u884C\u7684\u5BB9\u5668</h4><p>\u6211\u4EEC\u901A\u5E38\u5BB9\u5668\u90FD\u662F\u4F7F\u7528\u540E\u53F0\u65B9\u5F0F\u8FD0\u884C\u7684\uFF0C\u5F53\u9700\u8981\u8FDB\u5165\u5BB9\u5668\u4FEE\u6539\u4E00\u4E9B\u914D\u7F6E\u7684\u65F6\u5019</p><p>\u65B9\u5F0F\u4E00</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> <span class="token builtin class-name">exec</span> -it \u5BB9\u5668id bashShell

<span class="token comment">## \u6BD4\u5982</span>
<span class="token punctuation">[</span>root@localhost config<span class="token punctuation">]</span><span class="token comment">## docker exec -it f57b469927ac /bin/bash</span>
<span class="token punctuation">[</span>root@f57b469927ac /<span class="token punctuation">]</span><span class="token comment">## ps -ef</span>
<span class="token environment constant">UID</span>         PID   <span class="token environment constant">PPID</span>  C STIME TTY          TIME CMD
root          <span class="token number">1</span>      <span class="token number">0</span>  <span class="token number">0</span> 08:25 ?        00:00:00 /bin/sh -c <span class="token keyword">while</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">do</span> <span class="token builtin class-name">echo</span> zhangsan<span class="token punctuation">;</span><span class="token function">sleep</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">done</span>
root        <span class="token number">846</span>      <span class="token number">0</span>  <span class="token number">0</span> 08:39 pts/0    00:00:00 /bin/bash
root        <span class="token number">884</span>      <span class="token number">1</span>  <span class="token number">0</span> 08:39 ?        00:00:00 /usr/bin/coreutils --coreutils-prog-shebang<span class="token operator">=</span>sleep /usr/bin/sleep <span class="token number">1</span>
root        <span class="token number">885</span>    <span class="token number">846</span>  <span class="token number">0</span> 08:39 pts/0    00:00:00 <span class="token function">ps</span> -ef
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u65B9\u5F0F\u4E8C</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> attach \u5BB9\u5668id

<span class="token comment">## \u6D4B\u8BD5</span>

<span class="token function">docker</span> attach f57b469927ac
\u5F53\u524D\u6B63\u5728\u6267\u884C\u524D\u53F0\u4EE3\u7801<span class="token punctuation">..</span>.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E8C\u8005\u7684\u533A\u522B</p><ul><li>docker exec \u8FDB\u5165\u5BB9\u5668\u540E\u5F00\u542F\u4E00\u4E2A\u65B0\u7684\u7EC8\u7AEF\uFF0C\u53EF\u4EE5\u5728\u91CC\u9762\u64CD\u4F5C\uFF08\u5E38\u7528\u7684\uFF09</li><li>docker attach \u8FDB\u5165\u5BB9\u5668\u6B63\u5728\u6267\u884C\u7684\u7EC8\u7AEF\uFF0C\u4E0D\u4F1A\u542F\u52A8\u65B0\u7684\u8FDB\u7A0B</li></ul><h4 id="\u4ECE\u5BB9\u5668\u5185\u62F7\u8D1D\u6587\u4EF6\u5230\u4E3B\u673A\u4E0A"><a class="header-anchor" href="#\u4ECE\u5BB9\u5668\u5185\u62F7\u8D1D\u6587\u4EF6\u5230\u4E3B\u673A\u4E0A" aria-hidden="true">#</a> \u4ECE\u5BB9\u5668\u5185\u62F7\u8D1D\u6587\u4EF6\u5230\u4E3B\u673A\u4E0A</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> <span class="token function">cp</span> \u5BB9\u5668id:\u5BB9\u5668\u5185\u8DEF\u5F84 \u76EE\u7684\u4E3B\u673A\u8DEF\u5F84

<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker cp d7172d136b18:/opt/test.txt /opt/</span>
<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## ll</span>
\u603B\u7528\u91CF <span class="token number">2388</span>
drwx--x--x. <span class="token number">4</span> root root      <span class="token number">28</span> <span class="token number">11</span>\u6708 <span class="token number">30</span> <span class="token number">11</span>:02 containerd
drwxrwxr-x. <span class="token number">9</span> root root    <span class="token number">4096</span> <span class="token number">11</span>\u6708 <span class="token number">29</span> <span class="token number">23</span>:19 redis-6.2.1
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">2438367</span> <span class="token number">11</span>\u6708 <span class="token number">23</span> <span class="token number">12</span>:55 redis-6.2.1.tar.gz
drwxr-xr-x. <span class="token number">3</span> root root      <span class="token number">26</span> <span class="token number">11</span>\u6708 <span class="token number">23</span> <span class="token number">12</span>:50 rh
-rw-r--r--. <span class="token number">1</span> root root       <span class="token number">0</span> <span class="token number">11</span>\u6708 <span class="token number">30</span> <span class="token number">16</span>:59 test.txt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u62F7\u8D1D\u662F\u4E00\u4E2A\u624B\u52A8\u8FC7\u7A0B\uFF0C\u672A\u6765\u6211\u4EEC\u4F7F\u7528 -v \u5377\u7684\u6280\u672F\uFF0C\u53EF\u4EE5\u5B9E\u73B0\u81EA\u52A8\u540C\u6B65 \u5C06\u5BB9\u5668\u4E2D\u7684/home\u548Clinux\u4E2D\u7684/home\u76EE\u5F55\u6253\u901A</p><h3 id="\u5C0F\u7ED3"><a class="header-anchor" href="#\u5C0F\u7ED3" aria-hidden="true">#</a> \u5C0F\u7ED3</h3><p><img src="`+b+'" alt=""></p><p><img src="'+g+'" alt=""></p><p><img src="'+h+`" alt=""></p><h3 id="\u547D\u4EE4\u7EC3\u4E60"><a class="header-anchor" href="#\u547D\u4EE4\u7EC3\u4E60" aria-hidden="true">#</a> \u547D\u4EE4\u7EC3\u4E60</h3><h4 id="docker\u5B89\u88C5nginx"><a class="header-anchor" href="#docker\u5B89\u88C5nginx" aria-hidden="true">#</a> Docker\u5B89\u88C5Nginx</h4><p>Nginx\u4E3B\u8981\u7528\u4F5C\u8D1F\u8F7D\u5747\u8861\u548C\u53CD\u5411\u4EE3\u7406</p><ol><li>\u641C\u7D22\u955C\u50CF</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker search nginx</span>
NAME                              DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED
nginx                             Official build of Nginx.                        <span class="token number">15893</span>     <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
jwilder/nginx-proxy               Automated Nginx reverse proxy <span class="token keyword">for</span> <span class="token function">docker</span> con\u2026   <span class="token number">2098</span>                 <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
richarvey/nginx-php-fpm           Container running Nginx + PHP-FPM capable of\u2026   <span class="token number">819</span>                  <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
jc21/nginx-proxy-manager          Docker container <span class="token keyword">for</span> managing Nginx proxy ho\u2026   <span class="token number">285</span>
linuxserver/nginx                 An Nginx container, brought to you by LinuxS\u2026   <span class="token number">160</span>
tiangolo/nginx-rtmp               Docker image with Nginx using the nginx-rtmp\u2026   <span class="token number">146</span>                  <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
jlesage/nginx-proxy-manager       Docker container <span class="token keyword">for</span> Nginx Proxy Manager        <span class="token number">144</span>                  <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
alfg/nginx-rtmp                   NGINX, nginx-rtmp-module and FFmpeg from sou\u2026   <span class="token number">110</span>                  <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
nginxdemos/hello                  NGINX webserver that serves a simple page co\u2026   <span class="token number">78</span>                   <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
privatebin/nginx-fpm-alpine       PrivateBin running on an Nginx, php-fpm <span class="token operator">&amp;</span> Al\u2026   <span class="token number">60</span>                   <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
nginx/nginx-ingress               NGINX and  NGINX Plus Ingress Controllers fo\u2026   <span class="token number">57</span>
nginxinc/nginx-unprivileged       Unprivileged NGINX Dockerfiles                  <span class="token number">54</span>
nginxproxy/nginx-proxy            Automated Nginx reverse proxy <span class="token keyword">for</span> <span class="token function">docker</span> con\u2026   <span class="token number">28</span>
staticfloat/nginx-certbot         Opinionated setup <span class="token keyword">for</span> automatic TLS certs lo\u2026   <span class="token number">25</span>                   <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
nginx/nginx-prometheus-exporter   NGINX Prometheus Exporter <span class="token keyword">for</span> NGINX and NGIN\u2026   <span class="token number">22</span>
schmunk42/nginx-redirect          A very simple container to redirect HTTP tra\u2026   <span class="token number">19</span>                   <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
centos/nginx-112-centos7          Platform <span class="token keyword">for</span> running nginx <span class="token number">1.12</span> or building \u2026   <span class="token number">16</span>
centos/nginx-18-centos7           Platform <span class="token keyword">for</span> running nginx <span class="token number">1.8</span> or building n\u2026   <span class="token number">13</span>
flashspys/nginx-static            Super Lightweight Nginx Image                   <span class="token number">11</span>                   <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
bitwarden/nginx                   The Bitwarden nginx web server acting as a r\u2026   <span class="token number">11</span>
mailu/nginx                       Mailu nginx frontend                            <span class="token number">9</span>                    <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
webdevops/nginx                   Nginx container                                 <span class="token number">9</span>                    <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
sophos/nginx-vts-exporter         Simple server that scrapes Nginx vts stats a\u2026   <span class="token number">7</span>                    <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
ansibleplaybookbundle/nginx-apb   An APB to deploy NGINX                          <span class="token number">3</span>                    <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
wodby/nginx                       Generic nginx                                   <span class="token number">1</span>                    <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>\u62C9\u53D6\u4E0B\u8F7D\u955C\u50CF</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker pull nginx</span>
Using default tag: latest
latest: Pulling from library/nginx
eff15d958d66: Pull complete
1e5351450a59: Pull complete
2df63e6ce2be: Pull complete
9171c7ae368c: Pull complete
020f975acd28: Pull complete
266f639b35ad: Pull complete
Digest: sha256:097c3a0913d7e3a5b01b6c685a60c03632fc7a2b50bc8e35bcaa3691d788226e
Status: Downloaded newer image <span class="token keyword">for</span> nginx:latest
docker.io/library/nginx:latest
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>\u67E5\u770B\u662F\u5426\u5DF2\u7ECF\u4E0B\u8F7D\u5B8C\u6210</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker images</span>
REPOSITORY   TAG       IMAGE ID       CREATED        SIZE
nginx        latest    ea335eea17ab   <span class="token number">13</span> days ago    141MB
centos       latest    5d0da3dc9764   <span class="token number">2</span> months ago   231MB
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7AEF\u53E3\u66B4\u9732\u7684\u6982\u5FF5</p><p><img src="`+f+`" alt=""></p><ol start="4"><li>\u542F\u52A8nginx</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">## -d \u540E\u53F0\u8FD0\u884C</span>
<span class="token comment">## --name \u7ED9\u5BB9\u5668\u547D\u540D</span>
<span class="token comment">## -p \u5BBF\u4E3B\u673A\u7AEF\u53E3\uFF0C\u5BB9\u5668\u5185\u90E8\u7AEF\u53E3</span>
<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker run -d --name nginx01 -p 3344:80 nginx</span>
aa575c8844ddae600a72eb6b54f51dfd5c52063c21d10b63ea0b096aec7d7a2e
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="5"><li>\u67E5\u770B\u5F53\u524D\u8FDB\u7A0B\u662F\u5426\u5B58\u5728Nginx</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker ps</span>
CONTAINER ID   IMAGE     COMMAND                  CREATED         STATUS         PORTS                                   NAMES
aa575c8844dd   nginx     <span class="token string">&quot;/docker-entrypoint.\u2026&quot;</span>   <span class="token number">5</span> seconds ago   Up <span class="token number">4</span> seconds   <span class="token number">0.0</span>.0.0:3344-<span class="token operator">&gt;</span><span class="token number">80</span>/tcp, :::3344-<span class="token operator">&gt;</span><span class="token number">80</span>/tcp   nginx01
d7172d136b18   centos    <span class="token string">&quot;/bin/bash&quot;</span>              <span class="token number">2</span> hours ago     Up <span class="token number">2</span> hours                                             kind_noyce
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="6"><li>\u8BBF\u95EE\u6D4B\u8BD5</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## curl localhost:3344</span>
<span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>Welcome to nginx<span class="token operator">!</span><span class="token operator">&lt;</span>/title<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>
html <span class="token punctuation">{</span> color-scheme: light dark<span class="token punctuation">;</span> <span class="token punctuation">}</span>
body <span class="token punctuation">{</span> width: 35em<span class="token punctuation">;</span> margin: <span class="token number">0</span> auto<span class="token punctuation">;</span>
font-family: Tahoma, Verdana, Arial, sans-serif<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token operator">&lt;</span>/style<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/head<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>h<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>Welcome to nginx<span class="token operator">!</span><span class="token operator">&lt;</span>/h<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>
<span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>If you see this page, the nginx web server is successfully installed and
working. Further configuration is required.<span class="token operator">&lt;</span>/p<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>For online documentation and support please refer to
<span class="token operator">&lt;</span>a <span class="token assign-left variable">href</span><span class="token operator">=</span><span class="token string">&quot;http://nginx.org/&quot;</span><span class="token operator">&gt;</span>nginx.org<span class="token operator">&lt;</span>/a<span class="token operator">&gt;</span>.<span class="token operator">&lt;</span>br/<span class="token operator">&gt;</span>
Commercial support is available at
<span class="token operator">&lt;</span>a <span class="token assign-left variable">href</span><span class="token operator">=</span><span class="token string">&quot;http://nginx.com/&quot;</span><span class="token operator">&gt;</span>nginx.com<span class="token operator">&lt;</span>/a<span class="token operator">&gt;</span>.<span class="token operator">&lt;</span>/p<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token operator">&lt;</span>em<span class="token operator">&gt;</span>Thank you <span class="token keyword">for</span> using nginx.<span class="token operator">&lt;</span>/em<span class="token operator">&gt;</span><span class="token operator">&lt;</span>/p<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/html<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u901A\u8FC7\u6D4F\u89C8\u5668\u8BBF\u95EE</p><p><img src="`+q+`" alt=""></p><p>\u6211\u4EEC\u4E5F\u53EF\u4EE5\u8FDB\u5165nginx\u5BB9\u5668\u67E5\u770B</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>nginx:<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker exec -it nginx01 /bin/bash</span>
root@aa575c8844dd:/<span class="token comment">## whereis nginx</span>
nginx: /usr/sbin/nginx /usr/lib/nginx /etc/nginx /usr/share/nginx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u601D\u8003\u95EE\u9898\uFF1A\u6211\u4EEC\u6BCF\u6B21\u6539\u52A8nginx\u914D\u7F6E\u6587\u4EF6\uFF0C\u90FD\u9700\u8981\u8FDB\u5165\u5BB9\u5668\u5185\u90E8\uFF0C\u5341\u5206\u7684\u9EBB\u70E6\uFF0C\u6211\u8981\u662F\u53EF\u4EE5\u5728\u5BB9\u5668\u5916\u90E8\u63D0\u4F9B\u4E00\u4E2A\u6620\u5C04\u8DEF\u5F84\uFF0C\u8FBE\u5230\u5728\u5BB9\u5668\u5916\u90E8\u4FEE\u6539\u6587\u4EF6\uFF0C\u5BB9\u5668\u5185\u90E8\u5C31\u53EF\u4EE5\u81EA\u52A8\u4FEE\u6539</p><p>\u53EF\u4EE5\u901A\u8FC7 -v \u6570\u636E\u5377\u6280\u672F</p><h4 id="docker\u5B89\u88C5tomcat"><a class="header-anchor" href="#docker\u5B89\u88C5tomcat" aria-hidden="true">#</a> Docker\u5B89\u88C5Tomcat</h4><p>docker run \u5982\u679C\u5728\u672C\u5730\u627E\u4E0D\u5230\u8BE5\u955C\u50CF\u7684\u8BDD\uFF0C\u5C31\u4F1A\u4ECE\u8FDC\u7A0B\u4ED3\u5E93\u4E2D\u4E0B\u8F7D</p><ol><li>\u4E0B\u8F7D</li></ol><p>\u5B98\u65B9\u7684\u4F7F\u7528\uFF1A<code>docker run -it --rm tomcat:9.0</code></p><p>\u6211\u4EEC\u4E4B\u524D\u7684\u542F\u52A8\u90FD\u662F\u540E\u53F0\u542F\u52A8\uFF0C\u505C\u6B62\u4E86\u5BB9\u5668\u4E4B\u540E\uFF0C\u5BB9\u5668\u8FD8\u662F\u53EF\u4EE5\u67E5\u5230\uFF0C<code>docker run -it --rm</code>\u8FD9\u79CD\u65B9\u5F0F\u4E00\u822C\u7528\u6765\u6D4B\u8BD5\uFF0C\u7528\u5B8C\u5373\u5220\u9664</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker pull tomcat:9.0</span>
<span class="token number">9.0</span>: Pulling from library/tomcat
Digest: sha256:db8ac6f67c9865d634dc767ea3c3726beb7ca58998f4295b3bab8eee1410b58c
Status: Image is up to <span class="token function">date</span> <span class="token keyword">for</span> tomcat:9.0
docker.io/library/tomcat:9.0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>\u542F\u52A8\u8FD0\u884C</li></ol><p>\u672C\u5730\u90FD\u6709\u4E86\uFF0C\u8FD8\u8981\u53BB\u4E0B\u8F7D\uFF0C\u6CA1\u6709\u6307\u660E\u7248\u672C\u53F7</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker run -d -p 3355:8080 --name tomcat01 tomcat</span>
Unable to <span class="token function">find</span> image <span class="token string">&#39;tomcat:latest&#39;</span> locally
latest: Pulling from library/tomcat
647acf3d48c2: Already exists
b02967ef0034: Already exists
e1ad2231829e: Already exists
5576ce26bf1d: Already exists
26518d6c686a: Already exists
cdb1f4e0dbfd: Already exists
1d872b5136cc: Already exists
0b9db4d94c97: Already exists
03ee64d25ffd: Pull complete
45a601314df9: Pull complete
Digest: sha256:93ff3bc7fb766a9bb5bb0d1f925f9d8795594d87e8365164908ddddcdaa75ff4
Status: Downloaded newer image <span class="token keyword">for</span> tomcat:latest
85cf11058d2abb2a0b15977fb1c8df74bbb671114b92ac73974326fb720b9788
<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker ps</span>
CONTAINER ID   IMAGE     COMMAND             CREATED          STATUS         PORTS                                       NAMES
85cf11058d2a   tomcat    <span class="token string">&quot;catalina.sh run&quot;</span>   <span class="token number">10</span> seconds ago   Up <span class="token number">9</span> seconds   <span class="token number">0.0</span>.0.0:3355-<span class="token operator">&gt;</span><span class="token number">8080</span>/tcp, :::3355-<span class="token operator">&gt;</span><span class="token number">8080</span>/tcp   tomcat01
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>\u6D4B\u8BD5\u8BBF\u95EE\u6CA1\u6709\u95EE\u9898</li></ol><p><img src="`+x+`" alt=""></p><p>\u4F46\u662F\u4E3A\u4EC0\u4E48\u6CA1\u6709\u663E\u793A\u4E3B\u9875\u5462\uFF1F</p><p>\u5B98\u65B9\u7684\u955C\u50CF\u662F\u4E00\u4E2A\u9609\u5272\u7248\u7684\uFF0C\u8FDB\u5165\u5BB9\u5668\u4E4B\u540E\uFF0C\u67E5\u770Bwebapps\u4E2D\u662F\u7A7A\u7684</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker exec -it tomcat01 /bin/bash</span>
root@85cf11058d2a:/usr/local/tomcat<span class="token comment">## ls</span>
BUILDING.txt	 LICENSE  README.md	 RUNNING.txt  conf  logs	    temp     webapps.dist
CONTRIBUTING.md  NOTICE   RELEASE-NOTES  bin	      lib   native-jni-lib  webapps  work
root@85cf11058d2a:/usr/local/tomcat<span class="token comment">## ls -al</span>
total <span class="token number">132</span>
drwxr-xr-x. <span class="token number">1</span> root root    <span class="token number">30</span> Nov <span class="token number">18</span> <span class="token number">14</span>:49 <span class="token builtin class-name">.</span>
drwxr-xr-x. <span class="token number">1</span> root root    <span class="token number">20</span> Nov <span class="token number">18</span> <span class="token number">14</span>:43 <span class="token punctuation">..</span>
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">18994</span> Nov  <span class="token number">9</span> <span class="token number">22</span>:12 BUILDING.txt
-rw-r--r--. <span class="token number">1</span> root root  <span class="token number">6210</span> Nov  <span class="token number">9</span> <span class="token number">22</span>:12 CONTRIBUTING.md
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">60269</span> Nov  <span class="token number">9</span> <span class="token number">22</span>:12 LICENSE
-rw-r--r--. <span class="token number">1</span> root root  <span class="token number">2333</span> Nov  <span class="token number">9</span> <span class="token number">22</span>:12 NOTICE
-rw-r--r--. <span class="token number">1</span> root root  <span class="token number">3372</span> Nov  <span class="token number">9</span> <span class="token number">22</span>:12 README.md
-rw-r--r--. <span class="token number">1</span> root root  <span class="token number">6905</span> Nov  <span class="token number">9</span> <span class="token number">22</span>:12 RELEASE-NOTES
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">16517</span> Nov  <span class="token number">9</span> <span class="token number">22</span>:12 RUNNING.txt
drwxr-xr-x. <span class="token number">2</span> root root  <span class="token number">4096</span> Nov <span class="token number">18</span> <span class="token number">14</span>:49 bin
drwxr-xr-x. <span class="token number">1</span> root root    <span class="token number">22</span> Nov <span class="token number">30</span> <span class="token number">11</span>:18 conf
drwxr-xr-x. <span class="token number">2</span> root root  <span class="token number">4096</span> Nov <span class="token number">18</span> <span class="token number">14</span>:49 lib
drwxrwxrwx. <span class="token number">1</span> root root    <span class="token number">80</span> Nov <span class="token number">30</span> <span class="token number">11</span>:18 logs
drwxr-xr-x. <span class="token number">2</span> root root   <span class="token number">159</span> Nov <span class="token number">18</span> <span class="token number">14</span>:49 native-jni-lib
drwxrwxrwx. <span class="token number">2</span> root root    <span class="token number">30</span> Nov <span class="token number">18</span> <span class="token number">14</span>:49 temp
drwxr-xr-x. <span class="token number">2</span> root root     <span class="token number">6</span> Nov <span class="token number">18</span> <span class="token number">14</span>:49 webapps
drwxr-xr-x. <span class="token number">7</span> root root    <span class="token number">81</span> Nov  <span class="token number">9</span> <span class="token number">22</span>:12 webapps.dist
drwxrwxrwx. <span class="token number">2</span> root root     <span class="token number">6</span> Nov  <span class="token number">9</span> <span class="token number">22</span>:12 work
root@85cf11058d2a:/usr/local/tomcat<span class="token comment">## cd webapps</span>
root@85cf11058d2a:/usr/local/tomcat/webapps<span class="token comment">## ls -al</span>
total <span class="token number">0</span>
drwxr-xr-x. <span class="token number">2</span> root root  <span class="token number">6</span> Nov <span class="token number">18</span> <span class="token number">14</span>:49 <span class="token builtin class-name">.</span>
drwxr-xr-x. <span class="token number">1</span> root root <span class="token number">30</span> Nov <span class="token number">18</span> <span class="token number">14</span>:49 <span class="token punctuation">..</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u53D1\u73B0\u95EE\u9898\uFF1A</p><ul><li>Linux\u547D\u4EE4\u662F\u9609\u5272\u7684</li><li>tomcat webapps\u662F\u7A7A\u7684\uFF0C\u4E5F\u5C31\u662F\u9609\u5272\u7684</li></ul><p>\u539F\u56E0\uFF1A\u963F\u91CC\u4E91\u955C\u50CF\uFF0C\u9ED8\u8BA4\u662F\u6700\u5C0F\u7684\u955C\u50CF\uFF0C\u6240\u6709\u7684\u4E0D\u5FC5\u8981\u7684\u90FD\u5254\u9664\u4E86\u3002\u53EA\u8981\u4FDD\u8BC1\u6700\u5C0F\u7684\u53EF\u8FD0\u884C\u7684\u73AF\u5883</p><p>\u5176\u5B9E\u4ED6\u8FD9Tomact\u9ED8\u8BA4\u7684\u7F51\u7AD9\u9879\u76EE\u5B58\u50A8\u5728webapps.dist\u76EE\u5F55\u4E0B</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>root@85cf11058d2a:/usr/local/tomcat<span class="token comment">## ls -la</span>
total <span class="token number">132</span>
drwxr-xr-x. <span class="token number">1</span> root root    <span class="token number">30</span> Nov <span class="token number">18</span> <span class="token number">14</span>:49 <span class="token builtin class-name">.</span>
drwxr-xr-x. <span class="token number">1</span> root root    <span class="token number">20</span> Nov <span class="token number">18</span> <span class="token number">14</span>:43 <span class="token punctuation">..</span>
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">18994</span> Nov  <span class="token number">9</span> <span class="token number">22</span>:12 BUILDING.txt
-rw-r--r--. <span class="token number">1</span> root root  <span class="token number">6210</span> Nov  <span class="token number">9</span> <span class="token number">22</span>:12 CONTRIBUTING.md
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">60269</span> Nov  <span class="token number">9</span> <span class="token number">22</span>:12 LICENSE
-rw-r--r--. <span class="token number">1</span> root root  <span class="token number">2333</span> Nov  <span class="token number">9</span> <span class="token number">22</span>:12 NOTICE
-rw-r--r--. <span class="token number">1</span> root root  <span class="token number">3372</span> Nov  <span class="token number">9</span> <span class="token number">22</span>:12 README.md
-rw-r--r--. <span class="token number">1</span> root root  <span class="token number">6905</span> Nov  <span class="token number">9</span> <span class="token number">22</span>:12 RELEASE-NOTES
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">16517</span> Nov  <span class="token number">9</span> <span class="token number">22</span>:12 RUNNING.txt
drwxr-xr-x. <span class="token number">2</span> root root  <span class="token number">4096</span> Nov <span class="token number">18</span> <span class="token number">14</span>:49 bin
drwxr-xr-x. <span class="token number">1</span> root root    <span class="token number">22</span> Nov <span class="token number">30</span> <span class="token number">11</span>:18 conf
drwxr-xr-x. <span class="token number">2</span> root root  <span class="token number">4096</span> Nov <span class="token number">18</span> <span class="token number">14</span>:49 lib
drwxrwxrwx. <span class="token number">1</span> root root    <span class="token number">80</span> Nov <span class="token number">30</span> <span class="token number">11</span>:18 logs
drwxr-xr-x. <span class="token number">2</span> root root   <span class="token number">159</span> Nov <span class="token number">18</span> <span class="token number">14</span>:49 native-jni-lib
drwxrwxrwx. <span class="token number">2</span> root root    <span class="token number">30</span> Nov <span class="token number">18</span> <span class="token number">14</span>:49 temp
drwxr-xr-x. <span class="token number">2</span> root root     <span class="token number">6</span> Nov <span class="token number">18</span> <span class="token number">14</span>:49 webapps
drwxr-xr-x. <span class="token number">7</span> root root    <span class="token number">81</span> Nov  <span class="token number">9</span> <span class="token number">22</span>:12 webapps.dist
drwxrwxrwx. <span class="token number">2</span> root root     <span class="token number">6</span> Nov  <span class="token number">9</span> <span class="token number">22</span>:12 work
root@85cf11058d2a:/usr/local/tomcat<span class="token comment">## cd webapps.dist/</span>
root@85cf11058d2a:/usr/local/tomcat/webapps.dist<span class="token comment">## ls la</span>
ls: cannot access <span class="token string">&#39;la&#39;</span><span class="token builtin class-name">:</span> No such <span class="token function">file</span> or directory
root@85cf11058d2a:/usr/local/tomcat/webapps.dist<span class="token comment">## ls -la</span>
total <span class="token number">4</span>
drwxr-xr-x.  <span class="token number">7</span> root root   <span class="token number">81</span> Nov  <span class="token number">9</span> <span class="token number">22</span>:12 <span class="token builtin class-name">.</span>
drwxr-xr-x.  <span class="token number">1</span> root root   <span class="token number">30</span> Nov <span class="token number">18</span> <span class="token number">14</span>:49 <span class="token punctuation">..</span>
drwxr-xr-x.  <span class="token number">3</span> root root  <span class="token number">223</span> Nov <span class="token number">18</span> <span class="token number">14</span>:49 ROOT
drwxr-xr-x. <span class="token number">15</span> root root <span class="token number">4096</span> Nov <span class="token number">18</span> <span class="token number">14</span>:49 docs
drwxr-xr-x.  <span class="token number">7</span> root root   <span class="token number">99</span> Nov <span class="token number">18</span> <span class="token number">14</span>:49 examples
drwxr-xr-x.  <span class="token number">6</span> root root   <span class="token number">79</span> Nov <span class="token number">18</span> <span class="token number">14</span>:49 host-manager
drwxr-xr-x.  <span class="token number">6</span> root root  <span class="token number">114</span> Nov <span class="token number">18</span> <span class="token number">14</span>:49 manager
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6211\u4EEC\u53EF\u4EE5\u5C06\u9879\u76EE\u590D\u5236\u5230webapps\u4E2D\uFF0C\u6216\u8005\u5C06webapps.dist\u6539\u4E3Awebapps</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>root@85cf11058d2a:/usr/local/tomcat<span class="token comment">## cp -r webapps.dist/* webapps/</span>
root@85cf11058d2a:/usr/local/tomcat<span class="token comment">## cd webapps</span>
root@85cf11058d2a:/usr/local/tomcat/webapps<span class="token comment">## ls -al</span>
total <span class="token number">4</span>
drwxr-xr-x.  <span class="token number">1</span> root root   <span class="token number">81</span> Nov <span class="token number">30</span> <span class="token number">11</span>:29 <span class="token builtin class-name">.</span>
drwxr-xr-x.  <span class="token number">1</span> root root   <span class="token number">57</span> Nov <span class="token number">18</span> <span class="token number">14</span>:49 <span class="token punctuation">..</span>
drwxr-xr-x.  <span class="token number">3</span> root root  <span class="token number">223</span> Nov <span class="token number">30</span> <span class="token number">11</span>:29 ROOT
drwxr-xr-x. <span class="token number">15</span> root root <span class="token number">4096</span> Nov <span class="token number">30</span> <span class="token number">11</span>:29 docs
drwxr-xr-x.  <span class="token number">7</span> root root   <span class="token number">99</span> Nov <span class="token number">30</span> <span class="token number">11</span>:29 examples
drwxr-xr-x.  <span class="token number">6</span> root root   <span class="token number">79</span> Nov <span class="token number">30</span> <span class="token number">11</span>:29 host-manager
drwxr-xr-x.  <span class="token number">6</span> root root  <span class="token number">114</span> Nov <span class="token number">30</span> <span class="token number">11</span>:29 manager
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+y+`" alt=""></p><p>\u601D\u8003\u95EE\u9898\uFF1A\u6211\u4EEC\u6BCF\u6B21\u6539\u52A8nginx\u914D\u7F6E\u6587\u4EF6\uFF0C\u90FD\u9700\u8981\u8FDB\u5165\u5BB9\u5668\u5185\u90E8\uFF0C\u5341\u5206\u7684\u9EBB\u70E6\uFF0C\u6211\u8981\u662F\u53EF\u4EE5\u5728\u5BB9\u5668\u5916\u90E8\u63D0\u4F9B\u4E00\u4E2A\u6620\u5C04\u8DEF\u5F84\uFF0C\u8FBE\u5230\u5728\u5BB9\u5668\u5916\u90E8\u4FEE\u6539\u6587\u4EF6\uFF0C\u5BB9\u5668\u5185\u90E8\u5C31\u53EF\u4EE5\u81EA\u52A8\u4FEE\u6539</p><p>\u6211\u4EEC\u5728\u5916\u90E8\u653E\u7F6E\u9879\u76EE\uFF0C\u6BD4\u5982\u5728webapps\u76EE\u5F55\u4E0B\uFF0C\u5C31\u81EA\u52A8\u540C\u6B65\u5230\u5BB9\u5668\u5185\u90E8\u5C31\u597D\u4E86</p><p>\u53EF\u4EE5\u901A\u8FC7 -v \u6570\u636E\u5377\u6280\u672F</p><p>docker\u5BB9\u5668=tomcat+\u7F51\u7AD9\uFF0C\u73B0\u5728\u5C31\u662F\u5982\u679C\u5220\u9664\u4E86docker\u5BB9\u5668\u4E4B\u540E\uFF0C\u5C31\u4F1A\u5220\u9664tomcat\u548C\u7F51\u7AD9</p><p>\u4EE5\u524DMySQL\u7684\u8BDD\uFF0C\u662F\u88C5\u5728Linux\u4E2D\uFF0C\u73B0\u5728\u5982\u679C\u8981\u5B89\u88C5MySQL\u662F\u88C5\u5230Docker\u4E2D\uFF0C\u5982\u679C\u4E00\u4E0D\u5C0F\u5FC3\u628A\u5BB9\u5668\u5220\u9664\uFF0C\u6570\u636E\u5C31\u6CA1\u6709\uFF0C\u5F88\u4E0D\u5B89\u5168\uFF0C\u4E4B\u540E\u4F1A\u89E3\u51B3\u3002</p><h4 id="\u90E8\u7F72es-kabana"><a class="header-anchor" href="#\u90E8\u7F72es-kabana" aria-hidden="true">#</a> \u90E8\u7F72es+kabana</h4><p>es \u66B4\u9732\u7684\u7AEF\u53E3\u5F88\u591A\uFF0C\u800C\u4E14es\u5341\u5206\u7684\u6D88\u8017\u5185\u5B58\uFF0Ces\u7684\u6570\u636E\u4E00\u822C\u9700\u8981\u653E\u7F6E\u5230\u5B89\u5168\u76EE\u5F55\uFF0C\u5373\u6302\u8F7D</p><ol><li>docker hub\u641C\u7D22 elasticsearch \u4E0B\u8F7D\u542F\u52A8</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> run -d --name elasticsearch --net somenetwork -p <span class="token number">9200</span>:9200 -p <span class="token number">9300</span>:9300 -e <span class="token string">&quot;discovery.type=single-node&quot;</span> elasticsearch:tag

<span class="token comment">##  --net somenetwork \u7F51\u7EDC\u914D\u7F6E\uFF0C\u6211\u4EEC\u8FD9\u91CC\u5148\u4E0D\u4F7F\u7528\u5373</span>
<span class="token comment">## \u4F7F\u7528\u7248\u672C 7.6.2</span>
<span class="token function">docker</span> run -d --name elasticsearch -p <span class="token number">9200</span>:9200 -p <span class="token number">9300</span>:9300 -e <span class="token string">&quot;discovery.type=single-node&quot;</span> elasticsearch:7.6.2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u542F\u52A8\u4E4B\u540E\uFF0Clinux\u5C31\u5361\u4F4F\u4E86\uFF0Celasticsearch\u592A\u6D88\u8017\u5185\u5B58\u4E86</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker ps</span>
CONTAINER ID   IMAGE                 COMMAND                  CREATED          STATUS          PORTS                                                                                  NAMES
6fa5c451240f   elasticsearch:7.6.2   <span class="token string">&quot;/usr/local/bin/dock\u2026&quot;</span>   <span class="token number">22</span> seconds ago   Up <span class="token number">21</span> seconds   <span class="token number">0.0</span>.0.0:9200-<span class="token operator">&gt;</span><span class="token number">9200</span>/tcp, :::9200-<span class="token operator">&gt;</span><span class="token number">9200</span>/tcp, <span class="token number">0.0</span>.0.0:9300-<span class="token operator">&gt;</span><span class="token number">9300</span>/tcp, :::9300-<span class="token operator">&gt;</span><span class="token number">9300</span>/tcp   elasticsearch
<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker stats</span>
CONTAINER ID   NAME            CPU %     MEM USAGE / LIMIT     MEM %     NET I/O     BLOCK I/O        PIDS
6fa5c451240f   elasticsearch   <span class="token number">0.29</span>%     <span class="token number">612</span>.7MiB / <span class="token number">972</span>.4MiB   <span class="token number">63.01</span>%    656B / 0B   <span class="token number">2</span>.66GB / 364MB   <span class="token number">43</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>\u6D4B\u8BD5es\u662F\u5426\u6210\u529F\u4E86</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## curl localhost:9200</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;name&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;6fa5c451240f&quot;</span>,
  <span class="token string">&quot;cluster_name&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;docker-cluster&quot;</span>,
  <span class="token string">&quot;cluster_uuid&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;OJ-1vGJ6TzOI3AcXJY-NaQ&quot;</span>,
  <span class="token string">&quot;version&quot;</span> <span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;number&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;7.6.2&quot;</span>,
    <span class="token string">&quot;build_flavor&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;default&quot;</span>,
    <span class="token string">&quot;build_type&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;docker&quot;</span>,
    <span class="token string">&quot;build_hash&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;ef48eb35cf30adf4db14086e8aabd07ef6fb113f&quot;</span>,
    <span class="token string">&quot;build_date&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;2020-03-26T06:34:37.794943Z&quot;</span>,
    <span class="token string">&quot;build_snapshot&quot;</span> <span class="token builtin class-name">:</span> false,
    <span class="token string">&quot;lucene_version&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;8.4.0&quot;</span>,
    <span class="token string">&quot;minimum_wire_compatibility_version&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;6.8.0&quot;</span>,
    <span class="token string">&quot;minimum_index_compatibility_version&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;6.0.0-beta1&quot;</span>
  <span class="token punctuation">}</span>,
  <span class="token string">&quot;tagline&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;You Know, for Search&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>\u56E0\u4E3Aes\u975E\u5E38\u7684\u6D88\u8017\u5185\u5B58\uFF0C\u4E3A\u6B64\u6211\u4EEC\u53EF\u4EE5\u9650\u5236\u4E00\u4E0Bes\u7684\u5185\u5B58\u5360\u7528</li></ol><p>\u53EF\u4EE5\u901A\u8FC7\u4FEE\u6539\u914D\u7F6E\u6587\u4EF6\uFF0C\u6216\u8005-e \u53C2\u6570\u73AF\u5883\u914D\u7F6E\u4FEE\u6539</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> run -d --name elasticsearch -p <span class="token number">9200</span>:9200 -p <span class="token number">9300</span>:9300 -e <span class="token string">&quot;discovery.type=single-node&quot;</span> -e <span class="token assign-left variable">ES_JAVA_OPS</span><span class="token operator">=</span><span class="token string">&quot;-Xms64m -Xmx512m&quot;</span> elasticsearch:7.6.2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>-e ES_JAVA_OPS=&quot;-Xms64m -Xmx512m&quot;</code>\u8FD9\u4E9B\u53C2\u6570\u6839\u636E\u81EA\u5DF1\u7684\u73AF\u5883\u4FEE\u6539</p><p>\u4F5C\u4E1A\uFF1A\u4F7F\u7528kabana\u8FDE\u63A5es</p><p><img src="`+w+'" alt=""></p><h2 id="\u955C\u50CF"><a class="header-anchor" href="#\u955C\u50CF" aria-hidden="true">#</a> \u955C\u50CF</h2><h3 id="\u955C\u50CF\u662F\u4EC0\u4E48"><a class="header-anchor" href="#\u955C\u50CF\u662F\u4EC0\u4E48" aria-hidden="true">#</a> \u955C\u50CF\u662F\u4EC0\u4E48</h3><p>\u955C\u50CF\u662F\u4E00\u79CD\u8F7B\u91CF\u7EA7\u3001\u53EF\u6267\u884C\u7684\u72EC\u7ACB\u8F6F\u4EF6\u5305\uFF0C\u7528\u6765\u6253\u5305\u8F6F\u4EF6\u8FD0\u884C\u73AF\u5883\u548C\u57FA\u4E8E\u8FD0\u884C\u73AF\u5883\u5F00\u53D1\u7684\u8F6F\u4EF6\uFF0C\u5B83\u5305\u542B\u4E86\u8FD0\u884C\u67D0\u4E2A\u8F6F\u4EF6\u6240\u9700\u7684\u6240\u6709\u5185\u5BB9\uFF0C\u5305\u62EC\u4EE3\u7801\u3001\u8FD0\u884C\u65F6\u3001\u5E93\u3001\u73AF\u5883\u53D8\u91CF\u548C\u914D\u7F6E\u6587\u4EF6</p><p>\u6240\u6709\u7684\u5E94\u7528\uFF0C\u76F4\u63A5\u6253\u5305\u6210\u4E3ADocker\u955C\u50CF\uFF0C\u5C31\u53EF\u4EE5\u76F4\u63A5\u90E8\u7F72\u8FD0\u884C</p><p>\u5982\u4F55\u5F97\u5230\u955C\u50CF\u5462\uFF1F</p><ul><li>\u4ECE\u8FDC\u7A0B\u4ED3\u5E93\u4E0B\u8F7D</li><li>\u670B\u53CB\u62F7\u8D1D\u7ED9\u4F60</li><li>\u81EA\u5DF1\u5236\u4F5C\u4E00\u4E2A\u955C\u50CFDockerfile</li></ul><h3 id="docker\u955C\u50CF\u52A0\u8F7D\u539F\u7406"><a class="header-anchor" href="#docker\u955C\u50CF\u52A0\u8F7D\u539F\u7406" aria-hidden="true">#</a> Docker\u955C\u50CF\u52A0\u8F7D\u539F\u7406</h3><h4 id="unionfs-\u8054\u5408\u6587\u4EF6\u7CFB\u7EDF"><a class="header-anchor" href="#unionfs-\u8054\u5408\u6587\u4EF6\u7CFB\u7EDF" aria-hidden="true">#</a> UnionFS\uFF08\u8054\u5408\u6587\u4EF6\u7CFB\u7EDF\uFF09</h4><p>\u6211\u4EEC\u5728docker pull \u4E0B\u8F7D\u7684\u65F6\u5019\u5C31\u662F\u8054\u5408\u6587\u4EF6\u7CFB\u7EDF</p><p>UnionFS\uFF08\u8054\u5408\u6587\u4EF6\u7CFB\u7EDF\uFF09\uFF1AUnion\u6587\u4EF6\u7CFB\u7EDF\uFF08UnionFS\uFF09\u662F\u4E00\u79CD\u5206\u5C42\u3001\u8F7B\u91CF\u7EA7\u5E76\u4E14\u9AD8\u6027\u80FD\u7684\u6587\u4EF6\u7CFB\u7EDF\uFF0C\u5B83\u652F\u6301\u5BF9\u6587\u4EF6\u7CFB\u7EDF\u7684\u4FEE\u6539\u4F5C\u4E3A\u4E00\u6B21\u63D0\u4EA4\u6765\u4E00\u5C42\u5C42\u7684\u53E0\u52A0\uFF0C\u540C\u65F6\u53EF\u4EE5\u5C06\u4E0D\u540C\u7684\u76EE\u5F55\u6302\u8F7D\u5230\u540C\u4E00\u4E2A\u865A\u62DF\u6587\u4EF6\u7CFB\u7EDF\u4E0B\uFF08unite several directories into a single virtual filesystem\uFF09\u3002Union\u6587\u4EF6\u7CFB\u7EDF\u662FDocker\u955C\u50CF\u7684\u57FA\u7840\uFF0C\u955C\u50CF\u53EF\u4EE5\u901A\u8FC7\u5206\u5C42\u6765\u8FDB\u884C\u7EE7\u627F\uFF0C\u57FA\u4E8E\u57FA\u7840\u955C\u50CF\uFF08\u6CA1\u6709\u7236\u955C\u50CF\uFF09\uFF0C\u53EF\u4EE5\u5236\u4F5C\u5404\u79CD\u5177\u4F53\u7684\u5E94\u7528\u955C\u50CF</p><p>\u7279\u6027\uFF1A\u4E00\u6B21\u540C\u65F6\u52A0\u8F7D\u591A\u4E2A\u6587\u4EF6\u7CFB\u7EDF\uFF0C\u4F46\u662F\u4ECE\u5916\u9762\u770B\u8D77\u6765\uFF0C\u53EA\u80FD\u770B\u5230\u4E00\u4E2A\u6587\u4EF6\u7CFB\u7EDF\uFF0C\u8054\u5408\u52A0\u8F7D\u4F1A\u628A\u5404\u5C42\u6587\u4EF6\u7CFB\u7EDF\u53E0\u52A0\u8D77\u6765\uFF0C\u8FD9\u6837\u6700\u7EC8\u7684\u6587\u4EF6\u7CFB\u7EDF\u4F1A\u5305\u542B\u5E95\u5C42\u7684\u6587\u4EF6\u548C\u76EE\u5F55</p><h4 id="docker\u955C\u50CF\u52A0\u8F7D\u539F\u7406-1"><a class="header-anchor" href="#docker\u955C\u50CF\u52A0\u8F7D\u539F\u7406-1" aria-hidden="true">#</a> Docker\u955C\u50CF\u52A0\u8F7D\u539F\u7406</h4><p>Docker\u7684\u955C\u50CF\u5B9E\u9645\u4E0A\u662F\u7531\u4E00\u5C42\u4E00\u5C42\u7684\u6587\u4EF6\u7CFB\u7EDF\u7EC4\u6210\u7684\uFF0C\u8FD9\u79CD\u5C42\u7EA7\u7684\u6587\u4EF6\u7CFB\u7EDFUnionFS</p><p>bootfs(boot file system)\u4E3B\u8981\u5305\u542Bbootloader\u548Ckernal\uFF0Cbootloader\u4E3B\u8981\u662F\u5F15\u5BFC\u52A0\u8F7Dkernel\uFF0CLinux\u521A\u542F\u52A8\u65F6\u4F1A\u52A0\u8F7Dbootfs\u6587\u4EF6\u7CFB\u7EDF\uFF0C\u5728Docker\u955C\u50CF\u7684\u6700\u5E95\u5C42\u662Fbootfs\u3002\u8FD9\u4E00\u5C42\u4E0E\u6211\u4EEC\u5178\u578B\u7684Linux/Unix\u7CFB\u7EDF\u662F\u4E00\u6837\u7684\uFF0C\u5305\u542Bboot\u52A0\u8F7D\u5668\u548C\u5185\u6838\u3002\u5F53boot\u52A0\u8F7D\u5B8C\u6210\u4E4B\u540E\u6574\u4E2A\u5185\u6838\u5C31\u90FD\u5728\u5185\u5B58\u4E2D\u4E86\uFF0C\u6B64\u65F6\u5185\u5B58\u7684\u4F7F\u7528\u6743\u5DF2\u7ECF\u7531bootfs\u8F6C\u4EA4\u7ED9\u5185\u6838\uFF0C\u6B64\u65F6\u7CFB\u7EDF\u4E5F\u4F1A\u5378\u8F7Dbootfs</p><p>\u9ED1\u5C4F--\u5F00\u673A\u8FDB\u5165\u7CFB\u7EDF\u7684\u8FC7\u7A0B\u53EB\u505A\u52A0\u8F7D\uFF0C\u8FD9\u4E00\u90E8\u5206\u662F\u516C\u7528\u7684</p><p>rootfs(root file system)\uFF0C\u5728bootfs\u4E4B\u4E0A\uFF0C\u5305\u542B\u5178\u578BLinux\u7CFB\u7EDF\u4E2D\u7684/dev\uFF0C/proc\uFF0C/bin\uFF0C/etc\u7B49\u6807\u51C6\u76EE\u5F55\u548C\u6587\u4EF6\u3002rootfs\u5C31\u662F\u5404\u79CD\u4E0D\u540C\u7684\u64CD\u4F5C\u7CFB\u7EDF\u53D1\u884C\u7248\uFF0C\u6BD4\u5982Ubuntu\u3001Centos\u7B49\u7B49</p><p><img src="'+_+'" alt=""></p><p>\u5E73\u65F6\u6211\u4EEC\u5B89\u88C5\u8FDB\u865A\u62DF\u673A\u7684centos\u90FD\u662F\u597D\u51E0G\u7684\uFF0C\u4E3A\u4EC0\u4E48Docker\u8FD9\u91CC\u7684centos\u624D200M\u5462\uFF1F</p><p><img src="'+D+'" alt=""></p><p>\u5BF9\u4E8E\u4E00\u4E2A\u7CBE\u7B80\u7684OS\uFF0Crootfs\u53EF\u4EE5\u5F88\u5C0F\uFF0C\u53EA\u9700\u8981\u5305\u542B\u6700\u57FA\u672C\u7684\u547D\u4EE4\uFF0C\u5DE5\u5177\u548C\u7A0B\u5E8F\u5E93\u5C31\u53EF\u4EE5\u4E86\uFF0C\u56E0\u4E3A\u5E95\u5C42\u76F4\u63A5\u7528Host\uFF08\u4E3B\u673A\uFF09\u7684kernel\uFF0C\u81EA\u5DF1\u9700\u8981\u63D0\u4F9Brootfs\u5C31\u53EF\u4EE5\u4E86\uFF0C\u7531\u6B64\u53EF\u89C1\u5BF9\u4E8E\u4E0D\u540C\u7684Linux\u53D1\u884C\u7248\uFF0Cbootfs\u57FA\u672C\u4E00\u81F4\u7684\uFF0Crootfs\u4F1A\u6709\u5DEE\u522B\uFF0C\u56E0\u6B64\u4E0D\u540C\u7684\u53D1\u884C\u7248\u53EF\u4EE5\u5171\u7528bootfs</p><p>\u865A\u62DF\u673A\u8BD5\u5206\u949F\u7EA7\u522B\uFF0C\u5BB9\u5668\u662F\u79D2\u7EA7\u7684</p><h3 id="\u5206\u5C42\u7406\u89E3"><a class="header-anchor" href="#\u5206\u5C42\u7406\u89E3" aria-hidden="true">#</a> \u5206\u5C42\u7406\u89E3</h3><h4 id="\u5206\u5C42\u7684\u955C\u50CF"><a class="header-anchor" href="#\u5206\u5C42\u7684\u955C\u50CF" aria-hidden="true">#</a> \u5206\u5C42\u7684\u955C\u50CF</h4><p>\u6211\u4EEC\u53EF\u4EE5\u53BB\u4E0B\u8F7D\u4E00\u4E2A\u955C\u50CF\uFF0C\u6CE8\u610F\u89C2\u5BDF\u4E0B\u8F7D\u7684\u65E5\u5FD7\u8F93\u51FA\uFF0C\u53EF\u4EE5\u770B\u5230\u4E00\u5C42\u4E00\u5C42\u7684\u5728\u4E0B\u8F7D</p><p><img src="'+N+`" alt=""></p><p>\u601D\u8003\uFF1A\u4E3A\u4EC0\u4E48Docker\u955C\u50CF\u8981\u91C7\u7528\u8FD9\u79CD\u5206\u5C42\u7684\u7ED3\u6784\u5462\uFF1F</p><p>\u6700\u5927\u7684\u597D\u5904\uFF0C\u6211\u89C9\u5F97\u83AB\u8FC7\u4E8E\u662F\u8D44\u6E90\u5171\u4EAB\uFF0C\u6BD4\u5982\u6709\u591A\u4E2A\u955C\u50CF\u90FD\u4ECE\u76F8\u540C\u7684Base\u955C\u50CF\u6784\u5EFA\u800C\u6765\uFF0C\u90A3\u4E48\u5BBF\u4E3B\u673A\u53EA\u9700\u8981\u5728\u78C1\u76D8\u4E0A\u4FDD\u7559\u4E00\u4EFDbase\u955C\u50CF\uFF0C\u540C\u65F6\u5185\u5B58\u4E5F\u53EA\u9700\u8981\u52A0\u8F7D\u4E00\u4EFDbase\u955C\u50CF\uFF0C\u8FD9\u6837\u5C31\u53EF\u4EE5\u4E3A\u6240\u6709\u7684\u5BB9\u5668\u670D\u52A1\u4E86\uFF0C\u800C\u4E14\u955C\u50CF\u7684\u6BCF\u4E00\u5C42\u90FD\u53EF\u4EE5\u88AB\u5171\u4EAB</p><p>\u67E5\u770B\u955C\u50CF\u5206\u5C42\u7684\u65B9\u5F0F\u53EF\u4EE5\u901A\u8FC7<code>docker image inspect</code>\u547D\u4EE4</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker image inspect tomcat:latest</span>
<span class="token punctuation">[</span>
// <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>
        <span class="token string">&quot;RootFS&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;Type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;layers&quot;</span>,
            <span class="token string">&quot;Layers&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;sha256:a36ba9e322f719a0c71425bd832fc905cac3f9faedcb123c8f6aba13f7b0731b&quot;</span>,
                <span class="token string">&quot;sha256:5499f2905579e85017f919e25be9e7a50bcc30c61294f12479b289708ebb31fa&quot;</span>,
                <span class="token string">&quot;sha256:a4aba4e59b40caa040cc3ccfa42a84bbe64e3da8d1e7e0da69100c837afd215a&quot;</span>,
                <span class="token string">&quot;sha256:8a5844586fdb00f07529ad1b3eb20167ba3a176302ecccbae1fbb45620acb89f&quot;</span>,
                <span class="token string">&quot;sha256:ab9d251e27cbdd53ed6535ddabeabe3181446f5835c05e13530675308e7ae903&quot;</span>,
                <span class="token string">&quot;sha256:47ee2d19f81a629f5636916161325202d5787ee5618731ccad3d3e0bc57d5886&quot;</span>,
                <span class="token string">&quot;sha256:a9e4c93435392db432f410bf38dfdd4ac228bad27ef030eb35e6ff50ba86ee4c&quot;</span>,
                <span class="token string">&quot;sha256:b87b38d56cd33dc40c6e37b952abfb52761d3e9889dadb5f54ca1b048f245501&quot;</span>,
                <span class="token string">&quot;sha256:f2d212e4d5abdacb7ae676f9fea80989878aecaf846c5d2cad292444f3fc3a22&quot;</span>,
                <span class="token string">&quot;sha256:cf0d7f22bbdc88e524f6af5bd67c83fd7235d9a63e2ecd5bccf3317026b6fee9&quot;</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;Metadata&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;LastTagTime&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0001-01-01T00:00:00Z&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7406\u89E3\uFF1A</p><p>\u6240\u6709\u7684Docker\u955C\u50CF\u90FD\u8D77\u59CB\u4E8E\u4E00\u4E2A\u57FA\u7840\u955C\u50CF\uFF0C\u5F53\u8FDB\u884C\u4FEE\u6539\u6216\u8005\u589E\u52A0\u65B0\u7684\u5185\u5BB9\u65F6\uFF0C\u5C31\u4F1A\u5728\u5F53\u524D\u955C\u50CF\u5C42\u4E4B\u4E0A\uFF0C\u521B\u5EFA\u65B0\u7684\u955C\u50CF\u5C42</p><p>\u4E3E\u4E00\u4E2A\u7B80\u5355\u7684\u4F8B\u5B50\uFF0C\u5047\u5982\u57FA\u4E8EUbuntu Linux16.04\u521B\u5EFA\u4E00\u4E2A\u65B0\u7684\u955C\u50CF\uFF0C\u8FD9\u5C31\u662F\u65B0\u955C\u50CF\u7684\u7B2C\u4E00\u5C42\uFF1B\u5982\u679C\u5728\u8BE5\u955C\u50CF\u4E2D\u6DFB\u52A0Python\u5305\uFF0C\u5C31\u4F1A\u5728\u57FA\u7840\u955C\u50CF\u4E4B\u4E0A\u521B\u5EFA\u7B2C\u4E8C\u4E2A\u955C\u50CF\u5C42\uFF1B\u5982\u679C\u7EE7\u7EED\u6DFB\u52A0\u4E00\u4E2A\u5B89\u5168\u8865\u4E01\uFF0C\u5C31\u4F1A\u521B\u5EFA\u7B2C\u4E09\u4E2A\u955C\u50CF\u5C42</p><p>\u8BE5\u955C\u50CF\u5F53\u524D\u5DF2\u7ECF\u5305\u542B3\u4E2A\u955C\u50CF\u5C42\uFF0C\u5982\u4E0B\u56FE\u6240\u793A\uFF08\u8FD9\u53EA\u662F\u4E00\u4E2A\u7528\u4E8E\u6F14\u793A\u7684\u5F88\u7B80\u5355\u7684\u4F8B\u5B50\uFF09</p><p><img src="`+S+'" alt=""></p><p>\u5728\u6DFB\u52A0\u989D\u5916\u7684\u955C\u50CF\u5C42\u7684\u540C\u65F6\uFF0C\u955C\u50CF\u59CB\u7EC8\u4FDD\u6301\u662F\u5F53\u524D\u6240\u6709\u955C\u50CF\u7684\u7EC4\u5408\uFF0C\u7406\u89E3\u8FD9\u4E00\u70B9\u975E\u5E38\u91CD\u8981\uFF0C\u4E0B\u56FE\u4E2D\u4E3E\u4E86\u4E00\u4E2A\u7B80\u5355\u7684\u4F8B\u5B50\uFF0C\u6BCF\u4E2A\u955C\u50CF\u5C42\u5305\u542B\u4E863\u4E2A\u6587\u4EF6\uFF0C\u800C\u955C\u50CF\u5305\u542B\u4E86\u6765\u81EA\u4E24\u4E2A\u955C\u50CF\u5C42\u76846\u4E2A\u6587\u4EF6</p><p><img src="'+A+'" alt=""></p><p>\u4E0A\u56FE\u4E2D\u7684\u955C\u50CF\u5C42\u8DDF\u4E4B\u524D\u56FE\u4E2D\u7684\u7565\u6709\u533A\u522B\uFF0C\u4E3B\u8981\u76EE\u7684\u662F\u4FBF\u4E8E\u5C55\u793A\u6587\u4EF6</p><p>\u4E0B\u56FE\u5C55\u793A\u4E86\u4E00\u4E2A\u7A0D\u5FAE\u590D\u6742\u7684\u4E09\u5C42\u955C\u50CF\uFF0C\u5728\u5916\u90E8\u770B\u6765\u6574\u4F53\u955C\u50CF\u53EA\u67096\u4E2A\u6587\u4EF6\uFF0C\u8FD9\u662F\u56E0\u4E3A\u6700\u4E0A\u5C42\u4E2D\u7684\u6587\u4EF67\u662F\u6587\u4EF65\u7684\u4E00\u4E2A\u66F4\u65B0\u7248\u672C</p><p><img src="'+I+'" alt=""></p><p>\u8FD9\u79CD\u60C5\u51B5\u4E0B\uFF0C\u4E0A\u5C42\u955C\u50CF\u5C42\u4E2D\u7684\u6587\u4EF6\u8986\u76D6\u4E86\u5E95\u5C42\u955C\u50CF\u4E2D\u7684\u6587\u4EF6\uFF0C\u8FD9\u6837\u5C31\u4F7F\u5F97\u6587\u4EF6\u7684\u66F4\u65B0\u7248\u672C\u4F5C\u4E3A\u4E00\u4E2A\u65B0\u955C\u50CF\u5C42\u6DFB\u52A0\u5230\u955C\u50CF\u5F53\u4E2D</p><p>Docker\u901A\u8FC7\u5B58\u50A8\u5F15\u64CE\uFF08\u65B0\u7248\u672C\u91C7\u7528\u5FEB\u7167\u673A\u5236\uFF09\u7684\u65B9\u5F0F\u6765\u5B9E\u73B0\u955C\u50CF\u5806\u6808\uFF0C\u5E76\u4FDD\u8BC1\u591A\u955C\u50CF\u5C42\u5BF9\u5916\u5C55\u793A\u4E3A\u7EDF\u4E00\u7684\u6587\u4EF6\u7CFB\u7EDF</p><p>Linux\u4E0A\u53EF\u7528\u7684\u5B58\u50A8\u5F15\u64CE\u6709AUFS\u3001Overlay2\u3001Device Mapper\u3001Btrfs\u4EE5\u53CAZFS\u3002\u987E\u540D\u601D\u4E49\uFF0C\u6BCF\u79CD\u5B58\u50A8\u5F15\u64CE\u90FD\u57FA\u4E8ELinux\u4E2D\u5BF9\u5E94\u7684\u6587\u4EF6\u7CFB\u7EDF\u6216\u8005\u5757\u8BBE\u5907\u6280\u672F\uFF0C\u5E76\u4E14\u6BCF\u79CD\u5B58\u50A8\u5F15\u64CE\u90FD\u6709\u5176\u72EC\u7279\u7684\u6027\u80FD\u7279\u70B9</p><p>Docker\u5728windows\u4E0A\u4EC5\u652F\u6301windowfilter\u4E00\u79CD\u5B58\u50A8\u5F15\u64CE\uFF0C\u8BE5\u5F15\u64CE\u57FA\u4E8ENTFS\u6587\u4EF6\u7CFB\u7EDF\u4E4B\u4E0A\u5B9E\u73B0\u4E86\u5206\u5C42\u548CCoW</p><p>\u4E0B\u56FE\u5C55\u793A\u4E86\u4E0E\u7CFB\u7EDF\u663E\u793A\u76F8\u540C\u7684\u4E09\u5C42\u955C\u50CF\u3002\u6240\u6709\u955C\u50CF\u5C42\u5806\u53E0\u5E76\u5408\u5E76\uFF0C\u5BF9\u5916\u63D0\u4F9B\u7EDF\u4E00\u7684\u89C6\u56FE</p><p><img src="'+R+'" alt=""></p><h4 id="\u7279\u70B9"><a class="header-anchor" href="#\u7279\u70B9" aria-hidden="true">#</a> \u7279\u70B9</h4><p>Docker\u955C\u50CF\u90FD\u662F\u53EA\u8BFB\u7684\uFF0C\u5F53\u5BB9\u5668\u542F\u52A8\u65F6\uFF0C\u4E00\u4E2A\u65B0\u7684\u53EF\u5199\u5C42\u88AB\u52A0\u8F7D\u5230\u955C\u50CF\u7684\u9876\u90E8</p><p>\u8FD9\u4E00\u5C42\u5C31\u662F\u6211\u4EEC\u901A\u5E38\u8BF4\u7684\u5BB9\u5668\u5C42\uFF0C\u5BB9\u5668\u4E4B\u4E0B\u7684\u90FD\u53EB\u955C\u50CF\u5C42</p><p><img src="'+O+`" alt=""></p><h3 id="commit\u955C\u50CF"><a class="header-anchor" href="#commit\u955C\u50CF" aria-hidden="true">#</a> commit\u955C\u50CF</h3><p>docker commit \u63D0\u4EA4\u5BB9\u5668\u6210\u4E3A\u4E00\u4E2A\u65B0\u7684\u526F\u672C</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>## \u547D\u4EE4\u548Cgit\u539F\u7406\u7C7B\u4F3C
docker commit -m=&quot;\u63D0\u4EA4\u7684\u63CF\u8FF0\u4FE1\u606F&quot; -a=&quot;\u4F5C\u8005&quot; \u5BB9\u5668id \u76EE\u6807\u955C\u50CF\u540D:[tag]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4EE5Tomcat\u4E3A\u4F8B</p><ol><li>\u542F\u52A8\u9ED8\u8BA4\u7684tomcat</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker run -it -p 8080:8080 tomcat</span>
Using CATALINA_BASE:   /usr/local/tomcat
Using CATALINA_HOME:   /usr/local/tomcat
Using CATALINA_TMPDIR: /usr/local/tomcat/temp
Using JRE_HOME:        /usr/local/openjdk-11
Using CLASSPATH:       /usr/local/tomcat/bin/bootstrap.jar:/usr/local/tomcat/bin/tomcat-juli.jar
Using CATALINA_OPTS:
NOTE: Picked up JDK_JAVA_OPTIONS:  --add-opens<span class="token operator">=</span>java.base/java.lang<span class="token operator">=</span>ALL-UNNAMED --add-opens<span class="token operator">=</span>java.base/java.io<span class="token operator">=</span>ALL-UNNAMED --add-opens<span class="token operator">=</span>java.base/java.util<span class="token operator">=</span>ALL-UNNAMED --add-opens<span class="token operator">=</span>java.base/java.util.concurrent<span class="token operator">=</span>ALL-UNNAMED --add-opens<span class="token operator">=</span>java.rmi/sun.rmi.transport<span class="token operator">=</span>ALL-UNNAMED
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:40:12.292 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log Server version name:   Apache Tomcat/10.0.13
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:40:12.295 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log Server built:          Nov <span class="token number">9</span> <span class="token number">2021</span> <span class="token number">22</span>:12:58 UTC
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:40:12.295 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log Server version number: <span class="token number">10.0</span>.13.0
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:40:12.295 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Linux
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:40:12.295 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log OS Version:            <span class="token number">3.10</span>.0-1160.el7.x86_64
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:40:12.295 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log Architecture:          amd64
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:40:12.296 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log Java Home:             /usr/local/openjdk-11
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:40:12.296 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           <span class="token number">11.0</span>.13+8
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:40:12.296 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Oracle Corporation
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:40:12.296 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /usr/local/tomcat
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:40:12.296 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /usr/local/tomcat
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:40:12.328 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens<span class="token operator">=</span>java.base/java.lang<span class="token operator">=</span>ALL-UNNAMED
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:40:12.328 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens<span class="token operator">=</span>java.base/java.io<span class="token operator">=</span>ALL-UNNAMED
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:40:12.328 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens<span class="token operator">=</span>java.base/java.util<span class="token operator">=</span>ALL-UNNAMED
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:40:12.328 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens<span class="token operator">=</span>java.base/java.util.concurrent<span class="token operator">=</span>ALL-UNNAMED
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:40:12.328 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens<span class="token operator">=</span>java.rmi/sun.rmi.transport<span class="token operator">=</span>ALL-UNNAMED
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:40:12.328 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file<span class="token operator">=</span>/usr/local/tomcat/conf/logging.properties
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:40:12.329 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager<span class="token operator">=</span>org.apache.juli.ClassLoaderLogManager
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:40:12.329 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize<span class="token operator">=</span><span class="token number">2048</span>
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:40:12.329 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs<span class="token operator">=</span>org.apache.catalina.webresources
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:40:12.329 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dorg.apache.catalina.security.SecurityListener.UMASK<span class="token operator">=</span>0027
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:40:12.329 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dignore.endorsed.dirs<span class="token operator">=</span>
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:40:12.329 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base<span class="token operator">=</span>/usr/local/tomcat
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:40:12.329 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home<span class="token operator">=</span>/usr/local/tomcat
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:40:12.329 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir<span class="token operator">=</span>/usr/local/tomcat/temp
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:40:12.333 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.core.AprLifecycleListener.lifecycleEvent Loaded Apache Tomcat Native library <span class="token punctuation">[</span><span class="token number">1.2</span>.31<span class="token punctuation">]</span> using APR version <span class="token punctuation">[</span><span class="token number">1.7</span>.0<span class="token punctuation">]</span>.
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:40:12.333 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR capabilities: IPv6 <span class="token punctuation">[</span>true<span class="token punctuation">]</span>, sendfile <span class="token punctuation">[</span>true<span class="token punctuation">]</span>, accept filters <span class="token punctuation">[</span>false<span class="token punctuation">]</span>, random <span class="token punctuation">[</span>true<span class="token punctuation">]</span>, UDS <span class="token punctuation">[</span>true<span class="token punctuation">]</span>.
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:40:12.337 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.core.AprLifecycleListener.initializeSSL OpenSSL successfully initialized <span class="token punctuation">[</span>OpenSSL <span class="token number">1.1</span>.1k  <span class="token number">25</span> Mar <span class="token number">2021</span><span class="token punctuation">]</span>
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:40:12.753 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler <span class="token punctuation">[</span><span class="token string">&quot;http-nio-8080&quot;</span><span class="token punctuation">]</span>
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:40:12.778 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.Catalina.load Server initialization <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token number">669</span><span class="token punctuation">]</span> milliseconds
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:40:12.845 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.core.StandardService.startInternal Starting <span class="token function">service</span> <span class="token punctuation">[</span>Catalina<span class="token punctuation">]</span>
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:40:12.845 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: <span class="token punctuation">[</span>Apache Tomcat/10.0.13<span class="token punctuation">]</span>
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:40:12.862 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler <span class="token punctuation">[</span><span class="token string">&quot;http-nio-8080&quot;</span><span class="token punctuation">]</span>
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:40:12.879 INFO <span class="token punctuation">[</span>main<span class="token punctuation">]</span> org.apache.catalina.startup.Catalina.start Server startup <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span> milliseconds
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:41:42.884 INFO <span class="token punctuation">[</span>Catalina-utility-1<span class="token punctuation">]</span> org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory <span class="token punctuation">[</span>/usr/local/tomcat/webapps/ROOT<span class="token punctuation">]</span>
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:41:43.252 INFO <span class="token punctuation">[</span>Catalina-utility-1<span class="token punctuation">]</span> org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory <span class="token punctuation">[</span>/usr/local/tomcat/webapps/ROOT<span class="token punctuation">]</span> has finished <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token number">368</span><span class="token punctuation">]</span> ms
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:41:43.252 INFO <span class="token punctuation">[</span>Catalina-utility-1<span class="token punctuation">]</span> org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory <span class="token punctuation">[</span>/usr/local/tomcat/webapps/docs<span class="token punctuation">]</span>
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:41:43.281 INFO <span class="token punctuation">[</span>Catalina-utility-1<span class="token punctuation">]</span> org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory <span class="token punctuation">[</span>/usr/local/tomcat/webapps/docs<span class="token punctuation">]</span> has finished <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token number">29</span><span class="token punctuation">]</span> ms
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:41:43.281 INFO <span class="token punctuation">[</span>Catalina-utility-1<span class="token punctuation">]</span> org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory <span class="token punctuation">[</span>/usr/local/tomcat/webapps/examples<span class="token punctuation">]</span>
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:41:43.570 INFO <span class="token punctuation">[</span>Catalina-utility-1<span class="token punctuation">]</span> org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory <span class="token punctuation">[</span>/usr/local/tomcat/webapps/examples<span class="token punctuation">]</span> has finished <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token number">289</span><span class="token punctuation">]</span> ms
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:41:43.571 INFO <span class="token punctuation">[</span>Catalina-utility-1<span class="token punctuation">]</span> org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory <span class="token punctuation">[</span>/usr/local/tomcat/webapps/host-manager<span class="token punctuation">]</span>
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:41:43.605 INFO <span class="token punctuation">[</span>Catalina-utility-1<span class="token punctuation">]</span> org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory <span class="token punctuation">[</span>/usr/local/tomcat/webapps/host-manager<span class="token punctuation">]</span> has finished <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token number">34</span><span class="token punctuation">]</span> ms
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:41:43.605 INFO <span class="token punctuation">[</span>Catalina-utility-1<span class="token punctuation">]</span> org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory <span class="token punctuation">[</span>/usr/local/tomcat/webapps/manager<span class="token punctuation">]</span>
<span class="token number">30</span>-Nov-2021 <span class="token number">14</span>:41:43.625 INFO <span class="token punctuation">[</span>Catalina-utility-1<span class="token punctuation">]</span> org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory <span class="token punctuation">[</span>/usr/local/tomcat/webapps/manager<span class="token punctuation">]</span> has finished <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span> ms
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li><p>\u53D1\u73B0\u8FD9\u4E2A\u9ED8\u8BA4\u7684tomcat\u7684webapps\u4E0B\u662F\u6CA1\u6709\u9879\u76EE\u5E94\u7528\u7684\uFF0C\u5B98\u65B9\u7684\u955C\u50CF\u9ED8\u8BA4\u7684webapps\u4E0B\u9762\u662F\u6CA1\u6709\u6587\u4EF6\u7684</p></li><li><p>\u81EA\u5DF1\u5C06webapps.dist\u4E2D\u7684\u9879\u76EE\u5E94\u7528\u62F7\u8D1D\u5230webapps\u4E2D\uFF0C\u4E5F\u5C31\u662F\u5728\u539F\u59CB\u7684\u955C\u50CF\u4E0A\u52A0\u4E86\u4E00\u5C42</p></li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>root@2c5c20e62a37:/usr/local/tomcat/webapps<span class="token comment">## ls -la</span>
total <span class="token number">4</span>
drwxr-xr-x.  <span class="token number">1</span> root root   <span class="token number">81</span> Nov <span class="token number">30</span> <span class="token number">14</span>:41 <span class="token builtin class-name">.</span>
drwxr-xr-x.  <span class="token number">1</span> root root   <span class="token number">57</span> Nov <span class="token number">18</span> <span class="token number">14</span>:49 <span class="token punctuation">..</span>
drwxr-xr-x.  <span class="token number">3</span> root root  <span class="token number">223</span> Nov <span class="token number">30</span> <span class="token number">14</span>:41 ROOT
drwxr-xr-x. <span class="token number">15</span> root root <span class="token number">4096</span> Nov <span class="token number">30</span> <span class="token number">14</span>:41 docs
drwxr-xr-x.  <span class="token number">7</span> root root   <span class="token number">99</span> Nov <span class="token number">30</span> <span class="token number">14</span>:41 examples
drwxr-xr-x.  <span class="token number">6</span> root root   <span class="token number">79</span> Nov <span class="token number">30</span> <span class="token number">14</span>:41 host-manager
drwxr-xr-x.  <span class="token number">6</span> root root  <span class="token number">114</span> Nov <span class="token number">30</span> <span class="token number">14</span>:41 manager
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>\u5C06\u4FEE\u6539\u8FC7\u7684\u5BB9\u5668\u901A\u8FC7commit\u63D0\u4EA4\u4E3A\u4E00\u4E2A\u65B0\u7684\u955C\u50CF\uFF0C\u6211\u4EEC\u4EE5\u540E\u5C31\u4F7F\u7528\u4FEE\u6539\u8FC7\u7684\u955C\u50CF\u5C31\u53EF\u4EE5\u4E86\uFF0C\u8FD9\u5C31\u662F\u6211\u4EEC\u4FEE\u6539\u8FC7\u7684\u955C\u50CF</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">## docker commit -m=&quot;app webapps apps&quot; -a=&quot;zhangsan&quot; 2c5c20e62a37 tomcat02:1.0</span>
sha256:5d84ec2da22ea290e45a6bd7e488d7fcaf354afb7442bec092dd4a6d70618555
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="5"><li>\u67E5\u8BE2\u5F53\u524D\u7684\u955C\u50CF\uFF0C\u5DF2\u7ECF\u5B58\u5728\u6211\u4EEC\u63D0\u4EA4\u4E0A\u53BB\u7684tomcat02</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">## docker images</span>
REPOSITORY            TAG       IMAGE ID       CREATED          SIZE
tomcat02              <span class="token number">1.0</span>       5d84ec2da22e   <span class="token number">27</span> seconds ago   684MB
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5982\u679C\u4F60\u60F3\u8981\u4FDD\u5B58\u5F53\u524D\u5BB9\u5668\u7684\u72B6\u6001\uFF0C\u5C31\u53EF\u4EE5\u901A\u8FC7commit\u6765\u63D0\u4EA4\uFF0C\u83B7\u5F97\u4E00\u4E2A\u955C\u50CF\uFF0C\u5C31\u597D\u6BD4\u6211\u4EEC\u4EE5\u524D\u5B66\u4E60\u865A\u62DF\u673A\u7684\u65F6\u5019\u7684\u5FEB\u7167</p><p>\u5230\u4E86\u8FD9\u91CC\u624D\u662F\u5165\u95E8Docker</p><h2 id="\u5BB9\u79EF\u6570\u636E\u5377"><a class="header-anchor" href="#\u5BB9\u79EF\u6570\u636E\u5377" aria-hidden="true">#</a> \u5BB9\u79EF\u6570\u636E\u5377</h2><h3 id="docker\u7684\u7406\u5FF5\u56DE\u987E"><a class="header-anchor" href="#docker\u7684\u7406\u5FF5\u56DE\u987E" aria-hidden="true">#</a> Docker\u7684\u7406\u5FF5\u56DE\u987E</h3><p>\u5C06\u5E94\u7528\u548C\u73AF\u5883\u6253\u5305\u6210\u4E00\u4E2A\u955C\u50CF</p><p>\u4F46\u662F\u5E94\u7528\u7684\u6570\u636E\u662F\u4E0D\u5E94\u8BE5\u653E\u5728\u5BB9\u5668\u4E2D\u7684\uFF0C\u5982\u679C\u6570\u636E\u653E\u5728\u5BB9\u5668\u4E2D\uFF0C\u4E00\u65E6\u5C06\u5BB9\u5668\u5220\u9664\u4E4B\u540E\uFF0C\u6570\u636E\u5C31\u4E22\u5931\u4E86</p><p><strong>\u9700\u6C42\uFF1A\u6570\u636E\u53EF\u4EE5\u6301\u4E45\u5316</strong></p><p>\u6BD4\u5982\uFF0C\u5B89\u88C5\u4E86\u4E00\u4E2AMySQL\u5BB9\u5668\uFF0C\u5220\u9664\u5BB9\u5668\u5C31\u76F8\u5F53\u4E8E\u5220\u9664\u5E93\u6570\u636E\uFF0C<strong>\u9700\u6C42\uFF1AMySQL\u7684\u6570\u636E\u53EF\u4EE5\u5B58\u5728\u672C\u5730\u6216\u8005\u5176\u4ED6\u5730\u65B9</strong></p><p>\u5BB9\u5668\u4E4B\u95F4\u53EF\u4EE5\u6709\u4E00\u4E2A\u6570\u636E\u5171\u4EAB\u7684\u6280\u672F\u3002Docker\u5BB9\u5668\u4E2D\u4EA7\u751F\u7684\u6570\u636E\uFF0C\u540C\u6B65\u5230\u672C\u5730\uFF0C\u8FD9\u5C31\u662F\u5377\u6280\u672F\u3002\u8BF4\u767D\u4E86\u5F88\u7B80\u5355\uFF0C\u5C31\u662F\u76EE\u5F55\u7684\u6302\u8F7D\uFF0C\u5C06\u5BB9\u5668\u5185\u7684\u76EE\u5F55\u6302\u8F7D\u5230Linux\u4E0A</p><p><img src="`+T+`" alt=""></p><p><strong>\u603B\u7ED3\uFF1A\u5BB9\u5668\u7684\u6301\u4E45\u5316\u548C\u540C\u6B65\u64CD\u4F5C\uFF0C\u5BB9\u5668\u95F4\u4E5F\u662F\u53EF\u4EE5\u6570\u636E\u5171\u4EAB\u7684</strong></p><p>\u7C7B\u4F3C\u4E8E\u53CC\u5411\u7ED1\u5B9A</p><h3 id="\u4F7F\u7528\u6570\u636E\u5377"><a class="header-anchor" href="#\u4F7F\u7528\u6570\u636E\u5377" aria-hidden="true">#</a> \u4F7F\u7528\u6570\u636E\u5377</h3><h4 id="\u65B9\u5F0F\u4E00-\u76F4\u63A5\u4F7F\u7528\u547D\u4EE4\u6765\u6302\u8F7D-v-\u65B9\u5F0F\u4E8C\u5728dockerfile\u4E2D\u8BF4\u660E"><a class="header-anchor" href="#\u65B9\u5F0F\u4E00-\u76F4\u63A5\u4F7F\u7528\u547D\u4EE4\u6765\u6302\u8F7D-v-\u65B9\u5F0F\u4E8C\u5728dockerfile\u4E2D\u8BF4\u660E" aria-hidden="true">#</a> \u65B9\u5F0F\u4E00\uFF1A\u76F4\u63A5\u4F7F\u7528\u547D\u4EE4\u6765\u6302\u8F7D -v \uFF08\u65B9\u5F0F\u4E8C\u5728Dockerfile\u4E2D\u8BF4\u660E\uFF09</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> run -it -v \u4E3B\u673A\u7684\u76EE\u5F55:\u5BB9\u5668\u5185\u7684\u76EE\u5F55

<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker run -it -v /opt/test:/home centos /bin/bash</span>

<span class="token comment">## \u5728opt\u76EE\u5F55\u4E0B\u591A\u51FA\u4E00\u4E2A\u76EE\u5F55\uFF1Atest</span>

<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## ll</span>
\u603B\u7528\u91CF <span class="token number">2388</span>
drwx--x--x. <span class="token number">4</span> root root      <span class="token number">28</span> <span class="token number">11</span>\u6708 <span class="token number">30</span> <span class="token number">11</span>:02 containerd
drwxrwxr-x. <span class="token number">9</span> root root    <span class="token number">4096</span> <span class="token number">11</span>\u6708 <span class="token number">29</span> <span class="token number">23</span>:19 redis-6.2.1
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">2438367</span> <span class="token number">11</span>\u6708 <span class="token number">23</span> <span class="token number">12</span>:55 redis-6.2.1.tar.gz
drwxr-xr-x. <span class="token number">3</span> root root      <span class="token number">26</span> <span class="token number">11</span>\u6708 <span class="token number">23</span> <span class="token number">12</span>:50 rh
drwxr-xr-x. <span class="token number">2</span> root root       <span class="token number">6</span> <span class="token number">11</span>\u6708 <span class="token number">30</span> <span class="token number">23</span>:35 <span class="token builtin class-name">test</span>
-rw-r--r--. <span class="token number">1</span> root root       <span class="token number">0</span> <span class="token number">11</span>\u6708 <span class="token number">30</span> <span class="token number">16</span>:59 test.txt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u901A\u8FC7\u67E5\u770B\u5F53\u524D\u5BB9\u5668\u4FE1\u606F\u53EF\u4EE5\u770B\u5230\u6570\u636E\u5377\u6302\u8F7D\u4FE1\u606F</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker inspect 31099f8a98d2</span>
<span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        // <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>
        <span class="token string">&quot;Mounts&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token string">&quot;Type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;bind&quot;</span>,
                <span class="token string">&quot;Source&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/opt/test&quot;</span>,
                <span class="token string">&quot;Destination&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/home&quot;</span>,
                <span class="token string">&quot;Mode&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,
                <span class="token string">&quot;RW&quot;</span><span class="token builtin class-name">:</span> true,
                <span class="token string">&quot;Propagation&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;rprivate&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>,
        // <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6D4B\u8BD5\u6587\u4EF6\u7684\u540C\u6B65</p><p><img src="`+E+'" alt=""></p><p>\u6D4B\u8BD5\u6587\u4EF6\u5185\u5BB9\u7684\u540C\u6B65</p><ul><li>\u505C\u6B62\u5BB9\u5668</li><li>\u5BBF\u4E3B\u673A\u4E0A\u4FEE\u6539\u6587\u4EF6\u5185\u5BB9</li><li>\u518D\u6B21\u542F\u52A8\u5BB9\u5668\uFF0C\u5BB9\u5668\u5185\u7684\u6570\u636E\u4F9D\u65E7\u662F\u540C\u6B65\u7684</li></ul><p><img src="'+P+`" alt=""></p><p>\u597D\u5904\uFF1A\u4EE5\u540E\u4FEE\u6539\u914D\u7F6E\u6587\u4EF6\uFF0C\u53EA\u9700\u8981\u5728\u672C\u5730\u4FEE\u6539\u5373\u53EF\uFF0C\u5BB9\u5668\u5185\u4F1A\u81EA\u52A8\u540C\u6B65</p><h3 id="\u5B9E\u6218-\u5B89\u88C5mysql"><a class="header-anchor" href="#\u5B9E\u6218-\u5B89\u88C5mysql" aria-hidden="true">#</a> \u5B9E\u6218\uFF1A\u5B89\u88C5MySQL</h3><p>\u6211\u4EEC\u90FD\u77E5\u9053MySQL\u7684\u6570\u636E\u4E0D\u5E94\u8BE5\u5B58\u50A8\u5728\u5BB9\u5668\u4E2D\uFF0C\u5E94\u8BE5\u6302\u8F7D\u5230\u5916\u90E8\u7684\u4E3B\u673A\u4E0A</p><ol><li>\u641C\u7D22MySQL</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker search mysql</span>
NAME                              DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED
mysql                             MySQL is a widely used, open-source relation\u2026   <span class="token number">11753</span>     <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>\u4E0B\u8F7Dmysql\u955C\u50CF</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker pull mysql:5.7</span>
<span class="token number">5.7</span>: Pulling from library/mysql
a10c77af2613: Pull complete
b76a7eb51ffd: Pull complete
258223f927e4: Pull complete
2d2c75386df9: Pull complete
63e92e4046c9: Pull complete
f5845c731544: Pull complete
bd0401123a9b: Pull complete
2724b2da64fd: Pull complete
d10a7e9e325c: Pull complete
1c5fd9c3683d: Pull complete
2e35f83a12e9: Pull complete
Digest: sha256:7a3a7b7a29e6fbff433c339fc52245435fa2c308586481f2f92ab1df239d6a29
Status: Downloaded newer image <span class="token keyword">for</span> mysql:5.7
docker.io/library/mysql:5.7
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>\u8FD0\u884C\u5BB9\u5668\uFF0C\u9700\u8981\u505A\u6570\u636E\u6302\u8F7D</li></ol><p>\u5B89\u88C5\u542F\u52A8MySQL\u7684\u65F6\u5019\uFF0C\u9700\u8981\u914D\u7F6E\u5BC6\u7801\u7684\uFF0C\u8FD9\u662F\u8981\u6CE8\u610F\u7684</p><p>\u5B98\u65B9\u7684\u6D4B\u8BD5</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> run --name some-mysql -e <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span>my-secret-pw -d mysql:tag

<span class="token comment">## -e \u4EE3\u8868\u914D\u7F6E\u73AF\u5883</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker run -d -p 3310:3306 -v /opt/mysql/conf:/etc/mysql/conf.d -v /opt/mysql/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 --name mysql01 mysql:5.7</span>
c559ef8c43e224084a1d0efa901a5cbb94428105cfce25d43f9abb88b666c9ce
<span class="token comment">## -d \u540E\u53F0\u8FD0\u884C</span>
<span class="token comment">## -p \u7AEF\u53E3\u6620\u5C04</span>
<span class="token comment">## -v \u6570\u636E\u5377\u6302\u8F7D</span>
<span class="token comment">## -e \u73AF\u5883\u914D\u7F6E</span>
<span class="token comment">## --name \u8BBE\u7F6E\u540D\u5B57</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>\u6D4B\u8BD5MySQL</li></ol><p>\u67E5\u770B\u8FDB\u7A0B</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker ps</span>
CONTAINER ID   IMAGE       COMMAND                  CREATED              STATUS              PORTS                                                  NAMES
c559ef8c43e2   mysql:5.7   <span class="token string">&quot;docker-entrypoint.s\u2026&quot;</span>   About a minute ago   Up About a minute   <span class="token number">33060</span>/tcp, <span class="token number">0.0</span>.0.0:3310-<span class="token operator">&gt;</span><span class="token number">3306</span>/tcp, :::3310-<span class="token operator">&gt;</span><span class="token number">3306</span>/tcp   mysql01
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u901A\u8FC7Navicat\u8FDE\u63A5MySQL\u6210\u529F</p><p><img src="`+C+`" alt=""></p><p>Navicat-\u8FDE\u63A5\u5230\u670D\u52A1\u5668\u76843310-3310\u548C\u5BB9\u5668\u5185\u76843306\u6620\u5C04\uFF0C\u8FD9\u4E2A\u65F6\u5019\u6211\u4EEC\u5C31\u53EF\u4EE5\u8FDE\u63A5\u4E0A\u4E86</p><p>\u521B\u5EFA\u4E00\u4E2A\u6570\u636E\u5E93\uFF0C\u7136\u540E\u53EF\u4EE5\u5728\u6211\u4EEC\u6302\u8F7D\u7684\u76EE\u5F55\u4E2D\u770B\u5230</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## cd mysql/</span>
<span class="token punctuation">[</span>root@localhost mysql<span class="token punctuation">]</span><span class="token comment">## ll</span>
\u603B\u7528\u91CF <span class="token number">4</span>
drwxr-xr-x. <span class="token number">2</span> root    root    <span class="token number">6</span> <span class="token number">12</span>\u6708  <span class="token number">1</span> 00:10 conf
drwxr-xr-x. <span class="token number">6</span> polkitd root <span class="token number">4096</span> <span class="token number">12</span>\u6708  <span class="token number">1</span> 00:23 data
<span class="token punctuation">[</span>root@localhost mysql<span class="token punctuation">]</span><span class="token comment">## cd data</span>
<span class="token punctuation">[</span>root@localhost data<span class="token punctuation">]</span><span class="token comment">## ll</span>
\u603B\u7528\u91CF <span class="token number">188484</span>
-rw-r-----. <span class="token number">1</span> polkitd input       <span class="token number">56</span> <span class="token number">12</span>\u6708  <span class="token number">1</span> 00:10 auto.cnf
-rw-------. <span class="token number">1</span> polkitd input     <span class="token number">1680</span> <span class="token number">12</span>\u6708  <span class="token number">1</span> 00:10 ca-key.pem
-rw-r--r--. <span class="token number">1</span> polkitd input     <span class="token number">1112</span> <span class="token number">12</span>\u6708  <span class="token number">1</span> 00:10 ca.pem
-rw-r--r--. <span class="token number">1</span> polkitd input     <span class="token number">1112</span> <span class="token number">12</span>\u6708  <span class="token number">1</span> 00:10 client-cert.pem
-rw-------. <span class="token number">1</span> polkitd input     <span class="token number">1676</span> <span class="token number">12</span>\u6708  <span class="token number">1</span> 00:10 client-key.pem
-rw-r-----. <span class="token number">1</span> polkitd input     <span class="token number">1352</span> <span class="token number">12</span>\u6708  <span class="token number">1</span> 00:10 ib_buffer_pool
-rw-r-----. <span class="token number">1</span> polkitd input <span class="token number">79691776</span> <span class="token number">12</span>\u6708  <span class="token number">1</span> 00:10 ibdata1
-rw-r-----. <span class="token number">1</span> polkitd input <span class="token number">50331648</span> <span class="token number">12</span>\u6708  <span class="token number">1</span> 00:10 ib_logfile0
-rw-r-----. <span class="token number">1</span> polkitd input <span class="token number">50331648</span> <span class="token number">12</span>\u6708  <span class="token number">1</span> 00:10 ib_logfile1
-rw-r-----. <span class="token number">1</span> polkitd input <span class="token number">12582912</span> <span class="token number">12</span>\u6708  <span class="token number">1</span> 00:23 ibtmp1
drwxr-x---. <span class="token number">2</span> polkitd input     <span class="token number">4096</span> <span class="token number">12</span>\u6708  <span class="token number">1</span> 00:10 mysql
drwxr-x---. <span class="token number">2</span> polkitd input     <span class="token number">8192</span> <span class="token number">12</span>\u6708  <span class="token number">1</span> 00:10 performance_schema
-rw-------. <span class="token number">1</span> polkitd input     <span class="token number">1680</span> <span class="token number">12</span>\u6708  <span class="token number">1</span> 00:10 private_key.pem
-rw-r--r--. <span class="token number">1</span> polkitd input      <span class="token number">452</span> <span class="token number">12</span>\u6708  <span class="token number">1</span> 00:10 public_key.pem
-rw-r--r--. <span class="token number">1</span> polkitd input     <span class="token number">1112</span> <span class="token number">12</span>\u6708  <span class="token number">1</span> 00:10 server-cert.pem
-rw-------. <span class="token number">1</span> polkitd input     <span class="token number">1680</span> <span class="token number">12</span>\u6708  <span class="token number">1</span> 00:10 server-key.pem
drwxr-x---. <span class="token number">2</span> polkitd input     <span class="token number">8192</span> <span class="token number">12</span>\u6708  <span class="token number">1</span> 00:10 sys
drwxr-x---. <span class="token number">2</span> polkitd input       <span class="token number">20</span> <span class="token number">12</span>\u6708  <span class="token number">1</span> 00:23 <span class="token builtin class-name">test</span> <span class="token comment">## \u5C31\u662F\u8FD9\u4E2A</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5047\u8BBE\u6211\u4EEC\u5C06\u5BB9\u5668\u5220\u9664\uFF0C\u6211\u4EEC\u6302\u8F7D\u5230\u672C\u5730\u7684\u6570\u636E\u5377\u4F9D\u65E7\u6CA1\u6709\u4E22\u5931\uFF0C\u8FD9\u5C31\u5B9E\u73B0\u4E86\u5BB9\u5668\u6570\u636E\u6301\u4E45\u5316\u529F\u80FD</p><h3 id="\u5177\u540D\u548C\u533F\u540D\u6302\u8F7D"><a class="header-anchor" href="#\u5177\u540D\u548C\u533F\u540D\u6302\u8F7D" aria-hidden="true">#</a> \u5177\u540D\u548C\u533F\u540D\u6302\u8F7D</h3><h4 id="\u533F\u540D\u6302\u8F7D"><a class="header-anchor" href="#\u533F\u540D\u6302\u8F7D" aria-hidden="true">#</a> \u533F\u540D\u6302\u8F7D</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> run -d -P --name nginx01 -v /etc/nginx nginx
<span class="token comment">## -P \u8868\u793A\u968F\u673A\u6620\u5C04\u7AEF\u53E3</span>
<span class="token comment">## -v \u5BB9\u5668\u5185\u8DEF\u5F84 \u8868\u793A\u76F4\u63A5\u6620\u5C04\u5230\u5916\u90E8\u7684\u540C\u76EE\u5F55\u4E0B</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u901A\u8FC7<code>docker volume ls</code>\u67E5\u770B\u6240\u6709\u5377\u7684\u6302\u8F7D</p><p><img src="`+M+'" alt=""></p><p>\u8FD9\u79CD\u5C31\u662F\u533F\u540D\u6302\u8F7D\uFF0C\u6211\u4EEC\u5728 -v \u7684\u65F6\u5019\uFF0C\u53EA\u5199\u4E86\u5BB9\u5668\u5185\u7684\u8DEF\u5F84\uFF0C\u6CA1\u6709\u5199\u5BB9\u5668\u5916\u7684\u8DEF\u5F84</p><h4 id="\u5177\u540D\u6302\u8F7D"><a class="header-anchor" href="#\u5177\u540D\u6302\u8F7D" aria-hidden="true">#</a> \u5177\u540D\u6302\u8F7D</h4><p>\u901A\u8FC7-v \u5377\u540D:\u5BB9\u5668\u5185\u8DEF\u5F84 \u5B9E\u73B0\u5177\u540D\u6302\u8F7D</p><p><img src="'+L+'" alt=""></p><p><img src="'+j+`" alt=""></p><p>\u6240\u6709\u7684docker\u5BB9\u5668\u5185\u7684\u5377\uFF0C\u6CA1\u6709\u6307\u5B9A\u76EE\u5F55\u7684\u60C5\u51B5\u4E0B\uFF0C\u90FD\u662F\u6302\u8F7D\u5728<code>/var/lib/docker/volumes/xxxx/_data</code>\u4E0B\uFF0C\u5176\u4E2D<code>xxxx</code>\u5982\u679C\u6709\u8BBE\u7F6E\u5177\u540D\u6302\u8F7D\u7684\u8BDD\uFF0C\u5C31\u662F\u5177\u540D\u6302\u8F7D\u7684\u540D\u79F0\uFF0C\u5982\u679C\u533F\u540D\uFF0C\u5C31\u4F1A\u5728<code>/var/lib/docker/volumes</code>\u4E0B\u968F\u673A\u751F\u6210\u4E00\u4E2A\u6302\u8F7D\u76EE\u5F55</p><p>\u6211\u4EEC\u901A\u8FC7\u5177\u540D\u6302\u8F7D\u53EF\u4EE5\u65B9\u4FBF\u7684\u627E\u5230\u6211\u4EEC\u7684\u6302\u8F7D\u7684\u5377\uFF0C\u5927\u591A\u6570\u60C5\u51B5\u4E0B\u4F7F\u7528\u5177\u540D\u6302\u8F7D\uFF0C\u4E0D\u5EFA\u8BAE\u4F7F\u7528\u533F\u540D\u6302\u8F7D</p><h4 id="\u5982\u4F55\u786E\u5B9A\u662F\u5177\u540D\u6302\u8F7D\u8FD8\u662F\u533F\u540D\u6302\u8F7D-\u6216\u8005\u662F\u6307\u5B9A\u8DEF\u5F84\u6302\u8F7D"><a class="header-anchor" href="#\u5982\u4F55\u786E\u5B9A\u662F\u5177\u540D\u6302\u8F7D\u8FD8\u662F\u533F\u540D\u6302\u8F7D-\u6216\u8005\u662F\u6307\u5B9A\u8DEF\u5F84\u6302\u8F7D" aria-hidden="true">#</a> \u5982\u4F55\u786E\u5B9A\u662F\u5177\u540D\u6302\u8F7D\u8FD8\u662F\u533F\u540D\u6302\u8F7D\uFF0C\u6216\u8005\u662F\u6307\u5B9A\u8DEF\u5F84\u6302\u8F7D</h4><ul><li>-v \u5BB9\u5668\u5185\u8DEF\u5F84 \u533F\u540D\u6302\u8F7D</li><li>-v \u5377\u540D(\u4E0D\u5E26<code>/</code>):\u5BB9\u5668\u5185\u8DEF\u5F84 \u5177\u540D\u6302\u8F7D</li><li>-v /xxx/xxx\uFF08\u5BB9\u5668\u5916\u8DEF\u5F84\uFF09:\u5BB9\u5668\u5185\u8DEF\u5F84 \u6307\u5B9A\u8DEF\u5F84\u6302\u8F7D</li></ul><p>\u62D3\u5C55\uFF1A</p><p><code>docker run -d -P --name nginx01 -v juming-nginx:/etc/nginx:ro nginx</code>\u6216\u8005\u662F<code>docker run -d -P --name nginx01 -v juming-nginx:/etc/nginx:rw nginx</code></p><p>\u901A\u8FC7-v \u5BB9\u5668\u5185\u8DEF\u5F84:ro\u6216\u8005rw \u6539\u53D8\u8BFB\u5199\u6743\u9650</p><ul><li>ro readonly \u53EA\u8BFB \u8BF4\u660E\u8FD9\u4E2A\u8DEF\u5F84\u53EA\u80FD\u901A\u8FC7\u5BBF\u4E3B\u673A\u6765\u64CD\u4F5C\uFF0C\u5BB9\u5668\u5185\u90E8\u65E0\u6CD5\u64CD\u4F5C</li><li>rw readwrite \u53EF\u8BFB\u53EF\u5199</li></ul><p>\u4E00\u65E6\u8BBE\u5B9A\u4E86\u5BB9\u5668\u6743\u9650\uFF0C\u5BB9\u5668\u5BF9\u6211\u4EEC\u6302\u8F7D\u51FA\u6765\u7684\u5185\u5BB9\u5C31\u6709\u4E86\u9650\u5B9A\u4E86</p><h3 id="\u65B9\u5F0F\u4E8C-dockerfile"><a class="header-anchor" href="#\u65B9\u5F0F\u4E8C-dockerfile" aria-hidden="true">#</a> \u65B9\u5F0F\u4E8C\uFF1ADockerfile</h3><p>dockerfile\u5C31\u662F\u7528\u6765\u6784\u5EFAdocker\u955C\u50CF\u7684\u6784\u5EFA\u6587\u4EF6</p><p>\u4E4B\u524D\u662F\u901A\u8FC7commit\u6765\u751F\u6210\u955C\u50CF\u6587\u4EF6\uFF0C\u73B0\u5728\u4F7F\u7528dockerfile\u5C31\u662F\u624B\u5DE5\u6253\u9020\u4E00\u4E2A\u955C\u50CF\uFF0C\u6253\u9020\u8FC7\u7A0B\u5176\u5B9E\u5C31\u662F\u4E00\u6BB5\u547D\u4EE4\u811A\u672C\uFF0C\u6267\u884C\u4E86\u5C31\u751F\u6210\u4E86\u955C\u50CF</p><p>\u901A\u8FC7\u8FD9\u4E2A\u811A\u672C\u53EF\u4EE5\u751F\u6210\u4E00\u4E2A\u955C\u50CF\uFF0C\u955C\u50CF\u662F\u4E00\u5C42\u4E00\u5C42\u7684\uFF0C\u811A\u672C\u662F\u4E00\u4E2A\u4E2A\u547D\u4EE4\uFF0C\u6BCF\u4E2A\u547D\u4EE4\u90FD\u662F\u4E00\u5C42</p><h4 id="\u901A\u8FC7dockefile\u521B\u5EFA\u955C\u50CF"><a class="header-anchor" href="#\u901A\u8FC7dockefile\u521B\u5EFA\u955C\u50CF" aria-hidden="true">#</a> \u901A\u8FC7dockefile\u521B\u5EFA\u955C\u50CF</h4><ol><li>\u521B\u5EFAdockerfile\u811A\u672C</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">vim</span> dockerfile1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li>\u8F93\u5165\u811A\u672C\u5185\u5BB9</li></ol><p>\u901A\u8FC7volume \u6302\u8F7D\u76EE\u5F55</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>from centos <span class="token comment">## \u8868\u793A\u57FA\u7840\u955C\u50CF\u662Fcentos</span>

volume <span class="token punctuation">[</span><span class="token string">&quot;volume01&quot;</span>,<span class="token string">&quot;volume02&quot;</span><span class="token punctuation">]</span> <span class="token comment">## \u6302\u8F7D\u76EE\u5F55</span>

cmd <span class="token builtin class-name">echo</span> <span class="token string">&quot;---end---&quot;</span> <span class="token comment">## \u7ED3\u675F\u8F93\u51FA---end---</span>
cmd /bin/bash <span class="token comment">## \u8FDB\u5165\u7684\u9ED8\u8BA4\u8D70bash\u63A7\u5236\u53F0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>\u6784\u5EFA\u955C\u50CF</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost docker-test-volume<span class="token punctuation">]</span><span class="token comment">## docker build -f dockerfile1 -t zhangsan/centos .</span>
Sending build context to Docker daemon  <span class="token number">2</span>.048kB
Step <span class="token number">1</span>/4 <span class="token builtin class-name">:</span> from centos
 ---<span class="token operator">&gt;</span> 5d0da3dc9764
Step <span class="token number">2</span>/4 <span class="token builtin class-name">:</span> volume <span class="token punctuation">[</span><span class="token string">&quot;volume01&quot;</span>,<span class="token string">&quot;volume02&quot;</span><span class="token punctuation">]</span>
 ---<span class="token operator">&gt;</span> Running <span class="token keyword">in</span> f22d56d1872e
Removing intermediate container f22d56d1872e
 ---<span class="token operator">&gt;</span> f55dccc90e89
Step <span class="token number">3</span>/4 <span class="token builtin class-name">:</span> cmd <span class="token builtin class-name">echo</span> <span class="token string">&quot;---end---&quot;</span>
 ---<span class="token operator">&gt;</span> Running <span class="token keyword">in</span> 0c7bc2cc920f
Removing intermediate container 0c7bc2cc920f
 ---<span class="token operator">&gt;</span> fc3b1db7018d
Step <span class="token number">4</span>/4 <span class="token builtin class-name">:</span> cmd /bin/bash
 ---<span class="token operator">&gt;</span> Running <span class="token keyword">in</span> 558ecc2f44a8
Removing intermediate container 558ecc2f44a8
 ---<span class="token operator">&gt;</span> 86b4bff72eab
Successfully built 86b4bff72eab
Successfully tagged zhangsan/centos:latest
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u901A\u8FC7<code>docker images</code>\u67E5\u770B\u751F\u6210\u7684\u955C\u50CF</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost docker-test-volume<span class="token punctuation">]</span><span class="token comment">## docker images</span>
REPOSITORY            TAG       IMAGE ID       CREATED          SIZE
zhangsan/centos       latest    86b4bff72eab   <span class="token number">56</span> seconds ago   231MB <span class="token comment">## \u8FD9\u4E2A</span>
tomcat                latest    904a98253fbf   <span class="token number">12</span> days ago      680MB
nginx                 latest    ea335eea17ab   <span class="token number">13</span> days ago      141MB
mysql                 <span class="token number">5.7</span>       8b43c6af2ad0   <span class="token number">13</span> days ago      448MB
centos                latest    5d0da3dc9764   <span class="token number">2</span> months ago     231MB
portainer/portainer   latest    580c0e4e98b0   <span class="token number">8</span> months ago     <span class="token number">79</span>.1MB
elasticsearch         <span class="token number">7.6</span>.2     f29a1ee41030   <span class="token number">20</span> months ago    791MB
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>\u542F\u52A8\u4E00\u4E0B\u81EA\u5DF1\u751F\u6210\u7684\u5BB9\u5668\u5E76\u6D4B\u8BD5\u4E00\u4E0B\u662F\u5426\u6302\u8F7D\u76EE\u5F55\u6210\u529F</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost docker-test-volume<span class="token punctuation">]</span><span class="token comment">## docker run -it 86b4bff72eab /bin/bash</span>
<span class="token punctuation">[</span>root@7a3b37125daa /<span class="token punctuation">]</span><span class="token comment">## ls -l</span>
total <span class="token number">0</span>
lrwxrwxrwx.   <span class="token number">1</span> root root   <span class="token number">7</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> bin -<span class="token operator">&gt;</span> usr/bin
drwxr-xr-x.   <span class="token number">5</span> root root <span class="token number">360</span> Dec  <span class="token number">1</span> 01:51 dev
drwxr-xr-x.   <span class="token number">1</span> root root  <span class="token number">66</span> Dec  <span class="token number">1</span> 01:51 etc
drwxr-xr-x.   <span class="token number">2</span> root root   <span class="token number">6</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> home
lrwxrwxrwx.   <span class="token number">1</span> root root   <span class="token number">7</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> lib -<span class="token operator">&gt;</span> usr/lib
lrwxrwxrwx.   <span class="token number">1</span> root root   <span class="token number">9</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> lib64 -<span class="token operator">&gt;</span> usr/lib64
drwx------.   <span class="token number">2</span> root root   <span class="token number">6</span> Sep <span class="token number">15</span> <span class="token number">14</span>:17 lost+found
drwxr-xr-x.   <span class="token number">2</span> root root   <span class="token number">6</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> media
drwxr-xr-x.   <span class="token number">2</span> root root   <span class="token number">6</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> mnt
drwxr-xr-x.   <span class="token number">2</span> root root   <span class="token number">6</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> opt
dr-xr-xr-x. <span class="token number">143</span> root root   <span class="token number">0</span> Dec  <span class="token number">1</span> 01:51 proc
dr-xr-x---.   <span class="token number">2</span> root root <span class="token number">162</span> Sep <span class="token number">15</span> <span class="token number">14</span>:17 root
drwxr-xr-x.  <span class="token number">11</span> root root <span class="token number">163</span> Sep <span class="token number">15</span> <span class="token number">14</span>:17 run
lrwxrwxrwx.   <span class="token number">1</span> root root   <span class="token number">8</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> sbin -<span class="token operator">&gt;</span> usr/sbin
drwxr-xr-x.   <span class="token number">2</span> root root   <span class="token number">6</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> srv
dr-xr-xr-x.  <span class="token number">13</span> root root   <span class="token number">0</span> Nov <span class="token number">30</span> 08:47 sys
drwxrwxrwt.   <span class="token number">7</span> root root <span class="token number">171</span> Sep <span class="token number">15</span> <span class="token number">14</span>:17 tmp
drwxr-xr-x.  <span class="token number">12</span> root root <span class="token number">144</span> Sep <span class="token number">15</span> <span class="token number">14</span>:17 usr
drwxr-xr-x.  <span class="token number">20</span> root root <span class="token number">262</span> Sep <span class="token number">15</span> <span class="token number">14</span>:17 var
drwxr-xr-x.   <span class="token number">2</span> root root   <span class="token number">6</span> Dec  <span class="token number">1</span> 01:51 volume01 <span class="token comment">## \u8FD9\u4E24\u4E2A\u5C31\u662F\u6211\u4EEC\u521A\u624D\u6302\u8F7D\u7684\u4E24\u4E2A\u76EE\u5F55</span>
drwxr-xr-x.   <span class="token number">2</span> root root   <span class="token number">6</span> Dec  <span class="token number">1</span> 01:51 volume02
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E0A\u9762\u6302\u8F7D\u7684\u76EE\u5F55\u5728\u5916\u754C\u4E00\u5B9A\u6709\u4E00\u4E2A\u540C\u6B65\u7684\u76EE\u5F55\uFF0C\u6211\u4EEC\u5728\u73B0\u5728\u53EA\u5199\u4E86\u5BB9\u5668\u5185\u90E8\u7684\u76EE\u5F55\uFF0C\u6CA1\u6709\u5199\u5916\u90E8\u7684\u76EE\u5F55\uFF0C\u662F\u533F\u540D\u6302\u8F7D\uFF0C\u90A3\u4E48\u5728<code>/var/lib/volumes</code>\u4E0B\u4E00\u5B9A\u4F1A\u6709\u751F\u6210\u968F\u673A\u540D\u79F0\u7684\u76EE\u5F55</p><p>\u6211\u4EEC\u901A\u8FC7<code>docker inspect</code>\u547D\u4EE4\u67E5\u770B\u5BB9\u5668\u7684\u4FE1\u606F\uFF0C\u53EF\u4EE5\u770B\u5230\u6302\u8F7D\u7684\u76EE\u5F55</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost lib<span class="token punctuation">]</span><span class="token comment">## docker inspect 0887565512c1</span>
<span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        // <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.
        <span class="token string">&quot;Mounts&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token string">&quot;Type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;volume&quot;</span>,
                <span class="token string">&quot;Name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;b01bbf784f7138cd9aba69f8c972f020caf0f8c732f899a0c808e0b48eacd323&quot;</span>,
                <span class="token string">&quot;Source&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/var/lib/docker/volumes/b01bbf784f7138cd9aba69f8c972f020caf0f8c732f899a0c808e0b48eacd323/_data&quot;</span>,
                <span class="token string">&quot;Destination&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;volume01&quot;</span>,
                <span class="token string">&quot;Driver&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;local&quot;</span>,
                <span class="token string">&quot;Mode&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,
                <span class="token string">&quot;RW&quot;</span><span class="token builtin class-name">:</span> true,
                <span class="token string">&quot;Propagation&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>
            <span class="token punctuation">}</span>,
            <span class="token punctuation">{</span>
                <span class="token string">&quot;Type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;volume&quot;</span>,
                <span class="token string">&quot;Name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;ab6fbcba4d51bae0198a8b6209530867e04d7124e54fe3a305f19685d8e44f2f&quot;</span>,
                <span class="token string">&quot;Source&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/var/lib/docker/volumes/ab6fbcba4d51bae0198a8b6209530867e04d7124e54fe3a305f19685d8e44f2f/_data&quot;</span>,
                <span class="token string">&quot;Destination&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;volume02&quot;</span>,
                <span class="token string">&quot;Driver&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;local&quot;</span>,
                <span class="token string">&quot;Mode&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,
                <span class="token string">&quot;RW&quot;</span><span class="token builtin class-name">:</span> true,
                <span class="token string">&quot;Propagation&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>,
        // <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FDB\u5165\u5BB9\u5668\u4E4B\u540E\u5728volume01\u4E2D\u521B\u5EFA\u4E00\u4E2A\u6587\u4EF6\uFF0C\u7136\u540E\u53BB<code>/var/lib/docker/volumes/b01bbf784f7138cd9aba69f8c972f020caf0f8c732f899a0c808e0b48eacd323/_data</code>\u76EE\u5F55\u4E0B\u67E5\u770B\u662F\u5426\u5B58\u5728\u8BE5\u6587\u4EF6</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost lib<span class="token punctuation">]</span><span class="token comment">## cd /var/lib/docker/volumes/b01bbf784f7138cd9aba69f8c972f020caf0f8c732f899a0c808e0b48eacd323/_data</span>
<span class="token punctuation">[</span>root@localhost _data<span class="token punctuation">]</span><span class="token comment">## ll</span>
\u603B\u7528\u91CF <span class="token number">0</span>
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">0</span> <span class="token number">12</span>\u6708  <span class="token number">1</span> 09:57 container.txt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD9\u79CD\u65B9\u5F0F\u6211\u4EEC\u672A\u6765\u4F7F\u7528\u7684\u5341\u5206\u591A\uFF0C\u56E0\u4E3A\u6211\u4EEC\u901A\u5E38\u4F1A\u6784\u5EFA\u81EA\u5DF1\u7684\u955C\u50CF\uFF0C\u5047\u8BBE\u6784\u5EFA\u955C\u50CF\u65F6\u5019\u6CA1\u6709\u6302\u8F7D\u5377\uFF0C\u8981\u624B\u52A8\u901A\u8FC7-v\u7684\u65B9\u5F0F\u6302\u8F7D</p><h3 id="\u6570\u636E\u5377\u5BB9\u5668"><a class="header-anchor" href="#\u6570\u636E\u5377\u5BB9\u5668" aria-hidden="true">#</a> \u6570\u636E\u5377\u5BB9\u5668</h3><p>\u4E4B\u524D\u5B9E\u73B0\u7684\u662F\u5BB9\u5668\u5185\u548C\u5BBF\u4E3B\u673A\u4E4B\u95F4\u7684\u6570\u636E\u5377\u5171\u4EAB</p><p>\u6211\u4EEC\u53EF\u4EE5\u5229\u7528\u6570\u636E\u5377\u5BB9\u5668\u5B9E\u73B0\u591A\u4E2A\u5BB9\u5668\u4E4B\u95F4\u7684\u6570\u636E\u5171\u4EAB\uFF0C\u6BD4\u5982\u591A\u4E2AMySQL\u540C\u6B65\u6570\u636E</p><p><img src="`+U+`" alt=""></p><ol><li>\u542F\u52A8\u4E09\u4E2A\u5BB9\u5668\uFF0C\u901A\u8FC7\u6211\u4EEC\u521A\u624D\u81EA\u5DF1\u7684\u5199\u955C\u50CF\u542F\u52A8</li></ol><p>\u542F\u52A8\u7236\u5BB9\u5668</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost _data<span class="token punctuation">]</span><span class="token comment">## docker run -it --name docker01 86b4bff72eab</span>
<span class="token punctuation">[</span>root@745160b0c52a /<span class="token punctuation">]</span><span class="token comment">## ls</span>
bin  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var  volume01	volume02
<span class="token punctuation">[</span>root@745160b0c52a /<span class="token punctuation">]</span><span class="token comment">## ls -la</span>
total <span class="token number">0</span>
drwxr-xr-x.   <span class="token number">1</span> root root  <span class="token number">38</span> Dec  <span class="token number">1</span> 02:18 <span class="token builtin class-name">.</span>
drwxr-xr-x.   <span class="token number">1</span> root root  <span class="token number">38</span> Dec  <span class="token number">1</span> 02:18 <span class="token punctuation">..</span>
-rwxr-xr-x.   <span class="token number">1</span> root root   <span class="token number">0</span> Dec  <span class="token number">1</span> 02:18 .dockerenv
lrwxrwxrwx.   <span class="token number">1</span> root root   <span class="token number">7</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> bin -<span class="token operator">&gt;</span> usr/bin
drwxr-xr-x.   <span class="token number">5</span> root root <span class="token number">360</span> Dec  <span class="token number">1</span> 02:18 dev
drwxr-xr-x.   <span class="token number">1</span> root root  <span class="token number">66</span> Dec  <span class="token number">1</span> 02:18 etc
drwxr-xr-x.   <span class="token number">2</span> root root   <span class="token number">6</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> home
lrwxrwxrwx.   <span class="token number">1</span> root root   <span class="token number">7</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> lib -<span class="token operator">&gt;</span> usr/lib
lrwxrwxrwx.   <span class="token number">1</span> root root   <span class="token number">9</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> lib64 -<span class="token operator">&gt;</span> usr/lib64
drwx------.   <span class="token number">2</span> root root   <span class="token number">6</span> Sep <span class="token number">15</span> <span class="token number">14</span>:17 lost+found
drwxr-xr-x.   <span class="token number">2</span> root root   <span class="token number">6</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> media
drwxr-xr-x.   <span class="token number">2</span> root root   <span class="token number">6</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> mnt
drwxr-xr-x.   <span class="token number">2</span> root root   <span class="token number">6</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> opt
dr-xr-xr-x. <span class="token number">142</span> root root   <span class="token number">0</span> Dec  <span class="token number">1</span> 02:18 proc
dr-xr-x---.   <span class="token number">2</span> root root <span class="token number">162</span> Sep <span class="token number">15</span> <span class="token number">14</span>:17 root
drwxr-xr-x.  <span class="token number">11</span> root root <span class="token number">163</span> Sep <span class="token number">15</span> <span class="token number">14</span>:17 run
lrwxrwxrwx.   <span class="token number">1</span> root root   <span class="token number">8</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> sbin -<span class="token operator">&gt;</span> usr/sbin
drwxr-xr-x.   <span class="token number">2</span> root root   <span class="token number">6</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> srv
dr-xr-xr-x.  <span class="token number">13</span> root root   <span class="token number">0</span> Nov <span class="token number">30</span> 08:47 sys
drwxrwxrwt.   <span class="token number">7</span> root root <span class="token number">171</span> Sep <span class="token number">15</span> <span class="token number">14</span>:17 tmp
drwxr-xr-x.  <span class="token number">12</span> root root <span class="token number">144</span> Sep <span class="token number">15</span> <span class="token number">14</span>:17 usr
drwxr-xr-x.  <span class="token number">20</span> root root <span class="token number">262</span> Sep <span class="token number">15</span> <span class="token number">14</span>:17 var
drwxr-xr-x.   <span class="token number">2</span> root root   <span class="token number">6</span> Dec  <span class="token number">1</span> 02:18 volume01
drwxr-xr-x.   <span class="token number">2</span> root root   <span class="token number">6</span> Dec  <span class="token number">1</span> 02:18 volume02
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost _data<span class="token punctuation">]</span><span class="token comment">## docker ps</span>
CONTAINER ID   IMAGE          COMMAND                  CREATED              STATUS              PORTS     NAMES
745160b0c52a   86b4bff72eab   <span class="token string">&quot;/bin/sh -c /bin/bash&quot;</span>   About a minute ago   Up About a minute             docker01
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>control+q+p</code> \u4E0D\u5173\u95ED\u5BB9\u5668\u9000\u51FA\uFF0C\u542F\u52A8\u7B2C\u4E00\u4E2A\u5B50\u5BB9\u5668\uFF0C\u5E76\u901A\u8FC7<code>--volumes-from docker01</code>\u6765\u8868\u793A\u6302\u8F7D\u4F9D\u8D56docker01</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost _data<span class="token punctuation">]</span><span class="token comment">## docker run -it --name docker02 --volumes-from docker01 86b4bff72eab</span>
<span class="token punctuation">[</span>root@32653853be6d /<span class="token punctuation">]</span><span class="token comment">## ls -la</span>
total <span class="token number">0</span>
drwxr-xr-x.   <span class="token number">1</span> root root  <span class="token number">38</span> Dec  <span class="token number">1</span> 02:22 <span class="token builtin class-name">.</span>
drwxr-xr-x.   <span class="token number">1</span> root root  <span class="token number">38</span> Dec  <span class="token number">1</span> 02:22 <span class="token punctuation">..</span>
-rwxr-xr-x.   <span class="token number">1</span> root root   <span class="token number">0</span> Dec  <span class="token number">1</span> 02:22 .dockerenv
lrwxrwxrwx.   <span class="token number">1</span> root root   <span class="token number">7</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> bin -<span class="token operator">&gt;</span> usr/bin
drwxr-xr-x.   <span class="token number">5</span> root root <span class="token number">360</span> Dec  <span class="token number">1</span> 02:22 dev
drwxr-xr-x.   <span class="token number">1</span> root root  <span class="token number">66</span> Dec  <span class="token number">1</span> 02:22 etc
drwxr-xr-x.   <span class="token number">2</span> root root   <span class="token number">6</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> home
lrwxrwxrwx.   <span class="token number">1</span> root root   <span class="token number">7</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> lib -<span class="token operator">&gt;</span> usr/lib
lrwxrwxrwx.   <span class="token number">1</span> root root   <span class="token number">9</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> lib64 -<span class="token operator">&gt;</span> usr/lib64
drwx------.   <span class="token number">2</span> root root   <span class="token number">6</span> Sep <span class="token number">15</span> <span class="token number">14</span>:17 lost+found
drwxr-xr-x.   <span class="token number">2</span> root root   <span class="token number">6</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> media
drwxr-xr-x.   <span class="token number">2</span> root root   <span class="token number">6</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> mnt
drwxr-xr-x.   <span class="token number">2</span> root root   <span class="token number">6</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> opt
dr-xr-xr-x. <span class="token number">144</span> root root   <span class="token number">0</span> Dec  <span class="token number">1</span> 02:22 proc
dr-xr-x---.   <span class="token number">2</span> root root <span class="token number">162</span> Sep <span class="token number">15</span> <span class="token number">14</span>:17 root
drwxr-xr-x.  <span class="token number">11</span> root root <span class="token number">163</span> Sep <span class="token number">15</span> <span class="token number">14</span>:17 run
lrwxrwxrwx.   <span class="token number">1</span> root root   <span class="token number">8</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> sbin -<span class="token operator">&gt;</span> usr/sbin
drwxr-xr-x.   <span class="token number">2</span> root root   <span class="token number">6</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> srv
dr-xr-xr-x.  <span class="token number">13</span> root root   <span class="token number">0</span> Nov <span class="token number">30</span> 08:47 sys
drwxrwxrwt.   <span class="token number">7</span> root root <span class="token number">171</span> Sep <span class="token number">15</span> <span class="token number">14</span>:17 tmp
drwxr-xr-x.  <span class="token number">12</span> root root <span class="token number">144</span> Sep <span class="token number">15</span> <span class="token number">14</span>:17 usr
drwxr-xr-x.  <span class="token number">20</span> root root <span class="token number">262</span> Sep <span class="token number">15</span> <span class="token number">14</span>:17 var
drwxr-xr-x.   <span class="token number">2</span> root root   <span class="token number">6</span> Dec  <span class="token number">1</span> 02:18 volume01
drwxr-xr-x.   <span class="token number">2</span> root root   <span class="token number">6</span> Dec  <span class="token number">1</span> 02:18 volume02
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>\u6D4B\u8BD5\uFF1A\u5728docker01\u4E2D\u7684volume01\u4E2D\u521B\u5EFA\u4E00\u4E2A\u6D4B\u8BD5\u6587\u4EF6\uFF0C\u662F\u5426\u4F1A\u5728docker02\u7684volume01\u4E2D\u6709\u6587\u4EF6</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">## docker attach 745160b0c52a</span>
<span class="token punctuation">[</span>root@745160b0c52a /<span class="token punctuation">]</span><span class="token comment">## ls -al</span>
total <span class="token number">0</span>
drwxr-xr-x.   <span class="token number">1</span> root root  <span class="token number">38</span> Dec  <span class="token number">1</span> 02:18 <span class="token builtin class-name">.</span>
drwxr-xr-x.   <span class="token number">1</span> root root  <span class="token number">38</span> Dec  <span class="token number">1</span> 02:18 <span class="token punctuation">..</span>
-rwxr-xr-x.   <span class="token number">1</span> root root   <span class="token number">0</span> Dec  <span class="token number">1</span> 02:18 .dockerenv
lrwxrwxrwx.   <span class="token number">1</span> root root   <span class="token number">7</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> bin -<span class="token operator">&gt;</span> usr/bin
drwxr-xr-x.   <span class="token number">5</span> root root <span class="token number">360</span> Dec  <span class="token number">1</span> 02:18 dev
drwxr-xr-x.   <span class="token number">1</span> root root  <span class="token number">66</span> Dec  <span class="token number">1</span> 02:18 etc
drwxr-xr-x.   <span class="token number">2</span> root root   <span class="token number">6</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> home
lrwxrwxrwx.   <span class="token number">1</span> root root   <span class="token number">7</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> lib -<span class="token operator">&gt;</span> usr/lib
lrwxrwxrwx.   <span class="token number">1</span> root root   <span class="token number">9</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> lib64 -<span class="token operator">&gt;</span> usr/lib64
drwx------.   <span class="token number">2</span> root root   <span class="token number">6</span> Sep <span class="token number">15</span> <span class="token number">14</span>:17 lost+found
drwxr-xr-x.   <span class="token number">2</span> root root   <span class="token number">6</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> media
drwxr-xr-x.   <span class="token number">2</span> root root   <span class="token number">6</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> mnt
drwxr-xr-x.   <span class="token number">2</span> root root   <span class="token number">6</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> opt
dr-xr-xr-x. <span class="token number">145</span> root root   <span class="token number">0</span> Dec  <span class="token number">1</span> 02:18 proc
dr-xr-x---.   <span class="token number">2</span> root root <span class="token number">162</span> Sep <span class="token number">15</span> <span class="token number">14</span>:17 root
drwxr-xr-x.  <span class="token number">11</span> root root <span class="token number">163</span> Sep <span class="token number">15</span> <span class="token number">14</span>:17 run
lrwxrwxrwx.   <span class="token number">1</span> root root   <span class="token number">8</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> sbin -<span class="token operator">&gt;</span> usr/sbin
drwxr-xr-x.   <span class="token number">2</span> root root   <span class="token number">6</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> srv
dr-xr-xr-x.  <span class="token number">13</span> root root   <span class="token number">0</span> Nov <span class="token number">30</span> 08:47 sys
drwxrwxrwt.   <span class="token number">7</span> root root <span class="token number">171</span> Sep <span class="token number">15</span> <span class="token number">14</span>:17 tmp
drwxr-xr-x.  <span class="token number">12</span> root root <span class="token number">144</span> Sep <span class="token number">15</span> <span class="token number">14</span>:17 usr
drwxr-xr-x.  <span class="token number">20</span> root root <span class="token number">262</span> Sep <span class="token number">15</span> <span class="token number">14</span>:17 var
drwxr-xr-x.   <span class="token number">2</span> root root   <span class="token number">6</span> Dec  <span class="token number">1</span> 02:18 volume01
drwxr-xr-x.   <span class="token number">2</span> root root   <span class="token number">6</span> Dec  <span class="token number">1</span> 02:18 volume02
<span class="token punctuation">[</span>root@745160b0c52a /<span class="token punctuation">]</span><span class="token comment">## cd volume01</span>
<span class="token punctuation">[</span>root@745160b0c52a volume01<span class="token punctuation">]</span><span class="token comment">## ls</span>
<span class="token punctuation">[</span>root@745160b0c52a volume01<span class="token punctuation">]</span><span class="token comment">## touch docker01.txt</span>
<span class="token punctuation">[</span>root@745160b0c52a volume01<span class="token punctuation">]</span><span class="token comment">## ls</span>
docker01.txt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5B58\u5728\u8BE5\u6587\u4EF6</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@32653853be6d volume01<span class="token punctuation">]</span><span class="token comment">## ls</span>
docker01.txt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7C7B\u4F3C\u4E8EJava\u4E2D\u7684\u7C7B\uFF0C\u5B50\u7C7B\u7EE7\u627F\u4E86\u7236\u7C7B</p><ol start="3"><li>\u5728\u542F\u52A8\u4E00\u4E2A\u5BB9\u5668docker03\uFF0C\u4E5F\u662F\u6302\u8F7D\u5230docker01\u4F5C\u4E3A\u7236\u5BB9\u5668\uFF0C\u7136\u540E\u5728\u8BE5\u5BB9\u5668\u4E2D\u521B\u5EFA\u6587\u4EF6\uFF0C\u6D4B\u8BD5\u662F\u5426\u5728\u540C\u4E3A\u5B50\u5BB9\u5668\u7684docker02\u4E2D\u5B58\u5728\u6587\u4EF6</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">## docker run -it --name docker03 --volumes-from docker01 86b4bff72eab</span>
<span class="token punctuation">[</span>root@fdd6c8c68ad5 /<span class="token punctuation">]</span><span class="token comment">## ls -al</span>
total <span class="token number">0</span>
drwxr-xr-x.   <span class="token number">1</span> root root  <span class="token number">38</span> Dec  <span class="token number">1</span> 02:35 <span class="token builtin class-name">.</span>
drwxr-xr-x.   <span class="token number">1</span> root root  <span class="token number">38</span> Dec  <span class="token number">1</span> 02:35 <span class="token punctuation">..</span>
-rwxr-xr-x.   <span class="token number">1</span> root root   <span class="token number">0</span> Dec  <span class="token number">1</span> 02:35 .dockerenv
lrwxrwxrwx.   <span class="token number">1</span> root root   <span class="token number">7</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> bin -<span class="token operator">&gt;</span> usr/bin
drwxr-xr-x.   <span class="token number">5</span> root root <span class="token number">360</span> Dec  <span class="token number">1</span> 02:35 dev
drwxr-xr-x.   <span class="token number">1</span> root root  <span class="token number">66</span> Dec  <span class="token number">1</span> 02:35 etc
drwxr-xr-x.   <span class="token number">2</span> root root   <span class="token number">6</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> home
lrwxrwxrwx.   <span class="token number">1</span> root root   <span class="token number">7</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> lib -<span class="token operator">&gt;</span> usr/lib
lrwxrwxrwx.   <span class="token number">1</span> root root   <span class="token number">9</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> lib64 -<span class="token operator">&gt;</span> usr/lib64
drwx------.   <span class="token number">2</span> root root   <span class="token number">6</span> Sep <span class="token number">15</span> <span class="token number">14</span>:17 lost+found
drwxr-xr-x.   <span class="token number">2</span> root root   <span class="token number">6</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> media
drwxr-xr-x.   <span class="token number">2</span> root root   <span class="token number">6</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> mnt
drwxr-xr-x.   <span class="token number">2</span> root root   <span class="token number">6</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> opt
dr-xr-xr-x. <span class="token number">151</span> root root   <span class="token number">0</span> Dec  <span class="token number">1</span> 02:35 proc
dr-xr-x---.   <span class="token number">2</span> root root <span class="token number">162</span> Sep <span class="token number">15</span> <span class="token number">14</span>:17 root
drwxr-xr-x.  <span class="token number">11</span> root root <span class="token number">163</span> Sep <span class="token number">15</span> <span class="token number">14</span>:17 run
lrwxrwxrwx.   <span class="token number">1</span> root root   <span class="token number">8</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> sbin -<span class="token operator">&gt;</span> usr/sbin
drwxr-xr-x.   <span class="token number">2</span> root root   <span class="token number">6</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> srv
dr-xr-xr-x.  <span class="token number">13</span> root root   <span class="token number">0</span> Nov <span class="token number">30</span> 08:47 sys
drwxrwxrwt.   <span class="token number">7</span> root root <span class="token number">171</span> Sep <span class="token number">15</span> <span class="token number">14</span>:17 tmp
drwxr-xr-x.  <span class="token number">12</span> root root <span class="token number">144</span> Sep <span class="token number">15</span> <span class="token number">14</span>:17 usr
drwxr-xr-x.  <span class="token number">20</span> root root <span class="token number">262</span> Sep <span class="token number">15</span> <span class="token number">14</span>:17 var
drwxr-xr-x.   <span class="token number">2</span> root root  <span class="token number">26</span> Dec  <span class="token number">1</span> 02:25 volume01
drwxr-xr-x.   <span class="token number">2</span> root root   <span class="token number">6</span> Dec  <span class="token number">1</span> 02:18 volume02
<span class="token punctuation">[</span>root@fdd6c8c68ad5 /<span class="token punctuation">]</span><span class="token comment">## cd volume01/</span>
<span class="token punctuation">[</span>root@fdd6c8c68ad5 volume01<span class="token punctuation">]</span><span class="token comment">## ls</span>
docker01.txt
<span class="token punctuation">[</span>root@fdd6c8c68ad5 volume01<span class="token punctuation">]</span><span class="token comment">## touch docker03.txt</span>
<span class="token punctuation">[</span>root@fdd6c8c68ad5 volume01<span class="token punctuation">]</span><span class="token comment">## ls -la</span>
total <span class="token number">0</span>
drwxr-xr-x. <span class="token number">2</span> root root <span class="token number">46</span> Dec  <span class="token number">1</span> 02:36 <span class="token builtin class-name">.</span>
drwxr-xr-x. <span class="token number">1</span> root root <span class="token number">38</span> Dec  <span class="token number">1</span> 02:35 <span class="token punctuation">..</span>
-rw-r--r--. <span class="token number">1</span> root root  <span class="token number">0</span> Dec  <span class="token number">1</span> 02:25 docker01.txt
-rw-r--r--. <span class="token number">1</span> root root  <span class="token number">0</span> Dec  <span class="token number">1</span> 02:36 docker03.txt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728\u5B50\u5BB9\u5668docker02\u4E2D\u67E5\u770B\uFF0C\u5B58\u5728docker03\u521B\u5EFA\u7684\u6587\u4EF6</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@745160b0c52a volume01<span class="token punctuation">]</span><span class="token comment">## ls -la</span>
total <span class="token number">0</span>
drwxr-xr-x. <span class="token number">2</span> root root <span class="token number">46</span> Dec  <span class="token number">1</span> 02:36 <span class="token builtin class-name">.</span>
drwxr-xr-x. <span class="token number">1</span> root root <span class="token number">38</span> Dec  <span class="token number">1</span> 02:18 <span class="token punctuation">..</span>
-rw-r--r--. <span class="token number">1</span> root root  <span class="token number">0</span> Dec  <span class="token number">1</span> 02:25 docker01.txt
-rw-r--r--. <span class="token number">1</span> root root  <span class="token number">0</span> Dec  <span class="token number">1</span> 02:36 docker03.txt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>\u6D4B\u8BD5\uFF1A\u65E2\u7136\u5B50\u5BB9\u5668docker02\u548Cdocker03\u90FD\u662F\u4F9D\u8D56\u7236\u5BB9\u5668docker01\uFF0C\u5982\u679C\u628Adocker01\u505C\u6B62\u5E76\u5220\u9664\u4F1A\u600E\u4E48\u6837\uFF1F\u8FD8\u80FD\u5B9E\u73B0\u6570\u636E\u5171\u4EAB\u5417\uFF1F</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">## docker ps -a</span>
CONTAINER ID   IMAGE                 COMMAND                  CREATED          STATUS                      PORTS     NAMES
ca6ee7145e5f   86b4bff72eab          <span class="token string">&quot;/bin/sh -c /bin/bash&quot;</span>   <span class="token number">34</span> seconds ago   Up <span class="token number">33</span> seconds                         docker02
fdd6c8c68ad5   86b4bff72eab          <span class="token string">&quot;/bin/sh -c /bin/bash&quot;</span>   <span class="token number">5</span> minutes ago    Up <span class="token number">5</span> minutes                          docker03
745160b0c52a   86b4bff72eab          <span class="token string">&quot;/bin/sh -c /bin/bash&quot;</span>   <span class="token number">21</span> minutes ago   Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">23</span> seconds ago             docker01
0887565512c1   86b4bff72eab          <span class="token string">&quot;/bin/bash&quot;</span>              <span class="token number">44</span> minutes ago   Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">22</span> minutes ago             eloquent_aryabhata
7a3b37125daa   86b4bff72eab          <span class="token string">&quot;/bin/bash&quot;</span>              <span class="token number">48</span> minutes ago   Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">44</span> minutes ago             nervous_jennings
c559ef8c43e2   mysql:5.7             <span class="token string">&quot;docker-entrypoint.s\u2026&quot;</span>   <span class="token number">11</span> hours ago     Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">40</span> minutes ago             mysql01
31099f8a98d2   centos                <span class="token string">&quot;/bin/bash&quot;</span>              <span class="token number">11</span> hours ago     Exited <span class="token punctuation">(</span><span class="token number">127</span><span class="token punctuation">)</span> <span class="token number">11</span> hours ago             wonderful_faraday
2c5c20e62a37   tomcat                <span class="token string">&quot;catalina.sh run&quot;</span>        <span class="token number">12</span> hours ago     Exited <span class="token punctuation">(</span><span class="token number">130</span><span class="token punctuation">)</span> <span class="token number">11</span> hours ago             determined_ishizaka
5df377de6188   tomcat                <span class="token string">&quot;catalina.sh run&quot;</span>        <span class="token number">12</span> hours ago     Exited <span class="token punctuation">(</span><span class="token number">130</span><span class="token punctuation">)</span> <span class="token number">12</span> hours ago             reverent_shaw
712e50db61c6   tomcat                <span class="token string">&quot;catalina.sh run&quot;</span>        <span class="token number">12</span> hours ago     Created                               hungry_payne
a5bfd1012976   portainer/portainer   <span class="token string">&quot;/portainer&quot;</span>             <span class="token number">14</span> hours ago     Exited <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token number">12</span> hours ago               modest_herschel
6fa5c451240f   elasticsearch:7.6.2   <span class="token string">&quot;/usr/local/bin/dock\u2026&quot;</span>   <span class="token number">15</span> hours ago     Exited <span class="token punctuation">(</span><span class="token number">143</span><span class="token punctuation">)</span> <span class="token number">14</span> hours ago             elasticsearch
85cf11058d2a   tomcat                <span class="token string">&quot;catalina.sh run&quot;</span>        <span class="token number">15</span> hours ago     Exited <span class="token punctuation">(</span><span class="token number">143</span><span class="token punctuation">)</span> <span class="token number">15</span> hours ago             tomcat01
aa575c8844dd   nginx                 <span class="token string">&quot;/docker-entrypoint.\u2026&quot;</span>   <span class="token number">16</span> hours ago     Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">16</span> hours ago               nginx01
d7172d136b18   centos                <span class="token string">&quot;/bin/bash&quot;</span>              <span class="token number">18</span> hours ago     Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">16</span> hours ago               kind_noyce
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">## docker rm -f 745160b0c52a</span>
745160b0c52a
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">## docker ps -a</span>
CONTAINER ID   IMAGE                 COMMAND                  CREATED              STATUS                      PORTS     NAMES
ca6ee7145e5f   86b4bff72eab          <span class="token string">&quot;/bin/sh -c /bin/bash&quot;</span>   About a minute ago   Up About a minute                     docker02
fdd6c8c68ad5   86b4bff72eab          <span class="token string">&quot;/bin/sh -c /bin/bash&quot;</span>   <span class="token number">6</span> minutes ago        Up <span class="token number">6</span> minutes                          docker03
0887565512c1   86b4bff72eab          <span class="token string">&quot;/bin/bash&quot;</span>              <span class="token number">44</span> minutes ago       Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">23</span> minutes ago             eloquent_aryabhata
7a3b37125daa   86b4bff72eab          <span class="token string">&quot;/bin/bash&quot;</span>              <span class="token number">49</span> minutes ago       Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">45</span> minutes ago             nervous_jennings
c559ef8c43e2   mysql:5.7             <span class="token string">&quot;docker-entrypoint.s\u2026&quot;</span>   <span class="token number">11</span> hours ago         Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">41</span> minutes ago             mysql01
31099f8a98d2   centos                <span class="token string">&quot;/bin/bash&quot;</span>              <span class="token number">11</span> hours ago         Exited <span class="token punctuation">(</span><span class="token number">127</span><span class="token punctuation">)</span> <span class="token number">11</span> hours ago             wonderful_faraday
2c5c20e62a37   tomcat                <span class="token string">&quot;catalina.sh run&quot;</span>        <span class="token number">12</span> hours ago         Exited <span class="token punctuation">(</span><span class="token number">130</span><span class="token punctuation">)</span> <span class="token number">11</span> hours ago             determined_ishizaka
5df377de6188   tomcat                <span class="token string">&quot;catalina.sh run&quot;</span>        <span class="token number">12</span> hours ago         Exited <span class="token punctuation">(</span><span class="token number">130</span><span class="token punctuation">)</span> <span class="token number">12</span> hours ago             reverent_shaw
712e50db61c6   tomcat                <span class="token string">&quot;catalina.sh run&quot;</span>        <span class="token number">12</span> hours ago         Created                               hungry_payne
a5bfd1012976   portainer/portainer   <span class="token string">&quot;/portainer&quot;</span>             <span class="token number">14</span> hours ago         Exited <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token number">12</span> hours ago               modest_herschel
6fa5c451240f   elasticsearch:7.6.2   <span class="token string">&quot;/usr/local/bin/dock\u2026&quot;</span>   <span class="token number">15</span> hours ago         Exited <span class="token punctuation">(</span><span class="token number">143</span><span class="token punctuation">)</span> <span class="token number">14</span> hours ago             elasticsearch
85cf11058d2a   tomcat                <span class="token string">&quot;catalina.sh run&quot;</span>        <span class="token number">15</span> hours ago         Exited <span class="token punctuation">(</span><span class="token number">143</span><span class="token punctuation">)</span> <span class="token number">15</span> hours ago             tomcat01
aa575c8844dd   nginx                 <span class="token string">&quot;/docker-entrypoint.\u2026&quot;</span>   <span class="token number">16</span> hours ago         Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">16</span> hours ago               nginx01
d7172d136b18   centos                <span class="token string">&quot;/bin/bash&quot;</span>              <span class="token number">18</span> hours ago         Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">16</span> hours ago               kind_noyce
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7236\u5BB9\u5668docker01\u5DF2\u7ECF\u4E0D\u5B58\u5728\u4E86</p><p>\u5728\u67E5\u770Bdocker02\u548Cdocker03\u4E2D\u7684\u6570\u636E</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@ca6ee7145e5f volume01<span class="token punctuation">]</span><span class="token comment">## ls -al</span>
total <span class="token number">0</span>
drwxr-xr-x. <span class="token number">2</span> root root <span class="token number">46</span> Dec  <span class="token number">1</span> 02:36 <span class="token builtin class-name">.</span>
drwxr-xr-x. <span class="token number">1</span> root root <span class="token number">38</span> Dec  <span class="token number">1</span> 02:40 <span class="token punctuation">..</span>
-rw-r--r--. <span class="token number">1</span> root root  <span class="token number">0</span> Dec  <span class="token number">1</span> 02:25 docker01.txt
-rw-r--r--. <span class="token number">1</span> root root  <span class="token number">0</span> Dec  <span class="token number">1</span> 02:36 docker03.txt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD8\u5B58\u5728</p><p>\u603B\u7ED3\uFF1A\u6570\u636E\u7684\u5171\u4EAB\uFF0C\u53EA\u8981\u8FD8\u6709\u4E00\u4E2A\u5728\u4F7F\u7528\u5C31\u4F1A\u88AB\u5220\u9664\uFF0C\u8FD9\u662F\u4E00\u79CD\u5907\u4EFD\u7684\u673A\u5236\uFF0C\u800C\u4E0D\u662F\u5171\u4EAB\u7684\u673A\u5236</p><p><img src="`+B+`" alt=""></p><ol start="5"><li>\u4F7F\u7528\u573A\u666F</li></ol><p>\u591A\u4E2AMySQL\u5B9E\u73B0\u6570\u636E\u5171\u4EAB\uFF0C\u6216\u8005Redis\u5B9E\u73B0\u6570\u636E\u5171\u4EAB</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> run -d -p <span class="token number">3310</span>:3306 -v /etc/mysql/conf.d -v /var/lib/mysql -e <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span><span class="token number">123456</span> --name mysql01 mysql:5.7

<span class="token function">docker</span> run -d -p <span class="token number">3310</span>:3306 -v /etc/mysql/conf.d -v /var/lib/mysql -e <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span><span class="token number">123456</span> --name mysql02 --volumes-from mysql01 mysql:5.7
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD9\u4E2A\u65F6\u5019\uFF0C\u53EF\u4EE5\u5B9E\u73B0\u4E24\u4E2A\u5BB9\u5668\u6570\u636E\u540C\u6B65</p><p>\u7ED3\u8BBA\uFF1A</p><p>\u5BB9\u5668\u4E4B\u95F4\u7684\u914D\u7F6E\u4FE1\u606F\u7684\u4F20\u9012\uFF0C\u6570\u636E\u5377\u5BB9\u5668\u7684\u751F\u547D\u5468\u671F\u4E00\u76F4\u6301\u7EED\u5230\u6CA1\u6709\u5BB9\u5668\u4F7F\u7528\u4E3A\u6B62 \u4F46\u662F\u4E00\u65E6\u4F60\u6301\u4E45\u5316\u5230\u4E86\u672C\u5730\uFF0C\u8FD9\u4E2A\u65F6\u5019\u672C\u5730\u7684\u6570\u636E\u662F\u4E0D\u4F1A\u5220\u9664\u7684</p><h2 id="dockerfile"><a class="header-anchor" href="#dockerfile" aria-hidden="true">#</a> Dockerfile</h2><h3 id="dockerfile\u4ECB\u7ECD"><a class="header-anchor" href="#dockerfile\u4ECB\u7ECD" aria-hidden="true">#</a> dockerfile\u4ECB\u7ECD</h3><p>dockerfile\u662F\u7528\u6765\u505Adocker\u955C\u50CF\u7684\u6587\u4EF6\uFF0C\u662F\u547D\u4EE4\u53C2\u6570\u811A\u672C</p><p>\u6784\u5EFA\u6B65\u9AA4\uFF1A</p><ol><li>\u7F16\u5199\u4E00\u4E2Adockerfile\u6587\u4EF6</li><li>docker build \u6784\u5EFA\u6210\u4E3A\u4E00\u4E2A\u955C\u50CF</li><li>docker run \u8FD0\u884C\u955C\u50CF</li><li>docker push \u53D1\u5E03\u955C\u50CF\uFF08Dockerhub\u3001\u963F\u91CC\u4E91\u955C\u50CF\u4ED3\u5E93\uFF09</li></ol><p>\u6211\u4EEC\u770B\u4E00\u4E0B\u5B98\u65B9\u7684\u955C\u50CF\u662F\u600E\u4E48\u505A\u7684\uFF0C\u5728docker hub\u4E2D\u67E5\u627Ecentos <img src="`+G+`" alt="img"></p><p>\u70B9\u51FB\u5BF9\u5E94\u7684\u7248\u672C\uFF0C\u8DF3\u8F6C\u5230GitHub\uFF0C\u5176\u4E2D\u7684\u547D\u4EE4\u4EE3\u7801\u548C\u6211\u4EEC\u4E4B\u524D\u7F16\u5199\u7684\u5DEE\u4E0D\u591A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>FROM scratch
ADD centos-8-x86_64.tar.xz /
LABEL org.label-schema.schema-version=&quot;1.0&quot;     org.label-schema.name=&quot;CentOS Base Image&quot;     org.label-schema.vendor=&quot;CentOS&quot;     org.label-schema.license=&quot;GPLv2&quot;     org.label-schema.build-date=&quot;20210915&quot;
CMD [&quot;/bin/bash&quot;]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+F+'" alt="img"></p><p>\u5F88\u591A\u5B98\u65B9\u7684\u955C\u50CF\u90FD\u662F\u57FA\u7840\u5305\uFF0C\u5F88\u591A\u529F\u80FD\u90FD\u6CA1\u6709\uFF0C\u6211\u4EEC\u901A\u5E38\u4F1A\u81EA\u5DF1\u642D\u5EFA\u81EA\u5DF1\u7684\u955C\u50CF</p><p>\u5B98\u65B9\u65E2\u7136\u53EF\u4EE5\u5236\u4F5C\u955C\u50CF\uFF0C\u90A3\u4E48\u6211\u4EEC\u4E5F\u53EF\u4EE5</p><h3 id="dockerfile\u6784\u5EFA\u8FC7\u7A0B"><a class="header-anchor" href="#dockerfile\u6784\u5EFA\u8FC7\u7A0B" aria-hidden="true">#</a> dockerfile\u6784\u5EFA\u8FC7\u7A0B</h3><p>dockerfile\u5C31\u662F\u5F88\u591A\u7684\u547D\u4EE4\u7684\u96C6\u5408</p><h4 id="\u57FA\u7840\u77E5\u8BC6"><a class="header-anchor" href="#\u57FA\u7840\u77E5\u8BC6" aria-hidden="true">#</a> \u57FA\u7840\u77E5\u8BC6</h4><ol><li>\u6BCF\u4E2A\u4FDD\u7559\u5173\u952E\u5B57\uFF08\u6307\u4EE4\uFF09\u90FD\u5FC5\u987B\u662F\u5927\u5199\u5B57\u6BCD\uFF08\u6211\u521A\u624D\u5199\u7684\u65F6\u5019\u600E\u4E48\u4E0D\u7528\u5927\u5199\uFF0C\u9664\u975E\u662F\u7EA6\u5B9A\u4FD7\u6210\u7684\uFF09</li><li>\u6267\u884C\u4ECE\u4E0A\u5230\u4E0B\u987A\u5E8F\u6267\u884C</li><li>## \u8868\u793A\u6CE8\u91CA</li><li>\u6BCF\u4E00\u4E2A\u6307\u4EE4\u90FD\u4F1A\u521B\u5EFA\u63D0\u4EA4\u4E00\u4E2A\u65B0\u7684\u955C\u50CF\u5C42\uFF0C\u5E76\u63D0\u4EA4</li></ol><p><img src="'+z+'" alt="img"></p><p>dockerfile\u662F\u9762\u5411\u5F00\u53D1\u7684\uFF0C\u6211\u4EEC\u4EE5\u540E\u8981\u53D1\u5E03\u9879\u76EE\uFF0C\u505A\u955C\u50CF\uFF0C\u5C31\u9700\u8981\u7F16\u5199dockerfile\u6587\u4EF6\uFF0C\u8FD9\u4E2A\u6587\u4EF6\u5341\u5206\u7B80\u5355</p><p>docker\u955C\u50CF\u9010\u6E10\u6210\u4E3A\u4F01\u4E1A\u4EA4\u4ED8\u7684\u6807\u51C6</p><p>\u6B65\u9AA4\uFF1A\u5F00\u53D1\u3001\u90E8\u7F72\u3001\u8FD0\u7EF4\u3002\u7F3A\u4E00\u4E0D\u53EF</p><p>dockerfile\uFF1A\u6784\u5EFA\u6587\u4EF6\uFF0C\u5B9A\u4E49\u4E86\u4E00\u5207\u7684\u6B65\u9AA4\uFF0C\u5C31\u7C7B\u4F3C\u4E8E\u6E90\u4EE3\u7801</p><p>dockerImage\uFF1A\u901A\u8FC7dockerfile\u6784\u5EFA\u751F\u6210\u7684\u5BF9\u8C61\uFF0C\u6700\u7EC8\u53D1\u5E03\u548C\u8FD0\u884C\u7684\u4EA7\u54C1</p><p>docker\u5BB9\u5668\uFF1A\u5BB9\u5668\u5C31\u662F\u955C\u50CF\u8FD0\u884C\u8D77\u6765\u63D0\u4F9B\u670D\u52A1</p><h4 id="dockerfile\u7684\u6307\u4EE4"><a class="header-anchor" href="#dockerfile\u7684\u6307\u4EE4" aria-hidden="true">#</a> dockerfile\u7684\u6307\u4EE4</h4><p><img src="'+V+`" alt="img"></p><ol><li>FROM \u57FA\u7840\u955C\u50CF\uFF0C\u4E00\u5207\u4ECE\u8FD9\u91CC\u5F00\u59CB\u6784\u5EFA</li><li>MAINTAINER \u955C\u50CF\u662F\u8C01\u5199\u7684\uFF0C\u59D3\u540D+\u90AE\u7BB1</li><li>RUN \u955C\u50CF\u6784\u5EFA\u7684\u65F6\u5019\u9700\u8981\u8FD0\u884C\u7684\u547D\u4EE4</li><li>ADD \u6B65\u9AA4\uFF0C\u6BD4\u5982\u6211\u4EEC\u8981\u642D\u5EFA\u4E00\u4E2ATomcat\u7684\u5BB9\u5668\uFF0C\u8FD9\u91CC\u5C31\u8981\u52A0\u4E0ATomcat\u7684\u538B\u7F29\u5305</li><li>WORKDIR \u955C\u50CF\u7684\u5DE5\u4F5C\u76EE\u5F55</li><li>VOLUME \u6302\u8F7D\u7684\u76EE\u5F55</li><li>EXPOSE \u66B4\u9732\u7AEF\u53E3</li><li>RUN \u6700\u7EC8\u8981\u8FD0\u884C\u7684</li><li>CMD \u6307\u5B9A\u8FD9\u4E2A\u5BB9\u5668\u542F\u52A8\u7684\u65F6\u5019\u8981\u8FD0\u884C\u7684\u547D\u4EE4\uFF0C\u53EA\u6709\u6700\u540E\u4E00\u4E2A\u4F1A\u751F\u6548\uFF0C\u53EF\u88AB\u66FF\u4EE3</li><li>ENTRYPOINT \u6307\u5B9A\u8FD9\u4E2A\u5BB9\u5668\u542F\u52A8\u7684\u65F6\u5019\u8981\u8FD0\u884C\u7684\u547D\u4EE4\uFF0C\u53EF\u4EE5\u76F4\u63A5\u8FFD\u52A0\u547D\u4EE4</li><li>ONBUILD \u5F53\u6784\u5EFA\u4E00\u4E2A\u88AB\u7EE7\u627F\u7684dockerfile\uFF0C\u8FD9\u4E2A\u65F6\u5019\u5C31\u4F1A\u8FD0\u884CONBUILD\u7684\u6307\u4EE4\uFF0C\u662F\u4E00\u4E2A\u89E6\u53D1\u6307\u4EE4</li><li>COPY \u7C7B\u4F3CADD\u547D\u4EE4\uFF0C\u5C06\u6211\u4EEC\u7684\u6587\u4EF6\u62F7\u8D1D\u5230\u955C\u50CF\u4E2D</li><li>ENV \u6784\u5EFA\u7684\u65F6\u5019\uFF0C\u8BBE\u7F6E\u73AF\u5883\u53D8\u91CF</li></ol><p>\u4EE5\u524D\u6211\u4EEC\u662F\u4F7F\u7528\u522B\u4EBA\u7684\u955C\u50CF\uFF0C\u73B0\u5728\u6211\u4EEC\u77E5\u9053\u8FD9\u4E9B\u6307\u4EE4\u4E4B\u540E\uFF0C\u6211\u4EEC\u7EC3\u4E60\u6765\u81EA\u5DF1\u5199\u4E00\u4E2A\u955C\u50CF</p><h4 id="\u5B9E\u6218\u6D4B\u8BD5"><a class="header-anchor" href="#\u5B9E\u6218\u6D4B\u8BD5" aria-hidden="true">#</a> \u5B9E\u6218\u6D4B\u8BD5</h4><ul><li>docker hub\u4E2D\u5927\u90E8\u5206\u7684\u955C\u50CF\u90FD\u662F\u4ECE\u8FD9\u4E2A\u57FA\u7840\u955C\u50CF\u8FC7\u6765\u7684FROM scratch\uFF0C\u7136\u540E\u914D\u7F6E\u9700\u8981\u7684\u8F6F\u4EF6\u548C\u914D\u7F6E\u6765\u8FDB\u884C\u6784\u5EFA</li></ul><h5 id="\u521B\u5EFA\u4E00\u4E2A\u81EA\u5DF1\u7684centos"><a class="header-anchor" href="#\u521B\u5EFA\u4E00\u4E2A\u81EA\u5DF1\u7684centos" aria-hidden="true">#</a> \u521B\u5EFA\u4E00\u4E2A\u81EA\u5DF1\u7684centos</h5><ol><li>\u7F16\u5199dockerfile\u6587\u4EF6</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>FROM centos
MAINTAINER zhangsan&lt;zhangsan@gmail.com&gt;

ENV MYPATH /usr/local
WORKDIR $MYPATH

RUN yum -y install vim
RUN yum -y install net-tools

EXPOSE 80

CMD echo $MYPATH
CMD echo &quot;----end----&quot;
CMD /bin/bash
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>\u901A\u8FC7\u8FD9\u4E2A\u6587\u4EF6\u6784\u5EFA\u955C\u50CF</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[root@localhost opt]## docker build -f dockerfile01 -t mycentos .
Sending build context to Docker daemon  562.3MB
Step 1/10 : FROM centos
 ---&gt; 5d0da3dc9764
Step 2/10 : MAINTAINER zhangsan&lt;zhangsan@gmail.com&gt;
 ---&gt; Running in b85d7a77c2d4
Removing intermediate container b85d7a77c2d4
 ---&gt; f2f99f49cdef
Step 3/10 : ENV MYPATH /usr/local
 ---&gt; Running in 2e811983aea2
Removing intermediate container 2e811983aea2
 ---&gt; e9d621213b11
Step 4/10 : WORKDIR $MYPATH
 ---&gt; Running in c3d23187bf65
Removing intermediate container c3d23187bf65
 ---&gt; 78f322ee3e4e
Step 5/10 : RUN yum -y install vim
 ---&gt; Running in 6f990db50242
CentOS Linux 8 - AppStream                      1.4 MB/s | 8.1 MB     00:05
CentOS Linux 8 - BaseOS                          57 kB/s | 3.5 MB     01:03
CentOS Linux 8 - Extras                          13 kB/s |  10 kB     00:00
Dependencies resolved.
================================================================================
 Package             Arch        Version                   Repository      Size
================================================================================
Installing:
 vim-enhanced        x86_64      2:8.0.1763-16.el8         appstream      1.4 M
Installing dependencies:
 gpm-libs            x86_64      1.20.7-17.el8             appstream       39 k
 vim-common          x86_64      2:8.0.1763-16.el8         appstream      6.3 M
 vim-filesystem      noarch      2:8.0.1763-16.el8         appstream       49 k
 which               x86_64      2.21-16.el8               baseos          49 k

Transaction Summary
================================================================================
Install  5 Packages

Total download size: 7.8 M
Installed size: 30 M
Downloading Packages:
(1/5): gpm-libs-1.20.7-17.el8.x86_64.rpm        181 kB/s |  39 kB     00:00
(2/5): vim-filesystem-8.0.1763-16.el8.noarch.rp 380 kB/s |  49 kB     00:00
(3/5): vim-enhanced-8.0.1763-16.el8.x86_64.rpm  879 kB/s | 1.4 MB     00:01
(4/5): vim-common-8.0.1763-16.el8.x86_64.rpm    1.4 MB/s | 6.3 MB     00:04
[MIRROR] which-2.21-16.el8.x86_64.rpm: Curl error (28): Timeout was reached for http://mirrors.neusoft.edu.cn/centos/8.5.2111/BaseOS/x86_64/os/Packages/which-2.21-16.el8.x86_64.rpm [Connection timed out after 30001 milliseconds]
(5/5): which-2.21-16.el8.x86_64.rpm             1.6 kB/s |  49 kB     00:30
--------------------------------------------------------------------------------
Total                                           253 kB/s | 7.8 MB     00:31
warning: /var/cache/dnf/appstream-02e86d1c976ab532/packages/gpm-libs-1.20.7-17.el8.x86_64.rpm: Header V3 RSA/SHA256 Signature, key ID 8483c65d: NOKEY
CentOS Linux 8 - AppStream                      1.6 MB/s | 1.6 kB     00:00
Importing GPG key 0x8483C65D:
 Userid     : &quot;CentOS (CentOS Official Signing Key) &lt;security@centos.org&gt;&quot;
 Fingerprint: 99DB 70FA E1D7 CE22 7FB6 4882 05B5 55B3 8483 C65D
 From       : /etc/pki/rpm-gpg/RPM-GPG-KEY-centosofficial
Key imported successfully
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Preparing        :                                                        1/1
  Installing       : which-2.21-16.el8.x86_64                               1/5
  Installing       : vim-filesystem-2:8.0.1763-16.el8.noarch                2/5
  Installing       : vim-common-2:8.0.1763-16.el8.x86_64                    3/5
  Installing       : gpm-libs-1.20.7-17.el8.x86_64                          4/5
  Running scriptlet: gpm-libs-1.20.7-17.el8.x86_64                          4/5
  Installing       : vim-enhanced-2:8.0.1763-16.el8.x86_64                  5/5
  Running scriptlet: vim-enhanced-2:8.0.1763-16.el8.x86_64                  5/5
  Running scriptlet: vim-common-2:8.0.1763-16.el8.x86_64                    5/5
  Verifying        : gpm-libs-1.20.7-17.el8.x86_64                          1/5
  Verifying        : vim-common-2:8.0.1763-16.el8.x86_64                    2/5
  Verifying        : vim-enhanced-2:8.0.1763-16.el8.x86_64                  3/5
  Verifying        : vim-filesystem-2:8.0.1763-16.el8.noarch                4/5
  Verifying        : which-2.21-16.el8.x86_64                               5/5

Installed:
  gpm-libs-1.20.7-17.el8.x86_64         vim-common-2:8.0.1763-16.el8.x86_64
  vim-enhanced-2:8.0.1763-16.el8.x86_64 vim-filesystem-2:8.0.1763-16.el8.noarch
  which-2.21-16.el8.x86_64

Complete!
Removing intermediate container 6f990db50242
 ---&gt; 7ca5011b346f
Step 6/10 : RUN yum -y install net-tools
 ---&gt; Running in 83ca3b46c435
Last metadata expiration check: 0:00:38 ago on Wed Dec  1 07:04:22 2021.
Dependencies resolved.
================================================================================
 Package         Architecture Version                        Repository    Size
================================================================================
Installing:
 net-tools       x86_64       2.0-0.52.20160912git.el8       baseos       322 k

Transaction Summary
================================================================================
Install  1 Package

Total download size: 322 k
Installed size: 942 k
Downloading Packages:
[MIRROR] net-tools-2.0-0.52.20160912git.el8.x86_64.rpm: Curl error (28): Timeout was reached for http://mirrors.neusoft.edu.cn/centos/8.5.2111/BaseOS/x86_64/os/Packages/net-tools-2.0-0.52.20160912git.el8.x86_64.rpm [Connection timed out after 30001 milliseconds]
net-tools-2.0-0.52.20160912git.el8.x86_64.rpm    11 kB/s | 322 kB     00:30
--------------------------------------------------------------------------------
Total                                            10 kB/s | 322 kB     00:30
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Preparing        :                                                        1/1
  Installing       : net-tools-2.0-0.52.20160912git.el8.x86_64              1/1
  Running scriptlet: net-tools-2.0-0.52.20160912git.el8.x86_64              1/1
  Verifying        : net-tools-2.0-0.52.20160912git.el8.x86_64              1/1

Installed:
  net-tools-2.0-0.52.20160912git.el8.x86_64

Complete!
Removing intermediate container 83ca3b46c435
 ---&gt; bd2942ed89c3
Step 7/10 : EXPOSE 80
 ---&gt; Running in f3d522876ac2
Removing intermediate container f3d522876ac2
 ---&gt; 500594c65062
Step 8/10 : CMD echo $MYPATH
 ---&gt; Running in 1bea4dce90d5
Removing intermediate container 1bea4dce90d5
 ---&gt; be3e90ec2f97
Step 9/10 : CMD echo &quot;----end----&quot;
 ---&gt; Running in de0febf0fddd
Removing intermediate container de0febf0fddd
 ---&gt; b4a5eea0b77d
Step 10/10 : CMD /bin/bash
 ---&gt; Running in 0c77ccf511c8
Removing intermediate container 0c77ccf511c8
 ---&gt; f3fb7fd293d9
Successfully built f3fb7fd293d9
Successfully tagged mycentos:latest
[root@localhost opt]## docker images
REPOSITORY            TAG       IMAGE ID       CREATED          SIZE
mycentos              latest    f3fb7fd293d9   52 seconds ago   322MB
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>\u6D4B\u8BD5\u8FD0\u884C</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[root@localhost opt]## docker run -it f3fb7fd293d9
[root@86677a70c685 local]## pwd
/usr/local
[root@86677a70c685 local]## ifconfig
eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
        inet 172.17.0.2  netmask 255.255.0.0  broadcast 172.17.255.255
        ether 02:42:ac:11:00:02  txqueuelen 0  (Ethernet)
        RX packets 8  bytes 656 (656.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 0  bytes 0 (0.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536
        inet 127.0.0.1  netmask 255.0.0.0
        loop  txqueuelen 1000  (Local Loopback)
        RX packets 0  bytes 0 (0.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 0  bytes 0 (0.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>\u5BF9\u6BD4\uFF1A\u4E4B\u524D\u539F\u751F</li></ol><p><img src="`+H+'" alt="img"></p><p><img src="'+W+`" alt="img"></p><ol><li>\u67E5\u770B\u6211\u4EEC\u521B\u5EFA\u7684\u955C\u50CF\u7684\u6784\u5EFA\u8FC7\u7A0B</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[root@localhost opt]## docker history f3fb7fd293d9
IMAGE          CREATED         CREATED BY                                      SIZE      COMMENT
f3fb7fd293d9   4 minutes ago   /bin/sh -c #(nop)  CMD [&quot;/bin/sh&quot; &quot;-c&quot; &quot;/bin\u2026   0B
b4a5eea0b77d   4 minutes ago   /bin/sh -c #(nop)  CMD [&quot;/bin/sh&quot; &quot;-c&quot; &quot;echo\u2026   0B
be3e90ec2f97   4 minutes ago   /bin/sh -c #(nop)  CMD [&quot;/bin/sh&quot; &quot;-c&quot; &quot;echo\u2026   0B
500594c65062   4 minutes ago   /bin/sh -c #(nop)  EXPOSE 80                    0B
bd2942ed89c3   4 minutes ago   /bin/sh -c yum -y install net-tools             26.9MB
7ca5011b346f   5 minutes ago   /bin/sh -c yum -y install vim                   63.9MB
78f322ee3e4e   6 minutes ago   /bin/sh -c #(nop) WORKDIR /usr/local            0B
e9d621213b11   6 minutes ago   /bin/sh -c #(nop)  ENV MYPATH=/usr/local        0B
f2f99f49cdef   6 minutes ago   /bin/sh -c #(nop)  MAINTAINER zhangsan&lt;zhang\u2026   0B
5d0da3dc9764   2 months ago    /bin/sh -c #(nop)  CMD [&quot;/bin/bash&quot;]            0B
&lt;missing&gt;      2 months ago    /bin/sh -c #(nop)  LABEL org.label-schema.sc\u2026   0B
&lt;missing&gt;      2 months ago    /bin/sh -c #(nop) ADD file:805cb5e15fb6e0bb0\u2026   231MB
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="cmd-\u548C-entrypoint-\u533A\u522B"><a class="header-anchor" href="#cmd-\u548C-entrypoint-\u533A\u522B" aria-hidden="true">#</a> CMD \u548C ENTRYPOINT \u533A\u522B</h5><p>\u4E24\u4E2A\u90FD\u80FD\u6267\u884C\u547D\u4EE4</p><ul><li>CMD \u6307\u5B9A\u8FD9\u4E2A\u5BB9\u5668\u542F\u52A8\u7684\u65F6\u5019\u8981\u8FD0\u884C\u7684\u547D\u4EE4\uFF0C\u53EA\u6709\u6700\u540E\u4E00\u4E2A\u4F1A\u751F\u6548\uFF0C\u53EF\u88AB\u66FF\u4EE3</li><li>ENTRYPOINT \u6307\u5B9A\u8FD9\u4E2A\u5BB9\u5668\u542F\u52A8\u7684\u65F6\u5019\u8981\u8FD0\u884C\u7684\u547D\u4EE4\uFF0C\u53EF\u4EE5\u76F4\u63A5\u8FFD\u52A0\u547D\u4EE4</li></ul><p>\u6D4B\u8BD5CMD</p><p><img src="`+Y+'" alt="img"></p><p>RUN\u3001CMD \u548C ENTRYPOINT \u8FD9\u4E09\u4E2A Dockerfile \u6307\u4EE4\u770B\u4E0A\u53BB\u5F88\u7C7B\u4F3C\uFF0C\u5F88\u5BB9\u6613\u6DF7\u6DC6\u3002\u672C\u8282\u5C06\u901A\u8FC7\u5B9E\u8DF5\u8BE6\u7EC6\u8BA8\u8BBA\u5B83\u4EEC\u7684\u533A\u522B\u3002</p><p>\u7B80\u5355\u7684\u8BF4\uFF1A</p><ul><li>RUN\u547D\u4EE4\u6267\u884C\u547D\u4EE4\u5E76\u521B\u5EFA\u65B0\u7684\u955C\u50CF\u5C42\uFF0C\u901A\u5E38\u7528\u4E8E\u5B89\u88C5\u8F6F\u4EF6\u5305</li><li>CMD\u547D\u4EE4\u8BBE\u7F6E\u5BB9\u5668\u542F\u52A8\u540E\u9ED8\u8BA4\u6267\u884C\u7684\u547D\u4EE4\u53CA\u5176\u53C2\u6570\uFF0C\u4F46CMD\u8BBE\u7F6E\u7684\u547D\u4EE4\u80FD\u591F\u88ABdocker run\u547D\u4EE4\u540E\u9762\u7684\u547D\u4EE4\u884C\u53C2\u6570\u66FF\u6362</li><li>ENTRYPOINT\u914D\u7F6E\u5BB9\u5668\u542F\u52A8\u65F6\u7684\u6267\u884C\u547D\u4EE4\uFF08\u4E0D\u4F1A\u88AB\u5FFD\u7565\uFF0C\u4E00\u5B9A\u4F1A\u88AB\u6267\u884C\uFF0C\u5373\u4F7F\u8FD0\u884C docker run\u65F6\u6307\u5B9A\u4E86\u5176\u4ED6\u547D\u4EE4\uFF09</li></ul><h3 id="\u5B9E\u6218-\u5236\u4F5Ctomcat\u955C\u50CF"><a class="header-anchor" href="#\u5B9E\u6218-\u5236\u4F5Ctomcat\u955C\u50CF" aria-hidden="true">#</a> \u5B9E\u6218\uFF1A\u5236\u4F5Ctomcat\u955C\u50CF</h3><ol><li>\u51C6\u5907\u955C\u50CF\u6587\u4EF6 tomcat\u538B\u7F29\u5305\uFF0Cjdk\u7684\u538B\u7F29\u5305</li></ol><p><img src="'+K+'" alt="img"></p><ol><li>\u7F16\u5199dockerfile\u6587\u4EF6\uFF0C\u5B98\u65B9\u63A8\u8350\u547D\u540D<code>Dockerfile</code>\uFF0C\u8FD9\u6837build\u53EF\u4EE5\u4E0D\u7528\u52A0<code>-f</code>\u6307\u5B9Adockerfile\u6587\u4EF6</li></ol><p><img src="'+X+'" alt="img"></p><ol><li>\u6784\u5EFA\u955C\u50CF<code>docker build -t diytomcat .</code></li></ol><p><img src="'+Q+`" alt="img"></p><h3 id="\u53D1\u5E03\u81EA\u5DF1\u7684\u955C\u50CF"><a class="header-anchor" href="#\u53D1\u5E03\u81EA\u5DF1\u7684\u955C\u50CF" aria-hidden="true">#</a> \u53D1\u5E03\u81EA\u5DF1\u7684\u955C\u50CF</h3><h4 id="\u53D1\u5E03\u5230docker-hub"><a class="header-anchor" href="#\u53D1\u5E03\u5230docker-hub" aria-hidden="true">#</a> \u53D1\u5E03\u5230docker hub</h4><ol><li>\u5730\u5740\uFF1A<code>https://hub.docker.com/</code>\u6CE8\u518C\u81EA\u5DF1\u7684\u8D26\u53F7</li><li>\u786E\u5B9A\u8FD9\u4E2A\u8D26\u53F7\u53EF\u4EE5\u767B\u5F55\uFF0C\u5E76\u767B\u5F55</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[root@localhost opt]## docker login --help

Usage:  docker login [OPTIONS] [SERVER]

Log in to a Docker registry.
If no server is specified, the default is defined by the daemon.

Options:
  -p, --password string   Password
      --password-stdin    Take the password from stdin
  -u, --username string   Username
[root@localhost opt]## docker login -u aldencarter
Password:
WARNING! Your password will be stored unencrypted in /root/.docker/config.json.
Configure a credential helper to remove this warning. See
https://docs.docker.com/engine/reference/commandline/login/#credentials-store

Login Succeeded
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>\u5C06\u955C\u50CF\u4FEE\u6539\u6210\u79C1\u4EBA\u7684\u955C\u50CF</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[root@localhost opt]## docker tag mycentos aldencarter/mycentos
[root@localhost opt]## docker images
REPOSITORY             TAG       IMAGE ID       CREATED         SIZE
aldencarter/mycentos   latest    f3fb7fd293d9   2 hours ago     322MB
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>\u5728\u6211\u4EEC\u670D\u52A1\u5668\u4E0A\u63D0\u4EA4\u81EA\u5DF1\u7684\u955C\u50CF<code>docker push</code></li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[root@localhost opt]## docker push aldencarter/mycentos
Using default tag: latest
The push refers to repository [docker.io/aldencarter/mycentos]
d79641b58d09: Pushed
8be15870bef2: Pushed
74ddd0ec08fa: Pushed
latest: digest: sha256:fc981383bd634e7d12aba5db1aee6ea4d5bf6f75299352018c3673b79a61ed5a size: 953
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7136\u540E\u5728\u8FDC\u7A0B\u4ED3\u5E93\u5C31\u770B\u89C1\u4E86\u521A\u624Dpush\u7684\u955C\u50CF\u4E86</p><p><img src="`+Z+'" alt="img"></p><p>\u63D0\u4EA4\u7684\u65F6\u5019\u4E5F\u662F\u6309\u7167\u955C\u50CF\u7684\u5C42\u7EA7\u4E00\u5C42\u4E00\u5C42\u7684\u63D0\u4EA4\u4E0A\u53BB\u7684</p><h4 id="\u53D1\u5E03\u5230\u963F\u91CC\u4E91"><a class="header-anchor" href="#\u53D1\u5E03\u5230\u963F\u91CC\u4E91" aria-hidden="true">#</a> \u53D1\u5E03\u5230\u963F\u91CC\u4E91</h4><ol><li>\u767B\u5F55\u5230\u963F\u91CC\u4E91</li><li>\u627E\u5230\u5BB9\u5668\u955C\u50CF\u670D\u52A1</li></ol><p><img src="'+J+'" alt="img"></p><ol><li>\u521B\u5EFA\u4E00\u4E2A\u547D\u540D\u7A7A\u95F4\uFF0C\u547D\u540D\u7A7A\u95F4\u4E00\u822C\u8868\u793A\u4E00\u4E2A\u5927\u7684\u9879\u76EE</li></ol><p><img src="'+$+'" alt="img"></p><ol><li>\u521B\u5EFA\u5BB9\u5668\u955C\u50CF</li></ol><p><img src="'+nn+'" alt="img"></p><ol><li>\u6D4F\u89C8\u963F\u91CC\u4E91</li></ol><p><img src="'+sn+'" alt="img"></p><p>\u53C2\u8003\u5B98\u65B9\u6587\u6863</p><h3 id="\u5C0F\u7ED3-1"><a class="header-anchor" href="#\u5C0F\u7ED3-1" aria-hidden="true">#</a> \u5C0F\u7ED3</h3><p>docker\u7684\u5168\u6D41\u7A0B</p><p><img src="'+an+`" alt="img"></p><h2 id="\u7F51\u7EDC"><a class="header-anchor" href="#\u7F51\u7EDC" aria-hidden="true">#</a> \u7F51\u7EDC</h2><p>\u53EF\u4EE5\u505A\u5BB9\u5668\u7F16\u6392\u3001\u96C6\u7FA4\u90E8\u7F72</p><h3 id="docker0"><a class="header-anchor" href="#docker0" aria-hidden="true">#</a> docker0</h3><p>ip addr</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## ip addr</span>
<span class="token number">1</span>: lo: <span class="token operator">&lt;</span>LOOPBACK,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">65536</span> qdisc noqueue state UNKNOWN group default qlen <span class="token number">1000</span>
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet <span class="token number">127.0</span>.0.1/8 scope <span class="token function">host</span> lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope <span class="token function">host</span>
       valid_lft forever preferred_lft forever
<span class="token number">2</span>: ens33: <span class="token operator">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">1500</span> qdisc pfifo_fast state UP group default qlen <span class="token number">1000</span>
    link/ether 00:0c:29:8b:e7:2d brd ff:ff:ff:ff:ff:ff
    inet <span class="token number">172.16</span>.187.9/24 brd <span class="token number">172.16</span>.187.255 scope global noprefixroute dynamic ens33
       valid_lft 65260sec preferred_lft 65260sec
    inet6 fe80::a432:d172:c316:1696/64 scope <span class="token function">link</span> noprefixroute
       valid_lft forever preferred_lft forever
<span class="token number">3</span>: docker0: <span class="token operator">&lt;</span>NO-CARRIER,BROADCAST,MULTICAST,UP<span class="token operator">&gt;</span> mtu <span class="token number">1500</span> qdisc noqueue state DOWN group default
    link/ether 02:42:cc:36:67:59 brd ff:ff:ff:ff:ff:ff
    inet <span class="token number">172.17</span>.0.1/16 brd <span class="token number">172.17</span>.255.255 scope global docker0
       valid_lft forever preferred_lft forever
    inet6 fe80::42:ccff:fe36:6759/64 scope <span class="token function">link</span>
       valid_lft forever preferred_lft forever
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>lo \u672C\u673A\u56DE\u73AF\u5730\u5740</li><li>ens33 ip\u5730\u5740</li><li>docker0 docker\u7F51\u7EDC</li></ul><h4 id="docker\u662F\u5982\u4F55\u5904\u7406\u5BB9\u5668\u7F51\u7EDC\u8BBF\u95EE\u7684"><a class="header-anchor" href="#docker\u662F\u5982\u4F55\u5904\u7406\u5BB9\u5668\u7F51\u7EDC\u8BBF\u95EE\u7684" aria-hidden="true">#</a> docker\u662F\u5982\u4F55\u5904\u7406\u5BB9\u5668\u7F51\u7EDC\u8BBF\u95EE\u7684\uFF1F</h4><p><img src="`+en+`" alt=""></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker run -d -P --name tomcat01 tomcat</span>
Unable to <span class="token function">find</span> image <span class="token string">&#39;tomcat:latest&#39;</span> locally
latest: Pulling from library/tomcat
647acf3d48c2: Pull complete
b02967ef0034: Pull complete
e1ad2231829e: Pull complete
5576ce26bf1d: Pull complete
26518d6c686a: Pull complete
cdb1f4e0dbfd: Pull complete
1d872b5136cc: Pull complete
0b9db4d94c97: Pull complete
03ee64d25ffd: Pull complete
45a601314df9: Pull complete
Digest: sha256:93ff3bc7fb766a9bb5bb0d1f925f9d8795594d87e8365164908ddddcdaa75ff4
Status: Downloaded newer image <span class="token keyword">for</span> tomcat:latest
13536079939af86134582d61da0b2996adb586bd31a4539eeebe8c039025ad2e
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u67E5\u770B\u5BB9\u5668\u5185\u90E8\u7684\u7F51\u7EDC\u5730\u5740 ip addr\uFF08\u5982\u679C\u63D0\u793A\u8FD9\u4E2A\u4E0D\u662F\u547D\u4EE4\uFF0C\u4E0B\u9762\u6709\u89E3\u51B3\u529E\u6CD5\uFF09</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker exec -it tomcat01 ip addr</span>
<span class="token number">1</span>: lo: <span class="token operator">&lt;</span>LOOPBACK,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">65536</span> qdisc noqueue state UNKNOWN group default qlen <span class="token number">1000</span>
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet <span class="token number">127.0</span>.0.1/8 scope <span class="token function">host</span> lo
       valid_lft forever preferred_lft forever
<span class="token number">46</span>: eth0@if47: <span class="token operator">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">1500</span> qdisc noqueue state UP group default
    link/ether 02:42:ac:11:00:02 brd ff:ff:ff:ff:ff:ff link-netnsid <span class="token number">0</span>
    inet <span class="token number">172.17</span>.0.2/16 brd <span class="token number">172.17</span>.255.255 scope global eth0
       valid_lft forever preferred_lft forever
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>eth0@if47\uFF1A\u8FDE\u63A5\u5230\u5BB9\u5668\u5916\u768447\u7F51\u53E3</p><h4 id="linux\u80FD\u4E0D\u80FDping\u901A\u5BB9\u5668\u5185\u90E8"><a class="header-anchor" href="#linux\u80FD\u4E0D\u80FDping\u901A\u5BB9\u5668\u5185\u90E8" aria-hidden="true">#</a> linux\u80FD\u4E0D\u80FDping\u901A\u5BB9\u5668\u5185\u90E8</h4><p>\u53EF\u4EE5</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## ping 172.17.0.2</span>
PING <span class="token number">172.17</span>.0.2 <span class="token punctuation">(</span><span class="token number">172.17</span>.0.2<span class="token punctuation">)</span> <span class="token number">56</span><span class="token punctuation">(</span><span class="token number">84</span><span class="token punctuation">)</span> bytes of data.
<span class="token number">64</span> bytes from <span class="token number">172.17</span>.0.2: <span class="token assign-left variable">icmp_seq</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">64</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">0.056</span> ms
<span class="token number">64</span> bytes from <span class="token number">172.17</span>.0.2: <span class="token assign-left variable">icmp_seq</span><span class="token operator">=</span><span class="token number">2</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">64</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">0.050</span> ms
<span class="token number">64</span> bytes from <span class="token number">172.17</span>.0.2: <span class="token assign-left variable">icmp_seq</span><span class="token operator">=</span><span class="token number">3</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">64</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">0.046</span> ms
<span class="token number">64</span> bytes from <span class="token number">172.17</span>.0.2: <span class="token assign-left variable">icmp_seq</span><span class="token operator">=</span><span class="token number">4</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">64</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">0.055</span> ms
<span class="token number">64</span> bytes from <span class="token number">172.17</span>.0.2: <span class="token assign-left variable">icmp_seq</span><span class="token operator">=</span><span class="token number">5</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">64</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">0.052</span> ms
<span class="token number">64</span> bytes from <span class="token number">172.17</span>.0.2: <span class="token assign-left variable">icmp_seq</span><span class="token operator">=</span><span class="token number">6</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">64</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">0.051</span> ms
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u539F\u7406"><a class="header-anchor" href="#\u539F\u7406" aria-hidden="true">#</a> \u539F\u7406</h4><ol><li>\u6211\u4EEC\u6BCF\u542F\u52A8\u4E00\u4E2Adocker\u5BB9\u5668\uFF0Cdocker\u5C31\u4F1A\u7ED9docker\u5BB9\u5668\u5206\u914D\u4E00\u4E2Aip\uFF0C\u6211\u4EEC\u53EA\u8981\u5B89\u88C5\u4E86docker\uFF0C\u5C31\u4F1A\u6709\u4E00\u4E2A\u7F51\u5361docker0\uFF0C\u662F\u901A\u8FC7\u6865\u63A5\u6A21\u5F0F\u8FDE\u63A5\u5230\u7F51\u7EDC\uFF0C\u4F7F\u7528\u7684\u6280\u672F\u662Fveth-pair\u6280\u672F</li></ol><p>\u518D\u6B21\u6D4B\u8BD5ip addr</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## ip addr</span>
<span class="token number">1</span>: lo: <span class="token operator">&lt;</span>LOOPBACK,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">65536</span> qdisc noqueue state UNKNOWN group default qlen <span class="token number">1000</span>
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet <span class="token number">127.0</span>.0.1/8 scope <span class="token function">host</span> lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope <span class="token function">host</span>
       valid_lft forever preferred_lft forever
<span class="token number">2</span>: ens33: <span class="token operator">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">1500</span> qdisc pfifo_fast state UP group default qlen <span class="token number">1000</span>
    link/ether 00:0c:29:8b:e7:2d brd ff:ff:ff:ff:ff:ff
    inet <span class="token number">172.16</span>.187.9/24 brd <span class="token number">172.16</span>.187.255 scope global noprefixroute dynamic ens33
       valid_lft 62131sec preferred_lft 62131sec
    inet6 fe80::a432:d172:c316:1696/64 scope <span class="token function">link</span> noprefixroute
       valid_lft forever preferred_lft forever
<span class="token number">3</span>: docker0: <span class="token operator">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">1500</span> qdisc noqueue state UP group default
    link/ether 02:42:cc:36:67:59 brd ff:ff:ff:ff:ff:ff
    inet <span class="token number">172.17</span>.0.1/16 brd <span class="token number">172.17</span>.255.255 scope global docker0
       valid_lft forever preferred_lft forever
    inet6 fe80::42:ccff:fe36:6759/64 scope <span class="token function">link</span>
       valid_lft forever preferred_lft forever
<span class="token number">47</span>: veth4759ead@if46: <span class="token operator">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">1500</span> qdisc noqueue master docker0 state UP group default
    link/ether 1a:2f:1d:35:4a:94 brd ff:ff:ff:ff:ff:ff link-netnsid <span class="token number">0</span>
    inet6 fe80::182f:1dff:fe35:4a94/64 scope <span class="token function">link</span>
       valid_lft forever preferred_lft forever
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>47: veth4759ead@if46\uFF1A\u5BF9\u5E94\u5BB9\u5668\u4E2D\u768446\u7F51\u53E3</p><p>\u6211\u4EEC\u53D1\u73B0\u8FD9\u4E9B\u5BB9\u5668\u5E26\u6765\u7684\u7F51\u5361\uFF0C\u90FD\u662F\u4E00\u5BF9\u4E00\u5BF9\u7684</p><p>veth-pair\uFF1A\u5C31\u662F\u4E00\u5BF9\u865A\u62DF\u8BBE\u5907\u63A5\u53E3\uFF0C\u5B83\u4EEC\u90FD\u662F\u6210\u5BF9\u51FA\u73B0\u7684\uFF0C\u4E00\u7AEF\u8FDE\u7740\u534F\u8BAE\uFF0C\u4E00\u7AEF\u5F7C\u6B64\u76F8\u8FDE\uFF0C\u6B63\u56E0\u4E3A\u6709\u8FD9\u4E2A\u7279\u6027\uFF0Cevth-pair\u5C31\u53EF\u4EE5\u5145\u5F53\u7740\u6865\u6881\uFF0C\u8FDE\u63A5\u5404\u79CD\u865A\u62DF\u7F51\u7EDC\u8BBE\u5907</p><ol start="2"><li>\u6211\u4EEC\u5728\u542F\u52A8\u591A\u4E00\u4E2Atomca02\uFF0C\u53D1\u73B0\u53C8\u591A\u4E86\u4E00\u5BF9veth-pair</li><li>\u6211\u4EEC\u6765\u6D4B\u8BD5\u4E00\u4E0Btomcat01\u548Ctomcat02\u662F\u5426\u53EF\u4EE5ping\uFF0C\u53EF\u4EE5</li></ol><p><img src="`+tn+'" alt=""></p><p>\u7ED3\u8BBA\uFF1Atomcat01\u548Ctomcat02\u662F\u5171\u7528\u4E00\u4E2A\u8DEF\u7531\u5668\uFF0Cdocker0</p><p>\u6240\u6709\u7684\u5BB9\u5668\u4E0D\u6307\u5B9A\u7F51\u7EDC\u7684\u60C5\u51B5\u4E0B\uFF0C\u90FD\u662Fdocker0\u8DEF\u7531\u7684\uFF0Cdocker\u4F1A\u7ED9\u6211\u4EEC\u7684\u5BB9\u5668\u5206\u914D\u4E00\u4E2A\u9ED8\u8BA4\u7684\u53EF\u7528\u7684IP</p><p>255.255.0.1/16\uFF1A\u8868\u793A\u4F7F\u7528\u524D\u9762\u768416\u4F4D\uFF0C\u540E\u9762\u768416\u4F4D\u53EF\u4EE5\u5728\u8FD9\u4E2A\u5C40\u57DF\u7F51\u4E0B\u8FDE\u63A5\u5BB9\u5668</p><p>00000000.00000000.00000000.00000000</p><p><img src="'+on+'" alt=""></p><p>docker\u4F7F\u7528\u7684\u662Flinux\u7684\u6865\u63A5</p><p><img src="'+ln+`" alt=""></p><p>docker\u4E2D\u6240\u6709\u7684\u7F51\u7EDC\u63A5\u53E3\u90FD\u662F\u865A\u62DF\u7684\uFF0C\u865A\u62DF\u7684\u8F6C\u53D1\u7387\u9AD8</p><p>\u53EA\u8981\u5BB9\u5668\u5220\u9664\uFF0C\u5BF9\u5E94\u7684\u7F51\u6865\uFF08veth\uFF09\u5C31\u6CA1\u6709\u4E86</p><p><strong>\u5982\u679C\u51FA\u73B0\u95EE\u9898\uFF1A\u627E\u4E0D\u5230ip addr\u547D\u4EE4</strong></p><p>\u8FDB\u5165\u5BB9\u5668\uFF0C\u5B89\u88C5\u8FD9\u4E2Aip addr\u547D\u4EE4</p><ol><li>\u66F4\u6539apt-get\u6E90\u4E3A\u56FD\u5185\u6E90\uFF0C\u5C06\u539F\u672C\u7684soruces.list\u91CD\u547D\u540D\u4E3Asources.list.bak</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>root@13536079939a:/usr/local/tomcat<span class="token comment">## mv /etc/apt/sources.list /etc/apt/sources.list.bak</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li>\u641C\u7D22\u5F15\u64CE\u68C0\u7D22\u4E00\u4E0B\u56FD\u5185\u7684\u963F\u91CC\u6E90</li></ol><p>\u5927\u6982\u5C31\u662F\u8FD9\u4E2A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>deb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse

deb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse

deb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse

deb http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse

deb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8F93\u51FA\u5230sources.list\u6587\u4EF6</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>root@13536079939a:/etc/apt## echo &quot;deb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse

deb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse

deb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse

deb http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse

deb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse&quot; &gt;&gt; /etc/apt/sources.list
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>\u66F4\u65B0\u6E90</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>root@13536079939a:/etc/apt<span class="token comment">## apt-get update</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="4"><li>\u5B89\u88C5iproute2</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">apt-get</span> <span class="token function">install</span> iproute2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="link"><a class="header-anchor" href="#link" aria-hidden="true">#</a> --link</h3><p>\u601D\u8003\u4E00\u4E2A\u573A\u666F\uFF1A\u6211\u4EEC\u7F16\u5199\u4E86\u4E00\u4E2A\u5FAE\u670D\u52A1\uFF0C\u7136\u540E\u5728\u8FDE\u63A5\u6570\u636E\u5E93\u7684databas url=ip;\uFF0C\u5F53\u6570\u636E\u5E93\u7684ip\u6362\u6389\u4E86\uFF0C\u5982\u4F55\u5728\u9879\u76EE\u4E0D\u91CD\u542F\u7684\u60C5\u51B5\u4E0B\u5C06\u8FDE\u63A5\u7684\u6570\u636E\u5E93\u7684IP\u6362\u6210\u5176\u4ED6\u7684\u6570\u636E\u5E93IP\u5462\uFF1F</p><p>\u6211\u4EEC\u5E0C\u671B\u80FD\u5904\u7406\u8FD9\u4E2A\u95EE\u9898\uFF0C\u662F\u5426\u53EF\u4EE5\u901A\u8FC7\u540D\u5B57\u7684\u65B9\u5F0F\u6765\u8BBF\u95EE\u5BB9\u5668\u5462\uFF1F</p><p>tomcat01\u548Ctomcat02\u5982\u4F55\u4E0D\u662F\u901A\u8FC7IP\u7684\u65B9\u5F0F\u8FDB\u884C\u8BBF\u95EE\u5BF9\u65B9\u5462\uFF1F</p><p>\u901A\u8FC7<code>--link</code>\u53EF\u4EE5\u89E3\u51B3\u7F51\u7EDC\u8FDE\u901A\u95EE\u9898</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker run -d -P --name tomcat01 --link tomcat02 tomcat</span>
<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker exec -it tomcat01 ping tomcat02</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u601D\u8003\uFF1A\u662F\u5426\u53EF\u4EE5\u901A\u8FC7tomcat02 ping\u5230tomcat01\uFF1F\u4E0D\u80FD</p><p>\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7<code>docker network inspect</code>\u6765\u67E5\u770B\u5F53\u524D\u7684\u5BB9\u5668\u7F51\u7EDC\u8BE6\u60C5</p><p><img src="`+pn+'" alt=""></p><p><img src="'+cn+'" alt=""></p><p><img src="'+rn+'" alt=""></p><p>\u6211\u4EEC\u53EF\u4EE5\u770B\u5230\u5B83\u5176\u5B9E\u662F\u5728tomcat02\u7684host\u6587\u4EF6\u4E2D\u505A\u4E86IP\u548C\u540D\u5B57\u6620\u5C04</p><p>--link \u5176\u5B9E\u5C31\u662F\u5728\u6211\u4EEC\u7684host\u6587\u4EF6\u4E2D\u589E\u52A0\u4E86\u6620\u5C04</p><p>\u6211\u4EEC\u771F\u5B9E\u5F00\u53D1docker\u5DF2\u7ECF\u4E0D\u5EFA\u8BAE\u76F4\u63A5\u4F7F\u7528--link\u7684</p><p>\u6211\u4EEC\u8981\u4F7F\u7528\u81EA\u5B9A\u4E49\u7F51\u7EDC\uFF0C\u4E0D\u4F7F\u7528docker0</p><p>docker0\u95EE\u9898\uFF1A\u5B83\u4E0D\u652F\u6301\u5BB9\u5668\u540D\u8FDE\u63A5\u8BBF\u95EE</p><h3 id="\u81EA\u5B9A\u4E49\u7F51\u7EDC"><a class="header-anchor" href="#\u81EA\u5B9A\u4E49\u7F51\u7EDC" aria-hidden="true">#</a> \u81EA\u5B9A\u4E49\u7F51\u7EDC</h3><p>\u67E5\u770B\u6240\u6709\u7684docker\u7F51\u7EDC</p><p><img src="'+un+`" alt=""></p><h4 id="\u7F51\u7EDC\u6A21\u5F0F"><a class="header-anchor" href="#\u7F51\u7EDC\u6A21\u5F0F" aria-hidden="true">#</a> \u7F51\u7EDC\u6A21\u5F0F</h4><ul><li>bridge\uFF1A\u6865\u63A5 docker\uFF08\u9ED8\u8BA4\uFF0C\u81EA\u5DF1\u521B\u5EFA\u4E5F\u662F\u4F7F\u7528bridge\u6A21\u5F0F\uFF09</li><li>none\uFF1A\u4E0D\u914D\u7F6E\u7F51\u7EDC</li><li>host\uFF1A\u548C\u5BBF\u4E3B\u673A\u5171\u4EAB\u7F51\u7EDC</li><li>container\uFF1A\u5BB9\u5668\u7F51\u7EDC\u8FDE\u901A\uFF08\u7528\u5F97\u5C11\uFF0C\u5C40\u9650\u6027\u5F88\u5927\uFF09</li></ul><p>\u53EF\u4EE5\u901A\u8FC7<code>docker network --help</code>\u4E86\u89E3docker\u7F51\u7EDC\u76F8\u5173\u7684\u4FE1\u606F</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker network --help</span>

Usage:  <span class="token function">docker</span> network COMMAND

Manage networks

Commands:
  connect     Connect a container to a network
  create      Create a network
  disconnect  Disconnect a container from a network
  inspect     Display detailed information on one or <span class="token function">more</span> networks
  <span class="token function">ls</span>          List networks
  prune       Remove all unused networks
  <span class="token function">rm</span>          Remove one or <span class="token function">more</span> networks

Run <span class="token string">&#39;docker network COMMAND --help&#39;</span> <span class="token keyword">for</span> <span class="token function">more</span> information on a command.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u6D4B\u8BD5"><a class="header-anchor" href="#\u6D4B\u8BD5" aria-hidden="true">#</a> \u6D4B\u8BD5</h4><p>\u6211\u4EEC\u4E4B\u524D\u76F4\u63A5\u542F\u52A8\u7684\u547D\u4EE4\uFF0C\u5982\u679C\u4E0D\u914D\u7F6E\u7F51\u7EDC\u4FE1\u606F\uFF0C\u9ED8\u8BA4\u4F1A\u4F7F\u7528\u6865\u63A5\u6A21\u5F0F<code>--net bridge</code>\uFF0C\u5C31\u662F\u4F7F\u7528docker0\u4F5C\u4E3A\u6865\u63A5</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> run -d -P --name tomcat01 --net bridge tomcat

<span class="token comment">## \u4E5F\u5C31\u662F\u8BF4\uFF0C\u5982\u679C\u6211\u4EEC\u81EA\u5B9A\u4E49\u7F51\u7EDC\uFF0C\u4E4B\u540E\u5C31\u53EF\u4EE5\u901A\u8FC7\u8FD9\u4E2A\u914D\u7F6E\u6539\u6210\u6211\u4EEC\u7684\u81EA\u5B9A\u4E49\u7F51\u7EDC</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>docker0\uFF08bridge\uFF09\u7684\u7279\u70B9\uFF1A</p><ul><li>\u9ED8\u8BA4\u7684\uFF0C\u57DF\u540D\uFF08\u522B\u540D\uFF09\u4E0D\u80FD\u8BBF\u95EE</li><li>--link\u53EF\u4EE5\u6253\u901A\u8FDE\u63A5</li></ul><p>\u53EF\u4EE5\u901A\u8FC7<code>docker network create --help</code>\u4E86\u89E3\u5230\u521B\u5EFA\u7F51\u7EDC\u76F8\u5173\u7684\u4FE1\u606F</p><p>\u521B\u5EFA\u81EA\u5B9A\u4E49\u7F51\u7EDC</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">## --driver bridge \u8BBE\u7F6E\u4E3A\u6865\u63A5\u6A21\u5F0F</span>
<span class="token comment">## --subnet 192.168.0.0/16 \u8BBE\u7F6E\u5B50\u7F51\uFF0C192.168.0.1~192.168.255.255</span>
<span class="token comment">## --gateway 192.168.0.1 \u8BBE\u7F6E\u7F51\u5173</span>
<span class="token comment">## mynet \u81EA\u5B9A\u4E49\u7F51\u7EDC\u7684\u540D\u5B57</span>
<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker network create --driver bridge --subnet 172.17.0.0/16 --gateway 172.17.0.1 mynet</span>
1c546014524d480702e962186ce632c8240c9d13b885c650329299d96c714891
<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker network ls</span>
NETWORK ID     NAME      DRIVER    SCOPE
dffddc9735f5   bridge    bridge    <span class="token builtin class-name">local</span>
3793140c9b61   <span class="token function">host</span>      <span class="token function">host</span>      <span class="token builtin class-name">local</span>
1c546014524d   mynet     bridge    <span class="token builtin class-name">local</span>
f5ece4249811   none      null      <span class="token builtin class-name">local</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u67E5\u770B\u81EA\u5DF1\u7684\u5B9A\u4E49\u7684\u7F51\u7EDC\u4FE1\u606F\uFF0C\u81EA\u5DF1\u7684\u7F51\u7EDC\u5C31\u914D\u7F6E\u597D\u4E86</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker network inspect 1c546014524d</span>
<span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token string">&quot;Name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;mynet&quot;</span>,
        <span class="token string">&quot;Id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;1c546014524d480702e962186ce632c8240c9d13b885c650329299d96c714891&quot;</span>,
        <span class="token string">&quot;Created&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;2021-12-01T20:24:34.408890969+08:00&quot;</span>,
        <span class="token string">&quot;Scope&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;local&quot;</span>,
        <span class="token string">&quot;Driver&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;bridge&quot;</span>,
        <span class="token string">&quot;EnableIPv6&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;IPAM&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;Driver&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;default&quot;</span>,
            <span class="token string">&quot;Options&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>,
            <span class="token string">&quot;Config&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token string">&quot;Subnet&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;172.17.0.0/16&quot;</span>,
                    <span class="token string">&quot;Gateway&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;172.17.0.1&quot;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;Internal&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;Attachable&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;Ingress&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;ConfigFrom&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;Network&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;ConfigOnly&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;Containers&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>,
        <span class="token string">&quot;Options&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>,
        <span class="token string">&quot;Labels&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker network inspect 1c546014524d</span>
<span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token string">&quot;Name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;mynet&quot;</span>,
        <span class="token string">&quot;Id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;1c546014524d480702e962186ce632c8240c9d13b885c650329299d96c714891&quot;</span>,
        <span class="token string">&quot;Created&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;2021-12-01T20:24:34.408890969+08:00&quot;</span>,
        <span class="token string">&quot;Scope&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;local&quot;</span>,
        <span class="token string">&quot;Driver&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;bridge&quot;</span>,
        <span class="token string">&quot;EnableIPv6&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;IPAM&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;Driver&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;default&quot;</span>,
            <span class="token string">&quot;Options&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>,
            <span class="token string">&quot;Config&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token string">&quot;Subnet&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;172.17.0.0/16&quot;</span>,
                    <span class="token string">&quot;Gateway&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;172.17.0.1&quot;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;Internal&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;Attachable&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;Ingress&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;ConfigFrom&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;Network&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;ConfigOnly&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;Containers&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;8109e35199be3bebccdcb0dded37f1e15fb90db37aa8e482a2259be29d587043&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
                <span class="token string">&quot;Name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;tomcat-net-01&quot;</span>,
                <span class="token string">&quot;EndpointID&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;4be7e5cc7ca3e7ea076a246b446f73cb8e1908f3c6aa29254a0508f555ee8587&quot;</span>,
                <span class="token string">&quot;MacAddress&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;02:42:c0:a8:00:02&quot;</span>,
                <span class="token string">&quot;IPv4Address&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;172.17.0.2/16&quot;</span>,
                <span class="token string">&quot;IPv6Address&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>
            <span class="token punctuation">}</span>,
            <span class="token string">&quot;cfede6db4b4d8ea4f36debea74d6d4387a84b80484013eee0b9958246bc26009&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
                <span class="token string">&quot;Name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;tomcat-net-02&quot;</span>,
                <span class="token string">&quot;EndpointID&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;01f30e416b90760a21f5f479120c27f9939233606391fc342808df973091d799&quot;</span>,
                <span class="token string">&quot;MacAddress&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;02:42:c0:a8:00:03&quot;</span>,
                <span class="token string">&quot;IPv4Address&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;172.17.0.3/16&quot;</span>,
                <span class="token string">&quot;IPv6Address&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;Options&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>,
        <span class="token string">&quot;Labels&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u901A\u8FC7ip ping tomcat-net-02\u53EF\u4EE5ping\u901A</p><p><img src="`+dn+'" alt=""></p><p>\u901A\u8FC7tomcat-net-02 ping tomcat-net-02\u4E5F\u53EF\u4EE5ping\u901A</p><p><img src="'+mn+'" alt=""></p><p>\u6211\u4EEC\u81EA\u5B9A\u4E49\u7684\u7F51\u7EDC\uFF0Cdocker\u90FD\u5DF2\u7ECF\u5E2E\u6211\u4EEC\u7EF4\u62A4\u597D\u4E86\u5BF9\u5E94\u7684\u5173\u7CFB\uFF0C\u63A8\u8350\u6211\u4EEC\u5E73\u65F6\u8FD9\u6837\u4F7F\u7528\u7F51\u7EDC</p><p>\u597D\u5904\uFF1A</p><ul><li>\u5728\u96C6\u7FA4\u4E0A\uFF0C\u4E0D\u540C\u7684\u96C6\u7FA4\u4F7F\u7528\u4E0D\u540C\u7684\u7F51\u7EDC\uFF0C\u4FDD\u8BC1\u96C6\u7FA4\u662F\u5B89\u5168\u548C\u5065\u5EB7\u7684\uFF08redis\u96C6\u7FA4\u3001MySQL\u96C6\u7FA4\uFF09</li></ul><h3 id="\u7F51\u7EDC\u8FDE\u901A"><a class="header-anchor" href="#\u7F51\u7EDC\u8FDE\u901A" aria-hidden="true">#</a> \u7F51\u7EDC\u8FDE\u901A</h3><p><img src="'+kn+'" alt=""></p><p><img src="'+vn+'" alt=""></p><p>\u53EF\u4EE5\u901A\u8FC7connect\u547D\u4EE4\u5C06\u4E00\u4E2A\u5BB9\u5668\u8FDE\u63A5\u5230\u4E00\u4E2A\u7F51\u7EDC</p><p><img src="'+bn+`" alt=""></p><p>\u6D4B\u8BD5\u6253\u901A tomcat01 \u5230 mynet</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> network connect mynet tomcat01
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u901A\u8FC7<code>docker network inspect mynet</code>\u67E5\u770Bmynet\u7684\u7F51\u7EDC\u4FE1\u606F</p><p><img src="`+gn+'" alt=""></p><p>\u8FDE\u901A\u4E4B\u540E\u5C31\u662F\u5C06tomcat01\u6DFB\u52A0\u5230\u4E86mynet\u7684\u8DEF\u7531\uFF0C\u5B98\u65B9\u7684\u53EB\u505A\uFF1A\u4E00\u4E2A\u5BB9\u5668\u4E24\u4E2Aip\u5730\u5740\uFF0C\u5C31\u50CF\u963F\u91CC\u4E91\u7684\u670D\u52A1\u5668\uFF0C\u4E00\u4E2A\u516C\u7F51IP\u4E00\u4E2A\u79C1\u7F51IP</p><p><img src="'+hn+'" alt=""></p><p>\u80FDping\u901A</p><p>\u7ED3\u8BBA\uFF1A\u5047\u8BBE\u8981\u8DE8\u7F51\u7EDC\u64CD\u4F5C\u522B\u4EBA\uFF0C\u5C31\u9700\u8981\u4F7F\u7528docker network connect\u8FDE\u901A</p><h3 id="\u5B9E\u6218-redis\u96C6\u7FA4\u90E8\u7F72"><a class="header-anchor" href="#\u5B9E\u6218-redis\u96C6\u7FA4\u90E8\u7F72" aria-hidden="true">#</a> \u5B9E\u6218\uFF1ARedis\u96C6\u7FA4\u90E8\u7F72</h3><p><img src="'+fn+'" alt=""></p><ul><li>\u4E09\u4E3B\u4E09\u4ECE</li><li>\u53EA\u8981\u5176\u4E2D\u4E00\u4E2Amaster redis\u6302\u6389\u4E86\uFF0Cslave redis\u5C31\u8981\u6210\u4E3Amaster redis</li></ul><p>\u90A3\u4E48\u5C31\u8981\u542F\u52A86\u4E2A\u5BB9\u5668\uFF0C\u4E00\u4E2A\u4E2A\u542F\u52A8\u592A\u6162\u4E86\uFF0C\u5199\u4E2Ashell\u811A\u672C</p><ol><li>\u4E3A\u4E86\u7F51\u7EDC\u5B89\u5168\uFF0C\u521B\u5EFA\u4E00\u4E2A\u7F51\u5361</li></ol><p><img src="'+qn+'" alt=""></p><ol start="2"><li>\u901A\u8FC7\u811A\u672C\u521B\u5EFA6\u4E2ARedis\u914D\u7F6E</li></ol><p><img src="'+xn+'" alt=""></p><ol start="3"><li>\u542F\u52A8</li></ol><p>redis-1</p><p><img src="'+yn+'" alt=""></p><p>redis-2</p><p><img src="'+wn+'" alt=""></p><p>redis-3</p><p><img src="'+_n+'" alt=""></p><p>redis-4</p><p><img src="'+Dn+'" alt=""></p><p>redis-5</p><p><img src="'+Nn+'" alt=""></p><p>redis-6</p><p><img src="'+Sn+'" alt=""></p><ol start="4"><li>\u521B\u5EFA\u96C6\u7FA4</li></ol><p>\u8FDB\u5165\u5BB9\u5668</p><p>\u521B\u5EFA\u96C6\u7FA4</p><p><img src="'+An+'" alt=""></p><p><img src="'+In+'" alt=""></p><ol start="5"><li>\u96C6\u7FA4\u6D4B\u8BD5</li></ol><p><img src="'+Rn+'" alt=""></p><p><img src="'+On+'" alt=""></p><p><img src="'+Tn+'" alt=""></p><p>\u5982\u679C\u6211\u4EEC\u6D4B\u8BD5\u5C0613\u5173\u95ED\uFF0C\u90A3\u4E4814\u5C31\u4F1A\u6210\u4E3Amaster</p><p><img src="'+En+`" alt=""></p><p>\u6211\u4EEC\u4F7F\u7528\u96C6\u7FA4\u7684\u4E4B\u540E\uFF0C\u6240\u6709\u7684\u6280\u672F\u90FD\u4F1A\u6162\u6162\u53D8\u5F97\u7B80\u5355</p><h2 id="springboot\u5FAE\u670D\u52A1\u6253\u5305docker\u955C\u50CF"><a class="header-anchor" href="#springboot\u5FAE\u670D\u52A1\u6253\u5305docker\u955C\u50CF" aria-hidden="true">#</a> springboot\u5FAE\u670D\u52A1\u6253\u5305docker\u955C\u50CF</h2><ol><li>\u6784\u5EFAspringboot\u9879\u76EE</li></ol><p>\u6B63\u5E38\u901A\u8FC7idea\u521B\u5EFAspringboot\u9879\u76EE\uFF0C\u52FE\u9009 spring web\u6D4B\u8BD5\u4E00\u4E0B\u5C31\u597D\u4E86</p><p>\u5199\u4E00\u4E2AController\uFF0C\u81EA\u6D4B\u4E00\u4E0B</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloController</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;hello world&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+Pn+'" alt=""></p><ol start="2"><li>\u6253\u5305\u5E94\u7528</li></ol><p><img src="'+Cn+'" alt=""></p><p><img src="'+Mn+'" alt=""></p><ol start="3"><li>\u7F16\u5199dockerfile</li></ol><p>idea\u4E2D\u5B89\u88C5\u4E00\u4E2A\u63D2\u4EF6</p><p><img src="'+Ln+'" alt=""></p><p>\u5B89\u88C5\u8FD9\u4E2A\u63D2\u4EF6\u4E4B\u540E\uFF0C\u7F16\u5199dockerfile\u4F1A\u9AD8\u4EAE\u63D0\u793A</p><p><img src="'+jn+`" alt=""></p><p>\u5C06target\u4E2D\u7684jar\u5305\u62F7\u8D1D\u5230\u9879\u76EE\u6839\u76EE\u5F55</p><p>\u7F16\u5199Dockerfile</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>FROM java:8

COPY *.jar /app.jar

CMD <span class="token punctuation">[</span><span class="token string">&quot;--server.port=8080&quot;</span><span class="token punctuation">]</span>

EXPOSE <span class="token number">8080</span>

ENTRYPOINT <span class="token punctuation">[</span><span class="token string">&quot;java&quot;</span>,<span class="token string">&quot;-jar&quot;</span>,<span class="token string">&quot;/app.jar&quot;</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E0A\u4F20\u5230\u670D\u52A1\u5668</p><p><img src="`+Un+`" alt=""></p><p>\u67E5\u770B\u4E00\u4E0B</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost idea<span class="token punctuation">]</span><span class="token comment">## ll</span>
\u603B\u7528\u91CF <span class="token number">17208</span>
-rw-r--r--. <span class="token number">1</span> root root      <span class="token number">112</span> <span class="token number">12</span>\u6708  <span class="token number">1</span> <span class="token number">21</span>:55 Dockerfile
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">17615742</span> <span class="token number">12</span>\u6708  <span class="token number">1</span> <span class="token number">21</span>:55 springboot-docker-test-0.0.1-SNAPSHOT.jar
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>\u6784\u5EFA\u955C\u50CF</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost idea<span class="token punctuation">]</span><span class="token comment">## docker build -t springboot-docker-test .</span>
Sending build context to Docker daemon  <span class="token number">17</span>.62MB
Step <span class="token number">1</span>/5 <span class="token builtin class-name">:</span> FROM java:8
<span class="token number">8</span>: Pulling from library/java
5040bd298390: Pull complete
fce5728aad85: Pull complete
76610ec20bf5: Pull complete
60170fec2151: Pull complete
e98f73de8f0d: Pull complete
11f7af24ed9c: Pull complete
49e2d6393f32: Pull complete
bb9cdec9c7f3: Pull complete
Digest: sha256:c1ff613e8ba25833d2e1940da0940c3824f03f802c449f3d1815a66b7f8c0e9d
Status: Downloaded newer image <span class="token keyword">for</span> java:8
 ---<span class="token operator">&gt;</span> d23bdf5b1b1b
Step <span class="token number">2</span>/5 <span class="token builtin class-name">:</span> COPY *.jar /app.jar
 ---<span class="token operator">&gt;</span> d0f78db7d58e
Step <span class="token number">3</span>/5 <span class="token builtin class-name">:</span> CMD <span class="token punctuation">[</span><span class="token string">&quot;--server.port=8080&quot;</span><span class="token punctuation">]</span>
 ---<span class="token operator">&gt;</span> Running <span class="token keyword">in</span> d10314b279e3
Removing intermediate container d10314b279e3
 ---<span class="token operator">&gt;</span> bb3cbc867291
Step <span class="token number">4</span>/5 <span class="token builtin class-name">:</span> EXPOSE <span class="token number">8080</span>
 ---<span class="token operator">&gt;</span> Running <span class="token keyword">in</span> fd241ea8df01
Removing intermediate container fd241ea8df01
 ---<span class="token operator">&gt;</span> e750cd57c83c
Step <span class="token number">5</span>/5 <span class="token builtin class-name">:</span> ENTRYPOINT <span class="token punctuation">[</span><span class="token string">&quot;java&quot;</span>,<span class="token string">&quot;-jar&quot;</span>,<span class="token string">&quot;/app.jar&quot;</span><span class="token punctuation">]</span>
 ---<span class="token operator">&gt;</span> Running <span class="token keyword">in</span> 84080e2e9c12
Removing intermediate container 84080e2e9c12
 ---<span class="token operator">&gt;</span> ffc793f69fe5
Successfully built ffc793f69fe5
Successfully tagged springboot-docker-test:latest
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost idea<span class="token punctuation">]</span><span class="token comment">## docker images</span>
REPOSITORY               TAG       IMAGE ID       CREATED          SIZE
springboot-docker-test   latest    ffc793f69fe5   <span class="token number">13</span> minutes ago   661MB
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="5"><li>\u53D1\u5E03\u8FD0\u884C</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost idea<span class="token punctuation">]</span><span class="token comment">## docker run -d -P --name springboot-docker-test-01 ffc793f69fe5</span>
a0208bb7d908cb7f8068717104ea3e88ea204bc767b027ef7a09f42da9cffaf2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="6"><li>\u8BBF\u95EE\u6D4B\u8BD5</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost idea<span class="token punctuation">]</span><span class="token comment">## curl 172.17.0.2:8080/hello</span>
hello world
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6216\u8005\u662F\u76F4\u63A5\u901A\u8FC7\u8BBF\u95EE<code>localhost:49156/hello</code>\u8FDB\u884C\u8BBF\u95EE</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost idea<span class="token punctuation">]</span><span class="token comment">## docker ps</span>
CONTAINER ID   IMAGE          COMMAND                  CREATED         STATUS         PORTS                                         NAMES
a0208bb7d908   ffc793f69fe5   <span class="token string">&quot;java -jar /app.jar \u2026&quot;</span>   <span class="token number">2</span> minutes ago   Up <span class="token number">2</span> minutes   <span class="token number">0.0</span>.0.0:49156-<span class="token operator">&gt;</span><span class="token number">8080</span>/tcp, :::49156-<span class="token operator">&gt;</span><span class="token number">8080</span>/tcp   springboot-docker-test-01
<span class="token punctuation">[</span>root@localhost idea<span class="token punctuation">]</span><span class="token comment">## curl localhost:49156/hello</span>
hello world
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4EE5\u540E\u6211\u4EEC\u4F7F\u7528\u4E86docker\u4E4B\u540E\uFF0C\u7ED9\u522B\u4EBA\u4EA4\u4ED8\u7684\u5C31\u662F\u4E00\u4E2A\u955C\u50CF\u5373\u53EF</p><p>\u5982\u679C\u6709\u5F88\u591A\u7684\u955C\u50CF\uFF0C\u8FD9\u4E48\u591A\u955C\u50CF\u5982\u4F55\u7EF4\u62A4\u5462\uFF1F\u540E\u9762\u7684Docker Compose \u548CDocker Swarm</p><h2 id="docker-compose"><a class="header-anchor" href="#docker-compose" aria-hidden="true">#</a> Docker Compose</h2><h3 id="\u7B80\u4ECB"><a class="header-anchor" href="#\u7B80\u4ECB" aria-hidden="true">#</a> \u7B80\u4ECB</h3><p>\u4EE5\u524D\u4F7F\u7528\u4F7F\u7528docker\u90FD\u662F\u4F7F\u7528dockerfile \u4E4B\u540E\u4F7F\u7528docker build\u751F\u6210\u4E00\u4E2A\u955C\u50CF\uFF0C\u901A\u8FC7run\u53BB\u6267\u884C\uFF0C\u8FD9\u4E9B\u5168\u90E8\u4E0D\u90FD\u662F\u624B\u52A8\u64CD\u4F5C\uFF0C\u6BD4\u8F83\u9EBB\u70E6</p><p>\u6211\u4EEC\u60F3\u8981\u7684\u6548\u679C\u662F\uFF1A\u5FAE\u670D\u52A1100\u4E2A\u662F\u4E0D\u662F\u8981\u542F\u52A8100\u4E2A\u9879\u76EE\uFF0C\u5C31\u9700\u8981\u542F\u52A8100\u4E2A\u5BB9\u5668\uFF0C\u6BCF\u4E00\u4E2A\u90FD\u9700\u8981\u7F16\u5199\u4E00\u4E2Adockerfile\u7136\u540E\u53BBbuild\u4E4B\u540Erun\uFF0C\u975E\u5E38\u9EBB\u70E6\uFF0C\u800C\u4E14100\u4E2A\u670D\u52A1\u4E4B\u95F4\u8FD8\u5B58\u5728\u4E92\u76F8\u4F9D\u8D56\uFF0C\u6BD4\u8F83\u9EBB\u70E6</p><p>\u8FD9\u4E2A\u65F6\u5019docker compose\u5C31\u53EF\u4EE5\u6765\u9AD8\u6548\u7684\u7BA1\u7406\u5BB9\u5668\uFF0C\u5B9A\u4E49\u548C\u7BA1\u7406\u591A\u4E2A\u5BB9\u5668</p><p>k8s\u7684\u63CF\u8FF0\u6587\u4EF6\u4E5F\u9700\u8981\u4F7F\u7528\u5230docker compose\u6765\u7BA1\u7406</p><p>\u5B98\u65B9\u4ECB\u7ECD\uFF1A</p><blockquote><p>Compose is a tool for defining and running multi-container Docker applications. With Compose, you use a YAML file to configure your application\u2019s services. Then, with a single command, you create and start all the services from your configuration. To learn more about all the features of Compose, see the list of features.</p><p>Compose works in all environments: production, staging, development, testing, as well as CI workflows. You can learn more about each case in Common Use Cases.</p><p>Using Compose is basically a three-step process:</p><ol><li><p>Define your app\u2019s environment with a Dockerfile so it can be reproduced anywhere.</p></li><li><p>Define the services that make up your app in docker-compose.yml so they can be run together in an isolated environment.</p></li><li><p>Run docker compose up and the Docker compose command starts and runs your entire app. You can alternatively run docker-compose up using the docker-compose binary.</p></li></ol></blockquote><p>\u7FFB\u8BD1\uFF1A</p><blockquote><p>Compose \u662F\u4E00\u4E2A\u7528\u4E8E\u5B9A\u4E49\u548C\u8FD0\u884C\u591A\u5BB9\u5668 Docker \u5E94\u7528\u7A0B\u5E8F\u7684\u5DE5\u5177\u3002\u501F\u52A9 Compose\uFF0C\u60A8\u53EF\u4EE5\u4F7F\u7528 YAML \u6587\u4EF6\u6765\u914D\u7F6E\u5E94\u7528\u7A0B\u5E8F\u7684\u670D\u52A1\u3002\u7136\u540E\uFF0C\u4F7F\u7528\u5355\u4E2A\u547D\u4EE4\uFF0C\u4ECE\u914D\u7F6E\u4E2D\u521B\u5EFA\u5E76\u542F\u52A8\u6240\u6709\u670D\u52A1\u3002\u8981\u4E86\u89E3\u6709\u5173 Compose \u7684\u6240\u6709\u529F\u80FD\u7684\u66F4\u591A\u4FE1\u606F\uFF0C\u8BF7\u53C2\u9605\u529F\u80FD\u5217\u8868\u3002</p><p>Compose \u9002\u7528\u4E8E\u6240\u6709\u73AF\u5883\uFF1A\u751F\u4EA7\u3001\u767B\u53F0\u3001\u5F00\u53D1\u3001\u6D4B\u8BD5\u4EE5\u53CA CI \u5DE5\u4F5C\u6D41\u3002\u60A8\u53EF\u4EE5\u5728\u5E38\u89C1\u7528\u4F8B\u4E2D\u4E86\u89E3\u6709\u5173\u6BCF\u4E2A\u6848\u4F8B\u7684\u66F4\u591A\u4FE1\u606F\u3002</p><p>\u4F7F\u7528 Compose \u57FA\u672C\u4E0A\u662F\u4E00\u4E2A\u4E09\u6B65\u8FC7\u7A0B\uFF1A</p><ol><li><p>\u4F7F\u7528 Dockerfile \u5B9A\u4E49\u5E94\u7528\u7A0B\u5E8F\u7684\u73AF\u5883\uFF0C\u4EE5\u4FBF\u5B83\u53EF\u4EE5\u5728\u4EFB\u4F55\u5730\u65B9\u590D\u5236\u3002</p></li><li><p>\u5728 docker-compose.yml \u4E2D\u5B9A\u4E49\u7EC4\u6210\u60A8\u7684\u5E94\u7528\u7A0B\u5E8F\u7684\u670D\u52A1\uFF0C\u4EE5\u4FBF\u5B83\u4EEC\u53EF\u4EE5\u5728\u9694\u79BB\u7684\u73AF\u5883\u4E2D\u4E00\u8D77\u8FD0\u884C\u3002</p></li><li><p>\u8FD0\u884C <code>docker compose up</code>\uFF0C<code>Docker compose command</code> \u547D\u4EE4\u542F\u52A8\u5E76\u8FD0\u884C\u6574\u4E2A\u5E94\u7528\u7A0B\u5E8F\u3002\u60A8\u4E5F\u53EF\u4EE5\u4F7F\u7528 <code>docker-compose up</code> \u4E8C\u8FDB\u5236\u6587\u4EF6\u8FD0\u884C\u3002</p></li></ol></blockquote><p>\u4F5C\u7528\uFF1A\u6279\u91CF\u7F16\u6392\u5BB9\u5668</p><p>Compose \u662Fdocker\u5B98\u65B9\u7684\u5F00\u6E90\u9879\u76EE\uFF0C\u9700\u8981\u5B89\u88C5</p><p>dockerfile\u8BA9\u7A0B\u5E8F\u5728\u4EFB\u4F55\u5730\u65B9\u8FD0\u884C</p><p>yaml\u6587\u4EF6\u793A\u4F8B\uFF1A</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;3.9&quot;</span>  <span class="token comment">## optional since v1.27.0</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">web</span><span class="token punctuation">:</span>
    <span class="token key atrule">build</span><span class="token punctuation">:</span> .
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;5000:5000&quot;</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> .<span class="token punctuation">:</span>/code
      <span class="token punctuation">-</span> logvolume01<span class="token punctuation">:</span>/var/log
    <span class="token key atrule">links</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> redis
  <span class="token key atrule">redis</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> redis
<span class="token key atrule">volumes</span><span class="token punctuation">:</span>
  <span class="token key atrule">logvolume01</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u901A\u8FC7\u914D\u7F6E\u6587\u4EF6\u4E00\u952E\u542F\u52A8</p><p>compose\u91CD\u8981\u7684\u6982\u5FF5\uFF1A</p><ul><li>\u670D\u52A1services\uFF1A\u8BF4\u767D\u4E86\u5C31\u662F\u4E00\u4E2A\u5BB9\u5668\uFF0C\u4E00\u4E2A\u5E94\u7528\uFF08web\u5E94\u7528\u3001Redis\u5E94\u7528\uFF09\u7684\u6574\u5408</li><li>\u9879\u76EEproject\uFF1A\u4E00\u7EC4\u5173\u8054\u7684\u5BB9\u5668</li></ul><h3 id="\u5B89\u88C5-2"><a class="header-anchor" href="#\u5B89\u88C5-2" aria-hidden="true">#</a> \u5B89\u88C5</h3><p>\u5B83\u5C31\u662F\u4E00\u4E2A\u4E8C\u8FDB\u5236\u53EF\u6267\u884C\u6587\u4EF6\uFF0C\u653E\u5728/usr/local/bin\u4E0B\u5C31\u53EF\u4EE5\u5168\u5C40\u53BB\u7528</p><ol><li>\u4E0B\u8F7D</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">curl</span> -L <span class="token string">&quot;https://github.com/docker/compose/releases/download/1.29.2/docker-compose-<span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> -s<span class="token variable">)</span></span>-<span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> -m<span class="token variable">)</span></span>&quot;</span> -o /usr/local/bin/docker-compose

<span class="token comment">## \u56FD\u5185\u955C\u50CF</span>
<span class="token function">sudo</span> <span class="token function">curl</span> -L https://get.daocloud.io/docker/compose/releases/download/1.25.5/docker-compose-<span class="token variable"><span class="token variable">\`</span><span class="token function">uname</span> -s<span class="token variable">\`</span></span>-<span class="token variable"><span class="token variable">\`</span><span class="token function">uname</span> -m<span class="token variable">\`</span></span> <span class="token operator">&gt;</span> /usr/local/bin/docker-compose
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>\u7ED9\u4E0B\u8F7D\u7684\u6587\u4EF6\u6388\u6743</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">chmod</span> +x /usr/local/bin/docker-compose
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="3"><li>\u6267\u884C\u67E5\u770Bdocker compose \u7684\u7248\u672C\u53F7</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker-compose</span> --version
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost bin<span class="token punctuation">]</span><span class="token comment">## docker-compose --version</span>
<span class="token function">docker-compose</span> version <span class="token number">1.25</span>.5, build 8a1c60f6
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u4F53\u9A8C"><a class="header-anchor" href="#\u4F53\u9A8C" aria-hidden="true">#</a> \u4F53\u9A8C</h3><p>\u5B98\u65B9\u5FEB\u901F\u5F00\u59CB\u4F53\u9A8C\uFF1Ahttps://docs.docker.com/compose/gettingstarted/</p><ol><li>\u5E94\u7528</li><li>dockerfile\u5E94\u7528\u6253\u5305\u4E3A\u955C\u50CF\uFF08\u5355\u673A\u73A9\u5177\uFF09</li><li>dockerfile-compose.yaml\u6587\u4EF6\uFF08\u5B9A\u4E49\u6574\u4E2A\u5E94\u7528\u7684\u670D\u52A1\uFF0C\u9700\u8981\u7684\u73AF\u5883\uFF0Cweb\u3001redis\uFF09\u5B8C\u6574\u7684\u4E0A\u7EBF\u670D\u52A1</li><li>\u542F\u52A8compose\u9879\u76EE<code>docker-compose up</code></li></ol><p>\u6D41\u7A0B</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost composetest<span class="token punctuation">]</span><span class="token comment">## docker-compose up</span>
Creating network <span class="token string">&quot;composetest_default&quot;</span> with the default driver
Building web
Step <span class="token number">1</span>/10 <span class="token builtin class-name">:</span> FROM python:3.7-alpine
<span class="token number">3.7</span>-alpine: Pulling from library/python
59bf1c3509f3: Pull complete
8786870f2876: Pull complete
45d4696938d0: Pull complete
ef84af58b2c5: Pull complete
c3c9b71b9a69: Pull complete
Digest: sha256:d64e0124674d64e78cc9d7378a1130499ced66a7a00db0521d0120a2e88ac9e4
Status: Downloaded newer image <span class="token keyword">for</span> python:3.7-alpine
 ---<span class="token operator">&gt;</span> a1034fd13493
Step <span class="token number">2</span>/10 <span class="token builtin class-name">:</span> WORKDIR /code
 ---<span class="token operator">&gt;</span> Running <span class="token keyword">in</span> faec68c4ae6b
Removing intermediate container faec68c4ae6b
 ---<span class="token operator">&gt;</span> 74cfe26e3734
Step <span class="token number">3</span>/10 <span class="token builtin class-name">:</span> ENV <span class="token assign-left variable">FLASK_APP</span><span class="token operator">=</span>app.py
 ---<span class="token operator">&gt;</span> Running <span class="token keyword">in</span> 95d5e0bf2356
Removing intermediate container 95d5e0bf2356
 ---<span class="token operator">&gt;</span> a488d9e28f25
Step <span class="token number">4</span>/10 <span class="token builtin class-name">:</span> ENV <span class="token assign-left variable">FLASK_RUN_HOST</span><span class="token operator">=</span><span class="token number">0.0</span>.0.0
 ---<span class="token operator">&gt;</span> Running <span class="token keyword">in</span> 392b4d46904e
Removing intermediate container 392b4d46904e
 ---<span class="token operator">&gt;</span> fee1998a8360
Step <span class="token number">5</span>/10 <span class="token builtin class-name">:</span> RUN apk <span class="token function">add</span> --no-cache gcc musl-dev linux-headers
 ---<span class="token operator">&gt;</span> Running <span class="token keyword">in</span> 82abea5f21d4
fetch https://dl-cdn.alpinelinux.org/alpine/v3.15/main/x86_64/APKINDEX.tar.gz
fetch https://dl-cdn.alpinelinux.org/alpine/v3.15/community/x86_64/APKINDEX.tar.gz
<span class="token punctuation">(</span><span class="token number">1</span>/13<span class="token punctuation">)</span> Installing libgcc <span class="token punctuation">(</span><span class="token number">10.3</span>.1_git20211027-r0<span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">2</span>/13<span class="token punctuation">)</span> Installing libstdc++ <span class="token punctuation">(</span><span class="token number">10.3</span>.1_git20211027-r0<span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">3</span>/13<span class="token punctuation">)</span> Installing binutils <span class="token punctuation">(</span><span class="token number">2.37</span>-r3<span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">4</span>/13<span class="token punctuation">)</span> Installing libgomp <span class="token punctuation">(</span><span class="token number">10.3</span>.1_git20211027-r0<span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">5</span>/13<span class="token punctuation">)</span> Installing libatomic <span class="token punctuation">(</span><span class="token number">10.3</span>.1_git20211027-r0<span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">6</span>/13<span class="token punctuation">)</span> Installing libgphobos <span class="token punctuation">(</span><span class="token number">10.3</span>.1_git20211027-r0<span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">7</span>/13<span class="token punctuation">)</span> Installing gmp <span class="token punctuation">(</span><span class="token number">6.2</span>.1-r0<span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">8</span>/13<span class="token punctuation">)</span> Installing isl22 <span class="token punctuation">(</span><span class="token number">0.22</span>-r0<span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">9</span>/13<span class="token punctuation">)</span> Installing mpfr4 <span class="token punctuation">(</span><span class="token number">4.1</span>.0-r0<span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">10</span>/13<span class="token punctuation">)</span> Installing mpc1 <span class="token punctuation">(</span><span class="token number">1.2</span>.1-r0<span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">11</span>/13<span class="token punctuation">)</span> Installing gcc <span class="token punctuation">(</span><span class="token number">10.3</span>.1_git20211027-r0<span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">12</span>/13<span class="token punctuation">)</span> Installing linux-headers <span class="token punctuation">(</span><span class="token number">5.10</span>.41-r0<span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">13</span>/13<span class="token punctuation">)</span> Installing musl-dev <span class="token punctuation">(</span><span class="token number">1.2</span>.2-r7<span class="token punctuation">)</span>
Executing busybox-1.34.1-r3.trigger
OK: <span class="token number">139</span> MiB <span class="token keyword">in</span> <span class="token number">48</span> packages
Removing intermediate container 82abea5f21d4
 ---<span class="token operator">&gt;</span> 406168cd3b8c
Step <span class="token number">6</span>/10 <span class="token builtin class-name">:</span> COPY requirements.txt requirements.txt
 ---<span class="token operator">&gt;</span> 5963b56e0e47
Step <span class="token number">7</span>/10 <span class="token builtin class-name">:</span> RUN pip <span class="token function">install</span> -r requirements.txt
 ---<span class="token operator">&gt;</span> Running <span class="token keyword">in</span> c202416b44b1
Collecting flask
  Downloading Flask-2.0.2-py3-none-any.whl <span class="token punctuation">(</span><span class="token number">95</span> kB<span class="token punctuation">)</span>
Collecting redis
  Downloading redis-4.0.2-py3-none-any.whl <span class="token punctuation">(</span><span class="token number">119</span> kB<span class="token punctuation">)</span>
Collecting click<span class="token operator">&gt;=</span><span class="token number">7.1</span>.2
  Downloading click-8.0.3-py3-none-any.whl <span class="token punctuation">(</span><span class="token number">97</span> kB<span class="token punctuation">)</span>
Collecting itsdangerous<span class="token operator">&gt;=</span><span class="token number">2.0</span>
  Downloading itsdangerous-2.0.1-py3-none-any.whl <span class="token punctuation">(</span><span class="token number">18</span> kB<span class="token punctuation">)</span>
Collecting Werkzeug<span class="token operator">&gt;=</span><span class="token number">2.0</span>
  Downloading Werkzeug-2.0.2-py3-none-any.whl <span class="token punctuation">(</span><span class="token number">288</span> kB<span class="token punctuation">)</span>
Collecting Jinja<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token operator">=</span><span class="token number">3.0</span>
  Downloading Jinja2-3.0.3-py3-none-any.whl <span class="token punctuation">(</span><span class="token number">133</span> kB<span class="token punctuation">)</span>
Collecting deprecated
  Downloading Deprecated-1.2.13-py2.py3-none-any.whl <span class="token punctuation">(</span><span class="token number">9.6</span> kB<span class="token punctuation">)</span>
Collecting importlib-metadata
  Downloading importlib_metadata-4.8.2-py3-none-any.whl <span class="token punctuation">(</span><span class="token number">17</span> kB<span class="token punctuation">)</span>
Collecting MarkupSafe<span class="token operator">&gt;=</span><span class="token number">2.0</span>
  Downloading MarkupSafe-2.0.1-cp37-cp37m-musllinux_1_1_x86_64.whl <span class="token punctuation">(</span><span class="token number">30</span> kB<span class="token punctuation">)</span>
Collecting wrapt<span class="token operator">&lt;</span><span class="token number">2</span>,<span class="token operator">&gt;=</span><span class="token number">1.10</span>
  Downloading wrapt-1.13.3-cp37-cp37m-musllinux_1_1_x86_64.whl <span class="token punctuation">(</span><span class="token number">78</span> kB<span class="token punctuation">)</span>
Collecting typing-extensions<span class="token operator">&gt;=</span><span class="token number">3.6</span>.4
  Downloading typing_extensions-4.0.1-py3-none-any.whl <span class="token punctuation">(</span><span class="token number">22</span> kB<span class="token punctuation">)</span>
Collecting zipp<span class="token operator">&gt;=</span><span class="token number">0.5</span>
  Downloading zipp-3.6.0-py3-none-any.whl <span class="token punctuation">(</span><span class="token number">5.3</span> kB<span class="token punctuation">)</span>
Installing collected packages: zipp, typing-extensions, wrapt, MarkupSafe, importlib-metadata, Werkzeug, Jinja2, itsdangerous, deprecated, click, redis, flask
Successfully installed Jinja2-3.0.3 MarkupSafe-2.0.1 Werkzeug-2.0.2 click-8.0.3 deprecated-1.2.13 flask-2.0.2 importlib-metadata-4.8.2 itsdangerous-2.0.1 redis-4.0.2 typing-extensions-4.0.1 wrapt-1.13.3 zipp-3.6.0
WARNING: Running pip as the <span class="token string">&#39;root&#39;</span> user can result <span class="token keyword">in</span> broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
WARNING: You are using pip version <span class="token number">21.2</span>.4<span class="token punctuation">;</span> however, version <span class="token number">21.3</span>.1 is available.
You should consider upgrading via the <span class="token string">&#39;/usr/local/bin/python -m pip install --upgrade pip&#39;</span> command.
Removing intermediate container c202416b44b1
 ---<span class="token operator">&gt;</span> af9c9a8c06c0
Step <span class="token number">8</span>/10 <span class="token builtin class-name">:</span> EXPOSE <span class="token number">5000</span>
 ---<span class="token operator">&gt;</span> Running <span class="token keyword">in</span> 6994d41dc122
Removing intermediate container 6994d41dc122
 ---<span class="token operator">&gt;</span> 971877e7d127
Step <span class="token number">9</span>/10 <span class="token builtin class-name">:</span> COPY <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span>
 ---<span class="token operator">&gt;</span> 253d9f21cc1e
Step <span class="token number">10</span>/10 <span class="token builtin class-name">:</span> CMD <span class="token punctuation">[</span><span class="token string">&quot;flask&quot;</span>, <span class="token string">&quot;run&quot;</span><span class="token punctuation">]</span>
 ---<span class="token operator">&gt;</span> Running <span class="token keyword">in</span> a3dafc350523
Removing intermediate container a3dafc350523
 ---<span class="token operator">&gt;</span> 8d3b810d7c6f
Successfully built 8d3b810d7c6f
Successfully tagged composetest_web:latest
WARNING: Image <span class="token keyword">for</span> <span class="token function">service</span> web was built because it did not already exist. To rebuild this image you must use <span class="token variable"><span class="token variable">\`</span><span class="token function">docker-compose</span> build<span class="token variable">\`</span></span> or <span class="token variable"><span class="token variable">\`</span><span class="token function">docker-compose</span> up --build<span class="token variable">\`</span></span><span class="token builtin class-name">.</span>
Pulling redis <span class="token punctuation">(</span>redis:alpine<span class="token punctuation">)</span><span class="token punctuation">..</span>.
alpine: Pulling from library/redis
59bf1c3509f3: Already exists
719adce26c52: Pull complete
b8f35e378c31: Pull complete
d034517f789c: Pull complete
3772d4d76753: Pull complete
211a7f52febb: Pull complete
Digest: sha256:4bed291aa5efb9f0d77b76ff7d4ab71eee410962965d052552db1fb80576431d
Status: Downloaded newer image <span class="token keyword">for</span> redis:alpine
Creating composetest_web_1   <span class="token punctuation">..</span>. <span class="token keyword">done</span>
Creating composetest_redis_1 <span class="token punctuation">..</span>. <span class="token keyword">done</span>
Attaching to composetest_redis_1, composetest_web_1
redis_1  <span class="token operator">|</span> <span class="token number">1</span>:C 04 Dec <span class="token number">2021</span> 09:10:21.505 <span class="token comment">## oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo</span>
redis_1  <span class="token operator">|</span> <span class="token number">1</span>:C 04 Dec <span class="token number">2021</span> 09:10:21.505 <span class="token comment">## Redis version=6.2.6, bits=64, commit=00000000, modified=0, pid=1, just started</span>
redis_1  <span class="token operator">|</span> <span class="token number">1</span>:C 04 Dec <span class="token number">2021</span> 09:10:21.505 <span class="token comment">## Warning: no config file specified, using the default config. In order to specify a config file use redis-server /path/to/redis.conf</span>
redis_1  <span class="token operator">|</span> <span class="token number">1</span>:M 04 Dec <span class="token number">2021</span> 09:10:21.506 * monotonic clock: POSIX clock_gettime
redis_1  <span class="token operator">|</span> <span class="token number">1</span>:M 04 Dec <span class="token number">2021</span> 09:10:21.506 * Running <span class="token assign-left variable">mode</span><span class="token operator">=</span>standalone, <span class="token assign-left variable">port</span><span class="token operator">=</span><span class="token number">6379</span>.
redis_1  <span class="token operator">|</span> <span class="token number">1</span>:M 04 Dec <span class="token number">2021</span> 09:10:21.506 <span class="token comment">## WARNING: The TCP backlog setting of 511 cannot be enforced because /proc/sys/net/core/somaxconn is set to the lower value of 128.</span>
redis_1  <span class="token operator">|</span> <span class="token number">1</span>:M 04 Dec <span class="token number">2021</span> 09:10:21.506 <span class="token comment">## Server initialized</span>
redis_1  <span class="token operator">|</span> <span class="token number">1</span>:M 04 Dec <span class="token number">2021</span> 09:10:21.506 <span class="token comment">## WARNING overcommit_memory is set to 0! Background save may fail under low memory condition. To fix this issue add &#39;vm.overcommit_memory = 1&#39; to /etc/sysctl.conf and then reboot or run the command &#39;sysctl vm.overcommit_memory=1&#39; for this to take effect.</span>
redis_1  <span class="token operator">|</span> <span class="token number">1</span>:M 04 Dec <span class="token number">2021</span> 09:10:21.507 * Ready to accept connections
web_1    <span class="token operator">|</span>  * Serving Flask app <span class="token string">&#39;app.py&#39;</span> <span class="token punctuation">(</span>lazy loading<span class="token punctuation">)</span>
web_1    <span class="token operator">|</span>  * Environment: production
web_1    <span class="token operator">|</span>    WARNING: This is a development server. Do not use it <span class="token keyword">in</span> a production deployment.
web_1    <span class="token operator">|</span>    Use a production WSGI server instead.
web_1    <span class="token operator">|</span>  * Debug mode: off
web_1    <span class="token operator">|</span>  * Running on all addresses.
web_1    <span class="token operator">|</span>    WARNING: This is a development server. Do not use it <span class="token keyword">in</span> a production deployment.
web_1    <span class="token operator">|</span>  * Running on http://172.18.0.2:5000/ <span class="token punctuation">(</span>Press CTRL+C to quit<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u521B\u5EFA\u7F51\u7EDC</li><li>\u6267\u884Cdocker-compose.yraml</li><li>\u542F\u52A8\u670D\u52A1</li></ul><ol start="5"><li>\u6B64\u65F6\u6211\u4EEC\u901A\u8FC7\u6D4F\u89C8\u5668\u8BBF\u95EE\u5230linux\u670D\u52A1\u5668\u7684IP\u5730\u5740\u76845000\u7AEF\u53E3\uFF0C<code>http://172.16.187.9:5000/</code>\uFF0C\u5C31\u53EF\u4EE5\u770B\u5230</li></ol><p><img src="`+Bn+`" alt=""></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">## docker ps</span>
CONTAINER ID   IMAGE             COMMAND                  CREATED          STATUS          PORTS                                       NAMES
5fedf725a862   redis:alpine      <span class="token string">&quot;docker-entrypoint.s\u2026&quot;</span>   <span class="token number">16</span> minutes ago   Up <span class="token number">16</span> minutes   <span class="token number">6379</span>/tcp                                    composetest_redis_1
216979874e1c   composetest_web   <span class="token string">&quot;flask run&quot;</span>              <span class="token number">16</span> minutes ago   Up <span class="token number">16</span> minutes   <span class="token number">0.0</span>.0.0:5000-<span class="token operator">&gt;</span><span class="token number">5000</span>/tcp, :::5000-<span class="token operator">&gt;</span><span class="token number">5000</span>/tcp   composetest_web_1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u80FD\u8FD9\u4E48\u987A\u5229\u7684\u542F\u52A8\u662F\u56E0\u4E3A\u6709\u4E00\u4E9B\u9ED8\u8BA4\u7684\u89C4\u5219\uFF0C\u4E0B\u9762\u4F1A\u5927\u6982\u4E86\u89E3\u4E00\u4E0B\u8FD9\u4E9B\u89C4\u5219\u3002</p><ol start="6"><li>docker compose\u7684\u505C\u6B62</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker-compose</span> stop/down

<span class="token comment">## \u6216\u8005</span>

<span class="token function">docker-compose</span> down --volumes
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You can bring everything down, removing the containers entirely, with the down command. Pass --volumes to also remove the data volume used by the Redis container. \u4F7F\u7528<code>--volumes</code>\u4F1A\u5728\u505C\u6B62\u7684\u65F6\u5019\u89E3\u9664\u6302\u8F7D\u7684\u6620\u5C04\u76EE\u5F55</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost composetest<span class="token punctuation">]</span><span class="token comment">## docker-compose down</span>
Stopping composetest_redis_1 <span class="token punctuation">..</span>. <span class="token keyword">done</span>
Stopping composetest_web_1   <span class="token punctuation">..</span>. <span class="token keyword">done</span>
Removing composetest_redis_1 <span class="token punctuation">..</span>. <span class="token keyword">done</span>
Removing composetest_web_1   <span class="token punctuation">..</span>. <span class="token keyword">done</span>
Removing network composetest_default
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u66B4\u529B\u505C\u6B62 <code>ctrl+c</code></p><h3 id="docker-compose\u7684\u4E00\u4E9B\u9ED8\u8BA4\u89C4\u5219"><a class="header-anchor" href="#docker-compose\u7684\u4E00\u4E9B\u9ED8\u8BA4\u89C4\u5219" aria-hidden="true">#</a> docker compose\u7684\u4E00\u4E9B\u9ED8\u8BA4\u89C4\u5219</h3><h4 id="\u542F\u52A8\u89C4\u5219"><a class="header-anchor" href="#\u542F\u52A8\u89C4\u5219" aria-hidden="true">#</a> \u542F\u52A8\u89C4\u5219</h4><p>docker-compose\u4E2D\u9700\u8981\u7684\u955C\u50CF\u4F1A\u81EA\u52A8\u5E2E\u6211\u4EEC\u4E0B\u8F7D</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">## docker images</span>
REPOSITORY               TAG          IMAGE ID       CREATED          SIZE
composetest_web          latest       8d3b810d7c6f   <span class="token number">16</span> minutes ago   183MB
springboot-docker-test   latest       ffc793f69fe5   <span class="token number">2</span> days ago       661MB
redis                    alpine       3900abf41552   <span class="token number">4</span> days ago       <span class="token number">32</span>.4MB
python                   <span class="token number">3.7</span>-alpine   a1034fd13493   <span class="token number">4</span> days ago       <span class="token number">41</span>.8MB
tomcat                   latest       904a98253fbf   <span class="token number">2</span> weeks ago      680MB
face                     latest       d979b342f258   <span class="token number">11</span> months ago    <span class="token number">2</span>.17GB
java                     <span class="token number">8</span>            d23bdf5b1b1b   <span class="token number">4</span> years ago      643MB
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5982\u679C\u540E\u9762\u6211\u4EEC\u4F7F\u7528\u5230docker swarm\u5C31\u4F1A\u6709\u670D\u52A1\u8FD9\u4E2A\u6982\u5FF5\uFF0C\u73B0\u5728\u8FD8\u6CA1\u6709\uFF0C\u5148\u7559\u4E00\u4E2A\u60AC\u5FF5</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">## docker service ls</span>
Error response from daemon: This <span class="token function">node</span> is not a swarm manager. Use <span class="token string">&quot;docker swarm init&quot;</span> or <span class="token string">&quot;docker swarm join&quot;</span> to connect this <span class="token function">node</span> to swarm and try again.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u9ED8\u8BA4\u7684\u670D\u52A1\u540D \u662F\u6587\u4EF6\u540D_\u670D\u52A1\u540D_num</p><p>\u672A\u6765\u5982\u679C\u4F7F\u7528\u5230\u591A\u4E2A\u96C6\u7FA4\u7684\u8BDD\uFF0C\u90A3\u4E48\u5C31\u4F1A\u8FD9\u79CD\u5F62\u5F0F\uFF1A\u6587\u4EF6\u540D_\u670D\u52A1\u540D_num\u3002_num\u662F\u526F\u672C\u6570\u91CF \u670D\u52A1Redis\u670D\u52A1==&gt;4\u4E2A\u526F\u672C\uFF0C\u96C6\u7FA4\u72B6\u6001\u4E0B\uFF0C\u670D\u52A1\u4E0D\u80FD\u662F\u53EA\u6709\u4E00\u4E2A\u8FD0\u884C\u5B9E\u4F8B\uFF0C\u90FD\u662F\u5F39\u6027\u7684\uFF0C\u8FD9\u6837\u53EF\u4EE5\u5728\u6BCF\u4E2A\u670D\u52A1\u5668\u4E0A\u8FD0\u884Cdocker\uFF0Cdocker\u4E2D\u8FD0\u884C\u8FD9\u4E2Aredis\uFF0C\u5B9E\u73B0\u9AD8\u5E76\u53D1\u7684\u76EE\u7684</p><h4 id="\u7F51\u7EDC\u89C4\u5219"><a class="header-anchor" href="#\u7F51\u7EDC\u89C4\u5219" aria-hidden="true">#</a> \u7F51\u7EDC\u89C4\u5219</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">## docker network ls</span>
NETWORK ID     NAME                  DRIVER    SCOPE
6c50f2484f94   bridge                bridge    <span class="token builtin class-name">local</span>
96bfa39def47   composetest_default   bridge    <span class="token builtin class-name">local</span>
3793140c9b61   <span class="token function">host</span>                  <span class="token function">host</span>      <span class="token builtin class-name">local</span>
f5ece4249811   none                  null      <span class="token builtin class-name">local</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>docker\u8FD0\u884C\u7684\u8BDD\uFF0C\u4E3A\u4E86\u907F\u514D\u4E0D\u540C\u7684\u73AF\u5883\u7F51\u7EDC\u7684\u5F71\u54CD\uFF0C\u6240\u4EE5\u6211\u4EEC\u4E4B\u524D\u5728\u8BB2\u5230docker\u7F51\u7EDC\u7684\u65F6\u5019\uFF0C\u7ECF\u5E38\u4F7F\u7528\u81EA\u5DF1\u521B\u5EFA\u7684\u81EA\u5B9A\u4E49\u7F51\u7EDC\u6765\u4F5C\u4E3A\u81EA\u5DF1\u5BB9\u5668\u7684\u8FDE\u63A5\u6865\u6881</p><p>\u5982\u679C\u9879\u76EE\u4E2D\u7684\u5BB9\u5668\u90FD\u5728\u540C\u4E00\u4E2A\u7F51\u7EDC\u4E0B\uFF0C\u5C31\u53EF\u4EE5\u901A\u8FC7\u57DF\u540D\u8BBF\u95EE\uFF0C\u5176\u5B9E\u5C31\u662F\u5728\u7F51\u7EDC\u4E0B\u505A\u4E00\u4E2Adns\u6620\u5C04\u89E3\u6790\u5230\u5230\u5BF9\u5E94\u7684IP\u5730\u5740\u4E0A\u53BB</p><p>\u539F\u672C\u7684mysql\u670D\u52A1\u5199\u8FDE\u63A5url\u662F\uFF1Amysql://ip\u5730\u5740:3306xxxxxx\uFF0C\u73B0\u5728\u4E3A\u4E86\u907F\u514D\u5F53\u8FD9\u4E2A\u6307\u5B9A\u7684IP\u5730\u5740\u7684\u670D\u52A1\u5668\u5B95\u673A\u4E4B\u540E\u65E0\u6CD5\u505A\u5230\u9AD8\u53EF\u7528\uFF0C\u6240\u4EE5\u5C31\u4F1A\u5C06MySQL\u90E8\u7F72\u5728\u96C6\u7FA4\u4E0A\uFF0C\u6B64\u65F6\u6211\u4EEC\u66F4\u60F3\u7684\u662F\u5982\u4F55\u901A\u8FC7\u540C\u4E00\u4E2A\u57DF\u540D\u53EF\u4EE5\u6620\u5C04\u5230\u6307\u5B9A\u7684IP\u5730\u5740\uFF0C\u80FD\u8BA9\u6211\u4EEC\u8BBF\u95EE\u8FDE\u63A5\u5230\u670D\u52A1\u5668\uFF0C\u81EA\u5B9A\u4E49\u7F51\u7EDC\u5C31\u53EF\u4EE5\u901A\u8FC7\u57DF\u540D\u8FDB\u884C\u8BBF\u95EE\u5230MySQL\u670D\u52A1\u5668</p><p>\u6211\u4EEC\u901A\u8FC7<code>docker network inspect</code>\u67E5\u770B\u5F53\u524D\u7684\u6211\u4EEC\u521B\u5EFA\u7684compose\u9879\u76EE\u53EF\u4EE5\u770B\u5230\uFF0C\u5F53\u524D\u7684\u8FD9\u4E2A\u7F51\u7EDC\u5DF2\u7ECF\u505A\u4E86\u6620\u5C04</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">## docker network inspect 96bfa39def47</span>
<span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token string">&quot;Name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;composetest_default&quot;</span>,
        <span class="token string">&quot;Id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;96bfa39def47ed72fe95d0a62f64f1d6bd4fa4e80b4160fc26ddf0d8d32a4692&quot;</span>,
        <span class="token string">&quot;Created&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;2021-12-04T16:52:44.600560681+08:00&quot;</span>,
        <span class="token string">&quot;Scope&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;local&quot;</span>,
        <span class="token string">&quot;Driver&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;bridge&quot;</span>,
        <span class="token string">&quot;EnableIPv6&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;IPAM&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;Driver&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;default&quot;</span>,
            <span class="token string">&quot;Options&quot;</span><span class="token builtin class-name">:</span> null,
            <span class="token string">&quot;Config&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token string">&quot;Subnet&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;172.18.0.0/16&quot;</span>,
                    <span class="token string">&quot;Gateway&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;172.18.0.1&quot;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;Internal&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;Attachable&quot;</span><span class="token builtin class-name">:</span> true,
        <span class="token string">&quot;Ingress&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;ConfigFrom&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;Network&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;ConfigOnly&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;Containers&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;216979874e1c98721a1f2db21cb8888420b1c8edd59ac8bd67b34bbe11bda3a2&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
                <span class="token string">&quot;Name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;composetest_web_1&quot;</span>,
                <span class="token string">&quot;EndpointID&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;2b7d27960aaf3509dd972f5fbe779bfe12e30db0e68767782a65028e11e9ba3f&quot;</span>,
                <span class="token string">&quot;MacAddress&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;02:42:ac:12:00:02&quot;</span>,
                <span class="token string">&quot;IPv4Address&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;172.18.0.2/16&quot;</span>,
                <span class="token string">&quot;IPv6Address&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>
            <span class="token punctuation">}</span>,
            <span class="token string">&quot;5fedf725a86236ab418af51abd4aa1d6a52c190a269dd43bd2c867ae068d1922&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
                <span class="token string">&quot;Name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;composetest_redis_1&quot;</span>,
                <span class="token string">&quot;EndpointID&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;1803f09ddac375a4828ac5f2ca0636738283456b802b29c63b7e9513de4f435f&quot;</span>,
                <span class="token string">&quot;MacAddress&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;02:42:ac:12:00:03&quot;</span>,
                <span class="token string">&quot;IPv4Address&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;172.18.0.3/16&quot;</span>,
                <span class="token string">&quot;IPv6Address&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;Options&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>,
        <span class="token string">&quot;Labels&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;com.docker.compose.network&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;default&quot;</span>,
            <span class="token string">&quot;com.docker.compose.project&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;composetest&quot;</span>,
            <span class="token string">&quot;com.docker.compose.version&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;1.25.5&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u524D\u9762\u6211\u4EEC\u5728\u4F7F\u7528python\u7684\u521B\u5EFA\u7B2C\u4E00\u4E2Acompose\u9879\u76EE\u7684\u65F6\u5019\uFF0C\u4F7F\u7528\u7684\u8FDE\u63A5\u4E0D\u662F\u57DF\u540D\uFF0C\u800C\u662Fredis\uFF0C\u5C31\u662Fcompose\u5E2E\u6211\u4EEC\u89E3\u51B3\u4E86\u6620\u5C04\u7684\u95EE\u9898</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>cache <span class="token operator">=</span> redis<span class="token punctuation">.</span>Redis<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">&#39;redis&#39;</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">6379</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="docker-\u5C0F\u7ED3"><a class="header-anchor" href="#docker-\u5C0F\u7ED3" aria-hidden="true">#</a> docker \u5C0F\u7ED3</h3><ol><li>docker\u955C\u50CF\u901A\u8FC7run\u53D8\u6210\u4E00\u4E2A\u5BB9\u5668</li><li>dockerfile\u6765\u6784\u5EFA\u955C\u50CF\uFF0C\u4E5F\u5C31\u662F\u670D\u52A1\u6253\u5305</li><li>\u591A\u4E2A\u5FAE\u670D\u52A1\u7684\u73AF\u5883\u53EF\u4EE5\u901A\u8FC7docker-compose\u6765\u7BA1\u7406\u548C\u542F\u52A8\u670D\u52A1\uFF08\u7F16\u6392\u3001\u73AF\u5883\u3001\u670D\u52A1\u4E4B\u95F4\u7684\u4F9D\u8D56\u3001\u7F51\u7EDC\u7684\u5904\u7406\uFF09</li><li>docker network \u7F51\u7EDC</li></ol><h3 id="compose\u914D\u7F6E\u7F16\u5199\u89C4\u5219"><a class="header-anchor" href="#compose\u914D\u7F6E\u7F16\u5199\u89C4\u5219" aria-hidden="true">#</a> compose\u914D\u7F6E\u7F16\u5199\u89C4\u5219</h3><p>\u5B98\u65B9\u7684\u7F51\u5740\uFF1Ahttps://docs.docker.com/compose/compose-file/</p><p>docker-compose.yaml\u7684\u6838\u5FC3</p><p>\u4E09\u5C42</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token comment">## 3\u5C42</span>

<span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&#39;&#39;</span> <span class="token comment">## \u7248\u672C</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span> <span class="token comment">## \u670D\u52A1</span>
    <span class="token key atrule">\u670D\u52A11</span><span class="token punctuation">:</span>
        <span class="token comment">## \u670D\u52A1\u914D\u7F6E\uFF0C\u539F\u6765\u5728\u5728docker\u4E2D\u914D\u7F6E\u7684\u914D\u7F6E\u4FE1\u606F\u90FD\u53EF\u4EE5\u5728\u8FD9\u91CC\u5199</span>
        <span class="token key atrule">images</span><span class="token punctuation">:</span>
        <span class="token key atrule">build</span><span class="token punctuation">:</span>
        <span class="token key atrule">network</span><span class="token punctuation">:</span>
    <span class="token key atrule">\u670D\u52A12</span><span class="token punctuation">:</span>
    <span class="token comment">## .....</span>
<span class="token comment">## \u5176\u4ED6\u914D\u7F6E \u7F51\u7EDC\u914D\u7F6E\u3001\u5377\u6302\u8F7D\u3001\u5168\u5C40\u914D\u7F6E</span>
<span class="token key atrule">volumes</span><span class="token punctuation">:</span>
<span class="token key atrule">network</span><span class="token punctuation">:</span>
<span class="token key atrule">configs</span><span class="token punctuation">:</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6BD4\u5982\uFF1A</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;3.9&quot;</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>

  <span class="token key atrule">redis</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> redis<span class="token punctuation">:</span>alpine
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;6379&quot;</span>
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> frontend
    <span class="token key atrule">deploy</span><span class="token punctuation">:</span>
      <span class="token key atrule">replicas</span><span class="token punctuation">:</span> <span class="token number">2</span>
      <span class="token key atrule">update_config</span><span class="token punctuation">:</span>
        <span class="token key atrule">parallelism</span><span class="token punctuation">:</span> <span class="token number">2</span>
        <span class="token key atrule">delay</span><span class="token punctuation">:</span> 10s
      <span class="token key atrule">restart_policy</span><span class="token punctuation">:</span>
        <span class="token key atrule">condition</span><span class="token punctuation">:</span> on<span class="token punctuation">-</span>failure

  <span class="token key atrule">db</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> postgres<span class="token punctuation">:</span><span class="token number">9.4</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> db<span class="token punctuation">-</span>data<span class="token punctuation">:</span>/var/lib/postgresql/data
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> backend
    <span class="token key atrule">deploy</span><span class="token punctuation">:</span>
      <span class="token key atrule">placement</span><span class="token punctuation">:</span>
        <span class="token key atrule">max_replicas_per_node</span><span class="token punctuation">:</span> <span class="token number">1</span>
        <span class="token key atrule">constraints</span><span class="token punctuation">:</span>
          <span class="token punctuation">-</span> <span class="token string">&quot;node.role==manager&quot;</span>

  <span class="token key atrule">vote</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> dockersamples/examplevotingapp_vote<span class="token punctuation">:</span>before
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;5000:80&quot;</span>
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> frontend
    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> redis
    <span class="token key atrule">deploy</span><span class="token punctuation">:</span>
      <span class="token key atrule">replicas</span><span class="token punctuation">:</span> <span class="token number">2</span>
      <span class="token key atrule">update_config</span><span class="token punctuation">:</span>
        <span class="token key atrule">parallelism</span><span class="token punctuation">:</span> <span class="token number">2</span>
      <span class="token key atrule">restart_policy</span><span class="token punctuation">:</span>
        <span class="token key atrule">condition</span><span class="token punctuation">:</span> on<span class="token punctuation">-</span>failure

  <span class="token key atrule">result</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> dockersamples/examplevotingapp_result<span class="token punctuation">:</span>before
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;5001:80&quot;</span>
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> backend
    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span> <span class="token comment">## \u4F9D\u8D56\uFF0C\u9879\u76EE\u542F\u52A8\u7684\u987A\u5E8F\uFF0C\u5F53\u524D\u9879\u76EE\u542F\u52A8\u9700\u8981\u5148\u542F\u52A8\u5176\u4ED6\u7684\u9879\u76EE</span>
      <span class="token punctuation">-</span> db
    <span class="token key atrule">deploy</span><span class="token punctuation">:</span>
      <span class="token key atrule">replicas</span><span class="token punctuation">:</span> <span class="token number">1</span>
      <span class="token key atrule">update_config</span><span class="token punctuation">:</span>
        <span class="token key atrule">parallelism</span><span class="token punctuation">:</span> <span class="token number">2</span>
        <span class="token key atrule">delay</span><span class="token punctuation">:</span> 10s
      <span class="token key atrule">restart_policy</span><span class="token punctuation">:</span>
        <span class="token key atrule">condition</span><span class="token punctuation">:</span> on<span class="token punctuation">-</span>failure

  <span class="token key atrule">worker</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> dockersamples/examplevotingapp_worker
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> frontend
      <span class="token punctuation">-</span> backend
    <span class="token key atrule">deploy</span><span class="token punctuation">:</span> <span class="token comment">## \u96C6\u7FA4</span>
      <span class="token key atrule">mode</span><span class="token punctuation">:</span> replicated
      <span class="token key atrule">replicas</span><span class="token punctuation">:</span> <span class="token number">1</span>
      <span class="token key atrule">labels</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>APP=VOTING<span class="token punctuation">]</span>
      <span class="token key atrule">restart_policy</span><span class="token punctuation">:</span>
        <span class="token key atrule">condition</span><span class="token punctuation">:</span> on<span class="token punctuation">-</span>failure
        <span class="token key atrule">delay</span><span class="token punctuation">:</span> 10s
        <span class="token key atrule">max_attempts</span><span class="token punctuation">:</span> <span class="token number">3</span>
        <span class="token key atrule">window</span><span class="token punctuation">:</span> 120s
      <span class="token key atrule">placement</span><span class="token punctuation">:</span>
        <span class="token key atrule">constraints</span><span class="token punctuation">:</span>
          <span class="token punctuation">-</span> <span class="token string">&quot;node.role==manager&quot;</span>

  <span class="token key atrule">visualizer</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> dockersamples/visualizer<span class="token punctuation">:</span>stable
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;8080:8080&quot;</span>
    <span class="token key atrule">stop_grace_period</span><span class="token punctuation">:</span> 1m30s
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;/var/run/docker.sock:/var/run/docker.sock&quot;</span>
    <span class="token key atrule">deploy</span><span class="token punctuation">:</span>
      <span class="token key atrule">placement</span><span class="token punctuation">:</span>
        <span class="token key atrule">constraints</span><span class="token punctuation">:</span>
          <span class="token punctuation">-</span> <span class="token string">&quot;node.role==manager&quot;</span>

<span class="token key atrule">networks</span><span class="token punctuation">:</span>
  <span class="token key atrule">frontend</span><span class="token punctuation">:</span>
  <span class="token key atrule">backend</span><span class="token punctuation">:</span>

<span class="token key atrule">volumes</span><span class="token punctuation">:</span>
  <span class="token key atrule">db-data</span><span class="token punctuation">:</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>depends_on: ## \u4F9D\u8D56\uFF0C\u9879\u76EE\u542F\u52A8\u7684\u987A\u5E8F\uFF0C\u5F53\u524D\u9879\u76EE\u542F\u52A8\u9700\u8981\u5148\u542F\u52A8\u5176\u4ED6\u7684\u9879\u76EE</li></ul><h3 id="\u5B9E\u6218\u793A\u4F8B-\u4F7F\u7528compose\u4E00\u952E\u90E8\u7F72wp\u535A\u5BA2"><a class="header-anchor" href="#\u5B9E\u6218\u793A\u4F8B-\u4F7F\u7528compose\u4E00\u952E\u90E8\u7F72wp\u535A\u5BA2" aria-hidden="true">#</a> \u5B9E\u6218\u793A\u4F8B\uFF1A\u4F7F\u7528compose\u4E00\u952E\u90E8\u7F72WP\u535A\u5BA2</h3><p>\u5B98\u65B9\u7F51\u5740\uFF1Ahttps://docs.docker.com/samples/wordpress/</p><ol><li>\u521B\u5EFA\u76EE\u5F55\uFF0C<code>cd my_wordpress/</code></li><li>\u521B\u5EFAyaml\u6587\u4EF6<code>docker-compose.yml</code></li></ol><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;3.9&quot;</span>
    
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">db</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> mysql<span class="token punctuation">:</span><span class="token number">5.7</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> db_data<span class="token punctuation">:</span>/var/lib/mysql
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">MYSQL_ROOT_PASSWORD</span><span class="token punctuation">:</span> somewordpress
      <span class="token key atrule">MYSQL_DATABASE</span><span class="token punctuation">:</span> wordpress
      <span class="token key atrule">MYSQL_USER</span><span class="token punctuation">:</span> wordpress
      <span class="token key atrule">MYSQL_PASSWORD</span><span class="token punctuation">:</span> wordpress
    
  <span class="token key atrule">wordpress</span><span class="token punctuation">:</span>
    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> db
    <span class="token key atrule">image</span><span class="token punctuation">:</span> wordpress<span class="token punctuation">:</span>latest
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> wordpress_data<span class="token punctuation">:</span>/var/www/html
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;8000:80&quot;</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">WORDPRESS_DB_HOST</span><span class="token punctuation">:</span> db<span class="token punctuation">:</span><span class="token number">3306</span>
      <span class="token key atrule">WORDPRESS_DB_USER</span><span class="token punctuation">:</span> wordpress
      <span class="token key atrule">WORDPRESS_DB_PASSWORD</span><span class="token punctuation">:</span> wordpress
      <span class="token key atrule">WORDPRESS_DB_NAME</span><span class="token punctuation">:</span> wordpress
<span class="token key atrule">volumes</span><span class="token punctuation">:</span>
  <span class="token key atrule">db_data</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token key atrule">wordpress_data</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>\u6784\u5EFA\u5E76\u542F\u52A8<code>docker-compose up -d</code></li></ol><p><img src="`+Gn+'" alt=""></p><h3 id="\u5B9E\u6218-\u81EA\u5DF1\u7F16\u5199\u5FAE\u670D\u52A1\u4F7F\u7528compose\u90E8\u7F72\u5230docker"><a class="header-anchor" href="#\u5B9E\u6218-\u81EA\u5DF1\u7F16\u5199\u5FAE\u670D\u52A1\u4F7F\u7528compose\u90E8\u7F72\u5230docker" aria-hidden="true">#</a> \u5B9E\u6218\uFF1A\u81EA\u5DF1\u7F16\u5199\u5FAE\u670D\u52A1\u4F7F\u7528compose\u90E8\u7F72\u5230docker</h3><ol><li>\u521B\u5EFAspringboot\u9879\u76EE</li></ol><p><img src="'+Fn+`" alt=""></p><ol start="2"><li>\u7F16\u5199Controller</li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>dockercomposedemo<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>redis<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">StringRedisTemplate</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">GetMapping</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">StringRedisTemplate</span> redisTemplate<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">final</span> <span class="token class-name">Long</span> views <span class="token operator">=</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span><span class="token string">&quot;views&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;hello, &quot;</span> <span class="token operator">+</span> views<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>\u7F16\u5199Dockerfile\uFF0C\u6784\u5EFA\u955C\u50CF</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>FROM java:8
COPY *.jar /app.jar
CMD [&quot;--server.port=8080&quot;]

EXPOSE 8080

ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>\u7F16\u5199docker-compose.yaml\uFF0C\u7F16\u6392\u9879\u76EE</li></ol><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;3&quot;</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">zhangapp</span><span class="token punctuation">:</span>
    <span class="token key atrule">build</span><span class="token punctuation">:</span> .
    <span class="token key atrule">image</span><span class="token punctuation">:</span> zhangapp
    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> redis
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;8080:8080&quot;</span>
  <span class="token key atrule">redis</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> <span class="token string">&quot;library/redis:alpine&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="5"><li>\u4E0A\u4F20\u5230\u670D\u52A1\uFF0C\u542F\u52A8</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost docker-compose-demo<span class="token punctuation">]</span><span class="token comment">## ll</span>
\u603B\u7528\u91CF <span class="token number">26944</span>
-rw-r--r-- <span class="token number">1</span> root root <span class="token number">27581162</span> <span class="token number">12</span>\u6708  <span class="token number">4</span> <span class="token number">20</span>:42 docker-compose-demo-0.0.1-SNAPSHOT.jar
-rw-r--r-- <span class="token number">1</span> root root      <span class="token number">171</span> <span class="token number">12</span>\u6708  <span class="token number">4</span> <span class="token number">20</span>:43 docker-compose.yaml
-rw-r--r-- <span class="token number">1</span> root root      <span class="token number">110</span> <span class="token number">12</span>\u6708  <span class="token number">4</span> <span class="token number">20</span>:43 Dockerfile
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost docker-compose-demo<span class="token punctuation">]</span><span class="token comment">## docker-compose up -d</span>
Creating network <span class="token string">&quot;docker-compose-demo_default&quot;</span> with the default driver
Building zhangapp
Step <span class="token number">1</span>/5 <span class="token builtin class-name">:</span> FROM java:8
 ---<span class="token operator">&gt;</span> d23bdf5b1b1b
Step <span class="token number">2</span>/5 <span class="token builtin class-name">:</span> COPY *.jar /app.jar
 ---<span class="token operator">&gt;</span> 4cea62a18432
Step <span class="token number">3</span>/5 <span class="token builtin class-name">:</span> CMD <span class="token punctuation">[</span><span class="token string">&quot;--server.port=8080&quot;</span><span class="token punctuation">]</span>
 ---<span class="token operator">&gt;</span> Running <span class="token keyword">in</span> a83e3feb516a
Removing intermediate container a83e3feb516a
 ---<span class="token operator">&gt;</span> 4a33c1954a5e
Step <span class="token number">4</span>/5 <span class="token builtin class-name">:</span> EXPOSE <span class="token number">8080</span>
 ---<span class="token operator">&gt;</span> Running <span class="token keyword">in</span> f92bb0f6300d
Removing intermediate container f92bb0f6300d
 ---<span class="token operator">&gt;</span> 5133930fd6a0
Step <span class="token number">5</span>/5 <span class="token builtin class-name">:</span> ENTRYPOINT <span class="token punctuation">[</span><span class="token string">&quot;java&quot;</span>,<span class="token string">&quot;-jar&quot;</span>,<span class="token string">&quot;/app.jar&quot;</span><span class="token punctuation">]</span>
 ---<span class="token operator">&gt;</span> Running <span class="token keyword">in</span> fc7d894a738b
Removing intermediate container fc7d894a738b
 ---<span class="token operator">&gt;</span> d4724f41cb29
Successfully built d4724f41cb29
Successfully tagged zhangapp:latest
WARNING: Image <span class="token keyword">for</span> <span class="token function">service</span> zhangapp was built because it did not already exist. To rebuild this image you must use <span class="token variable"><span class="token variable">\`</span><span class="token function">docker-compose</span> build<span class="token variable">\`</span></span> or <span class="token variable"><span class="token variable">\`</span><span class="token function">docker-compose</span> up --build<span class="token variable">\`</span></span><span class="token builtin class-name">.</span>
Creating docker-compose-demo_redis_1 <span class="token punctuation">..</span>. <span class="token keyword">done</span>
Creating docker-compose-demo_zhangapp_1 <span class="token punctuation">..</span>. <span class="token keyword">done</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost docker-compose-demo<span class="token punctuation">]</span><span class="token comment">## docker ps</span>
CONTAINER ID   IMAGE              COMMAND                  CREATED          STATUS          PORTS                                       NAMES
f7828c2306ae   zhangapp           <span class="token string">&quot;java -jar /app.jar \u2026&quot;</span>   <span class="token number">21</span> seconds ago   Up <span class="token number">20</span> seconds   <span class="token number">0.0</span>.0.0:8080-<span class="token operator">&gt;</span><span class="token number">8080</span>/tcp, :::8080-<span class="token operator">&gt;</span><span class="token number">8080</span>/tcp   docker-compose-demo_zhangapp_1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+zn+`" alt=""></p><p>\u5047\u8BBE\u9879\u76EE\u9700\u8981\u91CD\u65B0\u6253\u5305\uFF0C\u53EF\u4EE5\u4F7F\u7528<code>docker-compose up --bulid</code></p><p>\u901A\u8FC7\u547D\u4EE4<code>docker-compose --help</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost docker-compose-demo<span class="token punctuation">]</span><span class="token comment">## docker-compose --help</span>
Define and run multi-container applications with Docker.

Usage:
  <span class="token function">docker-compose</span> <span class="token punctuation">[</span>-f <span class="token operator">&lt;</span>arg<span class="token operator">&gt;</span><span class="token punctuation">..</span>.<span class="token punctuation">]</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span> <span class="token punctuation">[</span>COMMAND<span class="token punctuation">]</span> <span class="token punctuation">[</span>ARGS<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
  <span class="token function">docker-compose</span> -h<span class="token operator">|</span>--help

Options:
  -f, --file FILE             Specify an alternate compose <span class="token function">file</span>
                              <span class="token punctuation">(</span>default: docker-compose.yml<span class="token punctuation">)</span>
  -p, --project-name NAME     Specify an alternate project name
                              <span class="token punctuation">(</span>default: directory name<span class="token punctuation">)</span>
  --verbose                   Show <span class="token function">more</span> output
  --log-level LEVEL           Set log level <span class="token punctuation">(</span>DEBUG, INFO, WARNING, ERROR, CRITICAL<span class="token punctuation">)</span>
  --no-ansi                   Do not print ANSI control characters
  -v, --version               Print version and <span class="token builtin class-name">exit</span>
  -H, --host HOST             Daemon socket to connect to

  --tls                       Use TLS<span class="token punctuation">;</span> implied by --tlsverify
  --tlscacert CA_PATH         Trust certs signed only by this CA
  --tlscert CLIENT_CERT_PATH  Path to TLS certificate <span class="token function">file</span>
  --tlskey TLS_KEY_PATH       Path to TLS key <span class="token function">file</span>
  --tlsverify                 Use TLS and verify the remote
  --skip-hostname-check       Don<span class="token string">&#39;t check the daemon&#39;</span>s <span class="token function">hostname</span> against the
                              name specified <span class="token keyword">in</span> the client certificate
  --project-directory <span class="token environment constant">PATH</span>    Specify an alternate working directory
                              <span class="token punctuation">(</span>default: the path of the Compose <span class="token function">file</span><span class="token punctuation">)</span>
  --compatibility             If set, Compose will attempt to convert keys
                              <span class="token keyword">in</span> v3 files to their non-Swarm equivalent
  --env-file <span class="token environment constant">PATH</span>             Specify an alternate environment <span class="token function">file</span>

Commands:
  build              Build or rebuild services
  config             Validate and view the Compose <span class="token function">file</span>
  create             Create services
  down               Stop and remove containers, networks, images, and volumes
  events             Receive real <span class="token function">time</span> events from containers
  <span class="token builtin class-name">exec</span>               Execute a <span class="token builtin class-name">command</span> <span class="token keyword">in</span> a running container
  <span class="token builtin class-name">help</span>               Get <span class="token builtin class-name">help</span> on a <span class="token builtin class-name">command</span>
  images             List images
  <span class="token function">kill</span>               Kill containers
  logs               View output from containers
  pause              Pause services
  port               Print the public port <span class="token keyword">for</span> a port binding
  <span class="token function">ps</span>                 List containers
  pull               Pull <span class="token function">service</span> images
  push               Push <span class="token function">service</span> images
  restart            Restart services
  <span class="token function">rm</span>                 Remove stopped containers
  run                Run a one-off <span class="token builtin class-name">command</span>
  scale              Set number of containers <span class="token keyword">for</span> a <span class="token function">service</span>
  start              Start services
  stop               Stop services
  <span class="token function">top</span>                Display the running processes
  unpause            Unpause services
  up                 Create and start containers
  version            Show the Docker-Compose version information
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u603B\u7ED3"><a class="header-anchor" href="#\u603B\u7ED3" aria-hidden="true">#</a> \u603B\u7ED3</h3><p>\u4E00\u4E2A\u5DE5\u7A0B\u91CC\u9762\u6709\u591A\u4E2A\u9879\u76EE\uFF0C\u9879\u76EE\u6700\u7EC8\u4F1A\u6574\u5408\u6210\u4E00\u4E2A\u5B8C\u6574\u7684\u5DE5\u7A0B\uFF0C\u5DE5\u7A0B\u91CC\u9762\u53EF\u80FD\u4F1A\u6709\u591A\u4E2A\u670D\u52A1\uFF0C\u670D\u52A1\u4F1A\u88AB\u8DD1\u6210\u4E00\u4E2A\u5BB9\u5668</p><p>Kubernetes k8s</p><h2 id="docker-swarm"><a class="header-anchor" href="#docker-swarm" aria-hidden="true">#</a> Docker Swarm</h2><p>\u96C6\u7FA4\u7684\u65B9\u5F0F\uFF0C\u4E0D\u662F\u5355\u673A</p><h3 id="\u73AF\u5883\u51C6\u5907-1"><a class="header-anchor" href="#\u73AF\u5883\u51C6\u5907-1" aria-hidden="true">#</a> \u73AF\u5883\u51C6\u5907</h3><p>\u521B\u5EFA\u56DB\u4E2A\u865A\u62DF\u673A\uFF0C\u76F4\u63A5\u521B\u5EFA\u4E00\u4E2A\uFF0C\u7136\u540E\u514B\u9686\u51FA\u6765</p><p>\u6309\u7167\u4E4B\u524D\u7684docker\u5B89\u88C5docker\uFF0C\u5728iterm2\u4E0A\u53EF\u4EE5\u4F7F\u7528\u5FEB\u6377\u952E<code>commnand+shift+i</code>\u540C\u65F6\u591A\u7A97\u53E3\u8F93\u5165</p><p>\u9700\u8981\u5148\u628A\u9632\u706B\u5899\u5173\u95ED\u6216\u8005\u5728\u4E4B\u540E\u4F7F\u7528\u7684\u76F8\u5173\u7684\u7AEF\u53E3\u7684\u65F6\u5019\u5F00\u542F\u8FD9\u4E2A\u7AEF\u53E3</p><p>\u6211\u4EEC\u8FD9\u91CC\u5728\u865A\u62DF\u673A\u4E0A\u8FD0\u884C\uFF0C\u5C31\u76F4\u63A5\u5173\u95ED\u9632\u706B\u5899\u597D\u4E86</p><ol><li>\u68C0\u6D4B\u9632\u706B\u5899\u72B6\u6001</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## systemctl status firewalld</span>
\u25CF firewalld.service - firewalld - dynamic firewall daemon
   Loaded: loaded <span class="token punctuation">(</span>/usr/lib/systemd/system/firewalld.service<span class="token punctuation">;</span> enabled<span class="token punctuation">;</span> vendor preset: enabled<span class="token punctuation">)</span>
   Active: active <span class="token punctuation">(</span>running<span class="token punctuation">)</span> since \u516D <span class="token number">2021</span>-12-04 <span class="token number">21</span>:53:41 CST<span class="token punctuation">;</span> 1h 23min ago
     Docs: man:firewalld<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
 Main PID: <span class="token number">725</span> <span class="token punctuation">(</span>firewalld<span class="token punctuation">)</span>
    Tasks: <span class="token number">2</span>
   Memory: <span class="token number">1</span>.5M
   CGroup: /system.slice/firewalld.service
           \u2514\u2500725 /usr/bin/python2 -Es /usr/sbin/firewalld --nofork --nopid
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u662F\u5F00\u542F\u7684</p><ol start="2"><li>\u5173\u95ED</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">## \u505C\u6B62\u9632\u706B\u5899</span>
systemctl stop firewalld
<span class="token comment">## \u6C38\u4E45\u5173\u95ED</span>
systemctl disable firewalld
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="swarm\u96C6\u7FA4\u642D\u5EFA"><a class="header-anchor" href="#swarm\u96C6\u7FA4\u642D\u5EFA" aria-hidden="true">#</a> Swarm\u96C6\u7FA4\u642D\u5EFA</h3><p>swarm\u76F8\u5173\u7684\uFF1Ahttps://docs.docker.com/get-started/overview/</p><p><img src="`+Vn+'" alt=""></p><p>\u5DE5\u4F5C\u6A21\u5F0F\uFF1Ahttps://docs.docker.com/engine/swarm/how-swarm-mode-works/nodes/</p><p><img src="'+Hn+`" alt=""></p><ul><li>\u6709\u8282\u70B9\u7684\u6982\u5FF5\uFF0C\u5DE5\u4F5C\u8282\u70B9\u548C\u7BA1\u7406\u8282\u70B9\uFF0C\u7BA1\u7406\u8282\u70B9\u81F3\u5C11\u8981\u6709\u4E09\u4E2A\uFF0C\u9009\u4E3E\uFF0C\u4E24\u4E2A\u7684\u8BDD\uFF0C\u9009\u4E0D\u4E86</li><li>\u64CD\u4F5C\u90FD\u662F\u5728manager\u4E0A</li><li>Raft \u4E00\u81F4\u6027\u7B97\u6CD5</li></ul><p>swarm\u76F8\u5173\u7684\u547D\u4EE4</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker swarm --help</span>

Usage:  <span class="token function">docker</span> swarm COMMAND

Manage Swarm

Commands:
  ca          Display and rotate the root CA
  init        Initialize a swarm
  <span class="token function">join</span>        Join a swarm as a <span class="token function">node</span> and/or manager
  join-token  Manage <span class="token function">join</span> tokens
  leave       Leave the swarm
  unlock      Unlock swarm
  unlock-key  Manage the unlock key
  update      Update the swarm

Run <span class="token string">&#39;docker swarm COMMAND --help&#39;</span> <span class="token keyword">for</span> <span class="token function">more</span> information on a command.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u521D\u59CB\u5316\u4E00\u4E2A\u96C6\u7FA4</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker swarm init --help</span>

Usage:  <span class="token function">docker</span> swarm init <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span>

Initialize a swarm

Options:
      --advertise-addr string                  Advertised address <span class="token punctuation">(</span>format: <span class="token operator">&lt;</span>ip<span class="token operator">|</span>interface<span class="token operator">&gt;</span><span class="token punctuation">[</span>:port<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">## \u91CD\u70B9\u662F\u8FD9\u4E2A\u547D\u4EE4\uFF0C\u544A\u8BC9\u522B\u4EBA\u6211\u5728\u54EA\u91CC</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>--advertise-addr string</code>\uFF0CAdvertised address (format: &lt;ip|interface&gt;[:port]) ## \u91CD\u70B9\u662F\u8FD9\u4E2A\u547D\u4EE4\uFF0C\u544A\u8BC9\u522B\u4EBA\u6211\u5728\u54EA\u91CC</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker swarm init --advertise-addr 172.16.187.10</span>
Swarm initialized: current <span class="token function">node</span> <span class="token punctuation">(</span>wrph3nynhph6xxbaw074zbtfu<span class="token punctuation">)</span> is now a manager.

To <span class="token function">add</span> a worker to this swarm, run the following command:

    <span class="token function">docker</span> swarm <span class="token function">join</span> --token SWMTKN-1-1xcdmrx4ptaipi39andnrjg2k77ls27qhlm1e3utmq5y3s7loe-cqs6vlluiri1rykp9v7vywhh9 <span class="token number">172.16</span>.187.10:2377

To <span class="token function">add</span> a manager to this swarm, run <span class="token string">&#39;docker swarm join-token manager&#39;</span> and follow the instructions.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5F97\u5230\u4E24\u4E2A\u4FE1\u606F\uFF1A</p><ul><li>To add a worker to this swarm, run the following command:<code>docker swarm join --token SWMTKN-1-1xcdmrx4ptaipi39andnrjg2k77ls27qhlm1e3utmq5y3s7loe-cqs6vlluiri1rykp9v7vywhh9 172.16.187.10:2377</code></li><li>To add a manager to this swarm, run <code>docker swarm join-token manager</code> and follow the instructions.</li></ul><p>\u83B7\u53D6\u4EE4\u724C</p><ul><li><code>docker swarm join-token manager</code> \u83B7\u53D6\u7BA1\u7406\u8282\u70B9\u4EE4\u724C</li><li><code>docker swarm join-token worker</code> \u83B7\u53D6\u5DE5\u4F5C\u8282\u70B9\u4EE4\u724C</li></ul><p>\u83B7\u53D6\u5230\u7684\u4EE4\u724C\u53EF\u4EE5\u7528\u4F5C\u5176\u4ED6\u8282\u70B9\u6765\u52A0\u5165\u5230\u8FD9\u4E2Aswarm\u4E2D</p><p>\u5C06\u53E6\u4E00\u4E2A\u8282\u70B9\u52A0\u5165\u5230swarm\u4E2D\uFF0C\u5982\u679C\u51FA\u73B0\u4E0D\u80FD\u8FDE\u63A5\u7684\u8BDD\uFF0C\u5C31\u67E5\u770B\u662F\u5426\u5F00\u653E\u4E86\u7AEF\u53E3\uFF0C\u8981\u4E48\u5C31\u76F4\u63A5\u5173\u95ED\u9632\u706B\u5899</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker swarm join --token SWMTKN-1-1xcdmrx4ptaipi39andnrjg2k77ls27qhlm1e3utmq5y3s7loe-cqs6vlluiri1rykp9v7vywhh9 172.16.187.10:2377</span>
This <span class="token function">node</span> joined a swarm as a worker.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u901A\u8FC7\u4F7F\u7528<code>docker node ls</code>\u67E5\u770B\u8282\u70B9\u5217\u8868\uFF0C\u53EA\u80FD\u4F7F\u7528\u5728\u7BA1\u7406\u8282\u70B9\u4E0A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker node ls</span>
ID                            <span class="token environment constant">HOSTNAME</span>                STATUS    AVAILABILITY   MANAGER STATUS   ENGINE VERSION
o7axrudtjc5w0jfufzzpgifp6     localhost.localdomain   Ready     Active                          <span class="token number">20.10</span>.11
wrph3nynhph6xxbaw074zbtfu *   localhost.localdomain   Ready     Active         Leader           <span class="token number">20.10</span>.11
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u914D\u7F6E\u6240\u6709\u7684\u4E3B\u673A\uFF1A</p><p>2\u30015\u505Amanager\uFF0C3\u30014\u505Aworker</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker node ls</span>
ID                            <span class="token environment constant">HOSTNAME</span>                STATUS    AVAILABILITY   MANAGER STATUS   ENGINE VERSION
4otmq6usrs4n2cncja3pw7u0t     localhost.localdomain   Ready     Active                          <span class="token number">20.10</span>.11
o7axrudtjc5w0jfufzzpgifp6     localhost.localdomain   Ready     Active                          <span class="token number">20.10</span>.11
wrph3nynhph6xxbaw074zbtfu *   localhost.localdomain   Ready     Active         Leader           <span class="token number">20.10</span>.11
yw58psu6baqkg6a9yv4urol4o     localhost.localdomain   Ready     Active         Reachable        <span class="token number">20.10</span>.11
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u603B\u7ED3-1"><a class="header-anchor" href="#\u603B\u7ED3-1" aria-hidden="true">#</a> \u603B\u7ED3</h4><ol><li>\u751F\u6210\u4E3B\u8282\u70B9</li><li>\u5176\u4ED6\u8282\u70B9\u52A0\u5165\uFF08\u53EF\u4EE5\u52A0\u5165manager\u6216\u8005worker\uFF09</li><li>\u4E0A\u9762\u7684\u53CCmanager\u662F\u4E0D\u5408\u7406\u7684\uFF0C\u4F46\u662F\u53EA\u6709\u56DB\u53F0\u865A\u62DF\u673A\uFF0C\u5148\u8FD9\u4E48\u914D\u7F6E</li></ol><h3 id="raft\u534F\u8BAE"><a class="header-anchor" href="#raft\u534F\u8BAE" aria-hidden="true">#</a> Raft\u534F\u8BAE</h3><p>\u4E0A\u9762\u6211\u4EEC\u642D\u5EFA\u7684\u96C6\u7FA4\uFF0C\u53CC\u4E3B\u53CC\u4ECE\uFF0C\u5047\u8BBE\u4E00\u4E2A\u8282\u70B9\u6302\u4E86\uFF0C\u5176\u4ED6\u8282\u70B9\u662F\u5426\u53EF\u4EE5\u4F7F\u7528\uFF1F</p><p>Raft\u534F\u8BAE\u7684\u6838\u5FC3\u5C31\u662F\u4FDD\u8BC1\u5927\u591A\u6570\u8282\u70B9\u5B58\u6D3B\u624D\u53EF\u4EE5\u7528\uFF0C\u81F3\u5C11&gt;1\u53F0\uFF0C\u96C6\u7FA4\u7684\u8BDD\u81F3\u5C11&gt;3\u53F0</p><p>\u5B9E\u9A8C\uFF1A</p><ol><li>\u5C06docker manager\u5176\u4E2D\u7684\u4E00\u4E2A\u673A\u5668\u505C\u6B62\uFF0C\u6A21\u4EFF\u5B95\u673A\uFF0C\u53CC\u4E3B\u673A\u7684\u60C5\u51B5\u4E0B\uFF0C\u53E6\u5916\u4E00\u4E2A\u8282\u70B9\u4E5F\u4E0D\u80FD\u4F7F\u7528</li></ol><p><img src="`+Wn+'" alt=""></p><ol start="2"><li>\u53EF\u4EE5\u4F7F\u7528<code>docker swarm leave</code>\u79BB\u5F00\u96C6\u7FA4\uFF0C\u90A3\u4E48\u5C31\u4F1A\u663E\u793Adown\u7684\u72B6\u6001</li></ol><p><img src="'+Yn+`" alt=""></p><ol start="3"><li>worker\u8282\u70B9\u5C31\u662F\u5DE5\u4F5C\u7684\uFF0Cmanager\u8282\u70B9\u662F\u7BA1\u7406\u7684\uFF0C\u53EA\u6709\u7BA1\u7406\u8282\u70B9\u624D\u80FD\u6267\u884C\u547D\u4EE4</li></ol><p>\u5C06\u521A\u624Dleave\u7684\u8282\u70B9\u4F5C\u4E3A\u7BA1\u7406\u8282\u70B9\u52A0\u5165\u5230\u96C6\u7FA4\u4E2D</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker node ls</span>
ID                            <span class="token environment constant">HOSTNAME</span>                STATUS    AVAILABILITY   MANAGER STATUS   ENGINE VERSION
4otmq6usrs4n2cncja3pw7u0t     localhost.localdomain   Down      Active                          <span class="token number">20.10</span>.11
95k3fdaiws92nfnlgw2c0az6r     localhost.localdomain   Ready     Active         Reachable        <span class="token number">20.10</span>.11
o7axrudtjc5w0jfufzzpgifp6     localhost.localdomain   Ready     Active                          <span class="token number">20.10</span>.11
wrph3nynhph6xxbaw074zbtfu *   localhost.localdomain   Ready     Active         Leader           <span class="token number">20.10</span>.11
yw58psu6baqkg6a9yv4urol4o     localhost.localdomain   Ready     Active         Reachable        <span class="token number">20.10</span>.11
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>\u8FD9\u4E2A\u65F6\u5019\u6211\u4EEC\u6709\u4E09\u4E2A\u7BA1\u7406\u8282\u70B9\uFF0C\u5982\u679C\u5176\u4E2D\u4E00\u53F0\u5B95\u673A\u4E86\uFF0C\u90A3\u4E48\u53E6\u5916\u4E24\u53F0\u4F1A\u9009\u51FA\u4E00\u4E2Aleader</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## systemctl stop docker</span>
Warning: Stopping docker.service, but it can still be activated by:
  docker.socket
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD8\u53EF\u4EE5\u8FD0\u884C</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker node ls</span>
ID                            <span class="token environment constant">HOSTNAME</span>                STATUS    AVAILABILITY   MANAGER STATUS   ENGINE VERSION
4otmq6usrs4n2cncja3pw7u0t     localhost.localdomain   Down      Active                          <span class="token number">20.10</span>.11
95k3fdaiws92nfnlgw2c0az6r *   localhost.localdomain   Ready     Active         Leader           <span class="token number">20.10</span>.11
o7axrudtjc5w0jfufzzpgifp6     localhost.localdomain   Ready     Active                          <span class="token number">20.10</span>.11
wrph3nynhph6xxbaw074zbtfu     localhost.localdomain   Unknown   Active         Unreachable      <span class="token number">20.10</span>.11
yw58psu6baqkg6a9yv4urol4o     localhost.localdomain   Ready     Active         Reachable        <span class="token number">20.10</span>.11
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5982\u679C\u6211\u4EEC\u5728\u5C06\u5176\u4E2D\u4E00\u4E2Amanager\u4E5F\u505C\u6B62\uFF0C\u90A3\u4E48\u6B64\u65F6\u5C31\u65E0\u6CD5\u8FD0\u884C\u4E86\uFF0C\u56E0\u4E3A\u53EA\u6709\u4E00\u4E2Amanager\u4E86</p><h4 id="\u603B\u7ED3-2"><a class="header-anchor" href="#\u603B\u7ED3-2" aria-hidden="true">#</a> \u603B\u7ED3</h4><ul><li>\u96C6\u7FA4\uFF0C\u8981\u60F3\u53EF\u7528\uFF0C\u81F3\u5C11\u8981\u4FDD\u8BC1\u67093\u4E2Amanager\uFF0C\u81F3\u5C11\u8981\u4FDD\u8BC1\u6709&gt;1\u53F0manager\u662F\u5B58\u6D3B\u7684</li><li>Raft\u534F\u8BAE\uFF1A\u4FDD\u8BC1\u5927\u591A\u6570\u8282\u70B9\u5B58\u6D3B\uFF0C\u624D\u53EF\u4EE5\u4F7F\u7528\uFF0C\u9AD8\u53EF\u7528</li></ul><h3 id="swarm\u96C6\u7FA4\u5F39\u6027\u521B\u5EFA\u670D\u52A1"><a class="header-anchor" href="#swarm\u96C6\u7FA4\u5F39\u6027\u521B\u5EFA\u670D\u52A1" aria-hidden="true">#</a> swarm\u96C6\u7FA4\u5F39\u6027\u521B\u5EFA\u670D\u52A1</h3><p>\u4EE5\u540E\u544A\u522Bdocker run\uFF0C\u5BB9\u5668\u5C31\u662F\u73A9\u5177\uFF0C\u8131\u79BB\u4E86\u7F16\u6392\u5C31\u6CA1\u6709\u4EFB\u4F55\u610F\u4E49</p><p>docker-compose\u624D\u662F\u542F\u52A8\u4E00\u4E2A\u9879\u76EE\u7684\u91CD\u70B9\uFF0C\u5355\u673A</p><p>\u5230\u4E86\u96C6\u7FA4\u91CC\u9762\uFF0C\u90A3\u4E48\u5C31\u662Fswarm\uFF0C<code>docker service</code>\u670D\u52A1</p><p>\u5230k8s\u91CC\u9762\uFF0C\u4E5F\u662F\u4E00\u4E2A\u4E2A\u7684\u670D\u52A1\uFF0Cservice pods</p><p><img src="`+Kn+`" alt=""></p><ul><li>\u5982\u679C\u65B0\u589E\u52A0\u4E00\u4E2Aweb\u670D\u52A1\uFF0C\u90A3\u4E48\u5C31\u9700\u8981\u5728Nginx\u4E2D\u914D\u7F6E\u6620\u5C04\u624D\u80FD\u505A\u8D1F\u8F7D\u5747\u8861\uFF0C\u662F\u6BD4\u8F83\u9EBB\u70E6\u7684</li><li>\u4F46\u662F\u4F7F\u7528\u4E86swarm\u4E4B\u540E\uFF0C\u5B83\u5C4F\u853D\u4E86\u5E95\u5C42\u7684\u670D\u52A1\uFF0C\u5728\u589E\u52A0\u591A\u5C11\u4E2Aweb\u670D\u52A1\uFF0C\u5176\u5B9E\u5BF9Nginx\u6765\u8BF4\u90FD\u662F\u4E00\u4E2A</li><li>\u4E5F\u5C31\u662F\u52A8\u6001\u6269\u7F29\u5BB9</li></ul><h4 id="\u4F53\u9A8C-\u521B\u5EFA\u670D\u52A1\u3001\u52A8\u6001\u6269\u5C55\u670D\u52A1\u3001\u52A8\u6001\u66F4\u65B0\u670D\u52A1\u3001\u79FB\u9664\u670D\u52A1"><a class="header-anchor" href="#\u4F53\u9A8C-\u521B\u5EFA\u670D\u52A1\u3001\u52A8\u6001\u6269\u5C55\u670D\u52A1\u3001\u52A8\u6001\u66F4\u65B0\u670D\u52A1\u3001\u79FB\u9664\u670D\u52A1" aria-hidden="true">#</a> \u4F53\u9A8C\uFF1A\u521B\u5EFA\u670D\u52A1\u3001\u52A8\u6001\u6269\u5C55\u670D\u52A1\u3001\u52A8\u6001\u66F4\u65B0\u670D\u52A1\u3001\u79FB\u9664\u670D\u52A1</h4><h5 id="\u521B\u5EFA\u670D\u52A1"><a class="header-anchor" href="#\u521B\u5EFA\u670D\u52A1" aria-hidden="true">#</a> \u521B\u5EFA\u670D\u52A1</h5><p>\u53EF\u4EE5\u901A\u8FC7docker service\u5728\u96C6\u7FA4\u7684\u60C5\u51B5\u4E0B\u542F\u52A8\u4E00\u4E2A\u670D\u52A1</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker service --help</span>

Usage:  <span class="token function">docker</span> <span class="token function">service</span> COMMAND

Manage services

Commands:
  create      Create a new <span class="token function">service</span>
  inspect     Display detailed information on one or <span class="token function">more</span> services
  logs        Fetch the logs of a <span class="token function">service</span> or task
  <span class="token function">ls</span>          List services
  <span class="token function">ps</span>          List the tasks of one or <span class="token function">more</span> services
  <span class="token function">rm</span>          Remove one or <span class="token function">more</span> services
  rollback    Revert changes to a <span class="token function">service</span><span class="token string">&#39;s configuration
  scale       Scale one or multiple replicated services
  update      Update a service

Run &#39;</span><span class="token function">docker</span> <span class="token function">service</span> COMMAND --help&#39; <span class="token keyword">for</span> <span class="token function">more</span> information on a command.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7070\u5EA6\u53D1\u5E03\uFF1A\u91D1\u4E1D\u96C0\u53D1\u5E03\uFF0C\u8981\u5E73\u6ED1\u7684\u5347\u7EA7\u7248\u672C\uFF0C\u51E0\u79CD\u5347\u7EA7\u7248\u672C\u7684\u65B9\u5F0F\uFF1A</p><ul><li>\u505C\u6B62\u7F51\u7AD9\uFF0C\u91CD\u65B0\u53D1\u5E03\u9879\u76EE</li><li>\u7070\u5EA6\u53D1\u5E03\uFF0C\u52A8\u6001\u5347\u7EA7</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker service create --help</span>

Usage:  <span class="token function">docker</span> <span class="token function">service</span> create <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> IMAGE <span class="token punctuation">[</span>COMMAND<span class="token punctuation">]</span> <span class="token punctuation">[</span>ARG<span class="token punctuation">..</span>.<span class="token punctuation">]</span>

Create a new <span class="token function">service</span>

Options:
      --cap-add list                       Add Linux capabilities
      --cap-drop list                      Drop Linux capabilities
      --config config                      Specify configurations to expose to the <span class="token function">service</span>
      --constraint list                    Placement constraints
      --container-label list               Container labels
      --credential-spec credential-spec    Credential spec <span class="token keyword">for</span> managed <span class="token function">service</span> account <span class="token punctuation">(</span>Windows only<span class="token punctuation">)</span>
  -d, --detach                             Exit immediately instead of waiting <span class="token keyword">for</span> the <span class="token function">service</span> to converge
      --dns list                           Set custom DNS servers
      --dns-option list                    Set DNS options
      --dns-search list                    Set custom DNS search domains
      --endpoint-mode string               Endpoint mode <span class="token punctuation">(</span>vip or dnsrr<span class="token punctuation">)</span> <span class="token punctuation">(</span>default <span class="token string">&quot;vip&quot;</span><span class="token punctuation">)</span>
      --entrypoint <span class="token builtin class-name">command</span>                 Overwrite the default ENTRYPOINT of the image
  -e, --env list                           Set environment variables
      --env-file list                      Read <span class="token keyword">in</span> a <span class="token function">file</span> of environment variables
      --generic-resource list              User defined resources
      --group list                         Set one or <span class="token function">more</span> supplementary user <span class="token function">groups</span> <span class="token keyword">for</span> the container
      --health-cmd string                  Command to run to check health
      --health-interval duration           Time between running the check <span class="token punctuation">(</span>ms<span class="token operator">|</span>s<span class="token operator">|</span>m<span class="token operator">|</span>h<span class="token punctuation">)</span>
      --health-retries int                 Consecutive failures needed to report unhealthy
      --health-start-period duration       Start period <span class="token keyword">for</span> the container to initialize before counting retries towards unstable <span class="token punctuation">(</span>ms<span class="token operator">|</span>s<span class="token operator">|</span>m<span class="token operator">|</span>h<span class="token punctuation">)</span>
      --health-timeout duration            Maximum <span class="token function">time</span> to allow one check to run <span class="token punctuation">(</span>ms<span class="token operator">|</span>s<span class="token operator">|</span>m<span class="token operator">|</span>h<span class="token punctuation">)</span>
      --host list                          Set one or <span class="token function">more</span> custom host-to-IP mappings <span class="token punctuation">(</span>host:ip<span class="token punctuation">)</span>
      --hostname string                    Container <span class="token function">hostname</span>
      --init                               Use an init inside each <span class="token function">service</span> container to forward signals and reap processes
      --isolation string                   Service container isolation mode
  -l, --label list                         Service labels
      --limit-cpu decimal                  Limit CPUs
      --limit-memory bytes                 Limit Memory
      --limit-pids int                     Limit maximum number of processes <span class="token punctuation">(</span>default <span class="token number">0</span> <span class="token operator">=</span> unlimited<span class="token punctuation">)</span>
      --log-driver string                  Logging driver <span class="token keyword">for</span> <span class="token function">service</span>
      --log-opt list                       Logging driver options
      --max-concurrent uint                Number of job tasks to run concurrently <span class="token punctuation">(</span>default equal to --replicas<span class="token punctuation">)</span>
      --mode string                        Service mode <span class="token punctuation">(</span>replicated, global, replicated-job, or global-job<span class="token punctuation">)</span> <span class="token punctuation">(</span>default <span class="token string">&quot;replicated&quot;</span><span class="token punctuation">)</span>
      --mount <span class="token function">mount</span>                        Attach a filesystem <span class="token function">mount</span> to the <span class="token function">service</span>
      --name string                        Service name
      --network network                    Network attachments
      --no-healthcheck                     Disable any container-specified HEALTHCHECK
      --no-resolve-image                   Do not query the registry to resolve image digest and supported platforms
      --placement-pref pref                Add a placement preference
  -p, --publish port                       Publish a port as a <span class="token function">node</span> port
  -q, --quiet                              Suppress progress output
      --read-only                          Mount the container&#39;s root filesystem as <span class="token builtin class-name">read</span> only
      --replicas uint                      Number of tasks
      --replicas-max-per-node uint         Maximum number of tasks per <span class="token function">node</span> <span class="token punctuation">(</span>default <span class="token number">0</span> <span class="token operator">=</span> unlimited<span class="token punctuation">)</span>
      --reserve-cpu decimal                Reserve CPUs
      --reserve-memory bytes               Reserve Memory
      --restart-condition string           Restart when condition is met <span class="token punctuation">(</span><span class="token string">&quot;none&quot;</span><span class="token operator">|</span><span class="token string">&quot;on-failure&quot;</span><span class="token operator">|</span><span class="token string">&quot;any&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>default <span class="token string">&quot;any&quot;</span><span class="token punctuation">)</span>
      --restart-delay duration             Delay between restart attempts <span class="token punctuation">(</span>ns<span class="token operator">|</span>us<span class="token operator">|</span>ms<span class="token operator">|</span>s<span class="token operator">|</span>m<span class="token operator">|</span>h<span class="token punctuation">)</span> <span class="token punctuation">(</span>default 5s<span class="token punctuation">)</span>
      --restart-max-attempts uint          Maximum number of restarts before giving up
      --restart-window duration            Window used to evaluate the restart policy <span class="token punctuation">(</span>ns<span class="token operator">|</span>us<span class="token operator">|</span>ms<span class="token operator">|</span>s<span class="token operator">|</span>m<span class="token operator">|</span>h<span class="token punctuation">)</span>
      --rollback-delay duration            Delay between task rollbacks <span class="token punctuation">(</span>ns<span class="token operator">|</span>us<span class="token operator">|</span>ms<span class="token operator">|</span>s<span class="token operator">|</span>m<span class="token operator">|</span>h<span class="token punctuation">)</span> <span class="token punctuation">(</span>default 0s<span class="token punctuation">)</span>
      --rollback-failure-action string     Action on rollback failure <span class="token punctuation">(</span><span class="token string">&quot;pause&quot;</span><span class="token operator">|</span><span class="token string">&quot;continue&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>default <span class="token string">&quot;pause&quot;</span><span class="token punctuation">)</span>
      --rollback-max-failure-ratio float   Failure rate to tolerate during a rollback <span class="token punctuation">(</span>default <span class="token number">0</span><span class="token punctuation">)</span>
      --rollback-monitor duration          Duration after each task rollback to monitor <span class="token keyword">for</span> failure <span class="token punctuation">(</span>ns<span class="token operator">|</span>us<span class="token operator">|</span>ms<span class="token operator">|</span>s<span class="token operator">|</span>m<span class="token operator">|</span>h<span class="token punctuation">)</span> <span class="token punctuation">(</span>default 5s<span class="token punctuation">)</span>
      --rollback-order string              Rollback order <span class="token punctuation">(</span><span class="token string">&quot;start-first&quot;</span><span class="token operator">|</span><span class="token string">&quot;stop-first&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>default <span class="token string">&quot;stop-first&quot;</span><span class="token punctuation">)</span>
      --rollback-parallelism uint          Maximum number of tasks rolled back simultaneously <span class="token punctuation">(</span><span class="token number">0</span> to roll back all at once<span class="token punctuation">)</span> <span class="token punctuation">(</span>default <span class="token number">1</span><span class="token punctuation">)</span>
      --secret secret                      Specify secrets to expose to the <span class="token function">service</span>
      --stop-grace-period duration         Time to <span class="token function">wait</span> before force killing a container <span class="token punctuation">(</span>ns<span class="token operator">|</span>us<span class="token operator">|</span>ms<span class="token operator">|</span>s<span class="token operator">|</span>m<span class="token operator">|</span>h<span class="token punctuation">)</span> <span class="token punctuation">(</span>default 10s<span class="token punctuation">)</span>
      --stop-signal string                 Signal to stop the container
      --sysctl list                        Sysctl options
  -t, --tty                                Allocate a pseudo-TTY
      --ulimit <span class="token builtin class-name">ulimit</span>                      Ulimit options <span class="token punctuation">(</span>default <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
      --update-delay duration              Delay between updates <span class="token punctuation">(</span>ns<span class="token operator">|</span>us<span class="token operator">|</span>ms<span class="token operator">|</span>s<span class="token operator">|</span>m<span class="token operator">|</span>h<span class="token punctuation">)</span> <span class="token punctuation">(</span>default 0s<span class="token punctuation">)</span>
      --update-failure-action string       Action on update failure <span class="token punctuation">(</span><span class="token string">&quot;pause&quot;</span><span class="token operator">|</span><span class="token string">&quot;continue&quot;</span><span class="token operator">|</span><span class="token string">&quot;rollback&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>default <span class="token string">&quot;pause&quot;</span><span class="token punctuation">)</span>
      --update-max-failure-ratio float     Failure rate to tolerate during an update <span class="token punctuation">(</span>default <span class="token number">0</span><span class="token punctuation">)</span>
      --update-monitor duration            Duration after each task update to monitor <span class="token keyword">for</span> failure <span class="token punctuation">(</span>ns<span class="token operator">|</span>us<span class="token operator">|</span>ms<span class="token operator">|</span>s<span class="token operator">|</span>m<span class="token operator">|</span>h<span class="token punctuation">)</span> <span class="token punctuation">(</span>default 5s<span class="token punctuation">)</span>
      --update-order string                Update order <span class="token punctuation">(</span><span class="token string">&quot;start-first&quot;</span><span class="token operator">|</span><span class="token string">&quot;stop-first&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>default <span class="token string">&quot;stop-first&quot;</span><span class="token punctuation">)</span>
      --update-parallelism uint            Maximum number of tasks updated simultaneously <span class="token punctuation">(</span><span class="token number">0</span> to update all at once<span class="token punctuation">)</span> <span class="token punctuation">(</span>default <span class="token number">1</span><span class="token punctuation">)</span>
  -u, --user string                        Username or <span class="token environment constant">UID</span> <span class="token punctuation">(</span>format: <span class="token operator">&lt;</span>name<span class="token operator">|</span>uid<span class="token operator">&gt;</span><span class="token punctuation">[</span>:<span class="token operator">&lt;</span>group<span class="token operator">|</span>gid<span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
      --with-registry-auth                 Send registry authentication details to swarm agents
  -w, --workdir string                     Working directory inside the container
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6BD4\u5982\u521B\u5EFA\u4E00\u4E2A\u670D\u52A1Nginx\uFF1A<code>docker service create -p 8888:80 --name my-nginx nginx</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker service create -p 8888:80 --name my-nginx nginx</span>
nr2jxd0t215jxhh9upxd4l59q
overall progress: <span class="token number">1</span> out of <span class="token number">1</span> tasks
<span class="token number">1</span>/1: running   <span class="token punctuation">[</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">&gt;</span><span class="token punctuation">]</span>
verify: Service converged
<span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker service ls</span>
ID             NAME       MODE         REPLICAS   IMAGE          PORTS
nr2jxd0t215j   my-nginx   replicated   <span class="token number">1</span>/1        nginx:latest   *:8888-<span class="token operator">&gt;</span><span class="token number">80</span>/tcp
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+Xn+`" alt=""></p><ul><li>replicated \u526F\u672C\uFF0C\u5F53\u524D\u53EA\u6709\u4E00\u4E2A</li></ul><p>\u7406\u89E3\u4E24\u4E2A\u6982\u5FF5\uFF1A</p><ul><li>docker run \u5BB9\u5668\u542F\u52A8\uFF0C\u4E0D\u5177\u6709\u6269\u7F29\u5BB9\u5668</li><li>docker service \u670D\u52A1\uFF0C\u5177\u6709\u6269\u7F29\u5BB9\u5668\uFF0C\u53EF\u4EE5\u6EDA\u52A8\u66F4\u65B0</li></ul><p>\u53EF\u4EE5\u901A\u8FC7\u8FC7<code>docker ps</code>\u67E5\u770B\u5F53\u524D\u670D\u52A1\u8FD0\u884C\u5728\u54EA\u4E2A\u673A\u5668\u4E0A\u7684\uFF0C\u867D\u7136\u57282\u8FD9\u4E2A\u8282\u70B9\u542F\u52A8\u7684\uFF0C\u4F46\u662F\u8FD0\u884C\u5374\u57285\u8FD9\u4E2A\u8282\u70B9\u4E0A\u7684</p><h5 id="\u52A8\u6001\u66F4\u65B0\u670D\u52A1"><a class="header-anchor" href="#\u52A8\u6001\u66F4\u65B0\u670D\u52A1" aria-hidden="true">#</a> \u52A8\u6001\u66F4\u65B0\u670D\u52A1</h5><p>\u901A\u8FC7<code>docker service update</code>\u66F4\u65B0</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker service update --help</span>

Usage:  <span class="token function">docker</span> <span class="token function">service</span> update <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> SERVICE

Update a <span class="token function">service</span>

Options:
      --args <span class="token builtin class-name">command</span>                       Service <span class="token builtin class-name">command</span> args
      --cap-add list                       Add Linux capabilities
      --cap-drop list                      Drop Linux capabilities
      --config-add config                  Add or update a config <span class="token function">file</span> on a <span class="token function">service</span>
      --config-rm list                     Remove a configuration <span class="token function">file</span>
      --constraint-add list                Add or update a placement constraint
      --constraint-rm list                 Remove a constraint
      --container-label-add list           Add or update a container label
      --container-label-rm list            Remove a container label by its key
      --credential-spec credential-spec    Credential spec <span class="token keyword">for</span> managed <span class="token function">service</span> account <span class="token punctuation">(</span>Windows only<span class="token punctuation">)</span>
  -d, --detach                             Exit immediately instead of waiting <span class="token keyword">for</span> the <span class="token function">service</span> to converge
      --dns-add list                       Add or update a custom DNS server
      --dns-option-add list                Add or update a DNS option
      --dns-option-rm list                 Remove a DNS option
      --dns-rm list                        Remove a custom DNS server
      --dns-search-add list                Add or update a custom DNS search domain
      --dns-search-rm list                 Remove a DNS search domain
      --endpoint-mode string               Endpoint mode <span class="token punctuation">(</span>vip or dnsrr<span class="token punctuation">)</span>
      --entrypoint <span class="token builtin class-name">command</span>                 Overwrite the default ENTRYPOINT of the image
      --env-add list                       Add or update an environment variable
      --env-rm list                        Remove an environment variable
      --force                              Force update even <span class="token keyword">if</span> no changes require it
      --generic-resource-add list          Add a Generic resource
      --generic-resource-rm list           Remove a Generic resource
      --group-add list                     Add an additional supplementary user group to the container
      --group-rm list                      Remove a previously added supplementary user group from the container
      --health-cmd string                  Command to run to check health
      --health-interval duration           Time between running the check <span class="token punctuation">(</span>ms<span class="token operator">|</span>s<span class="token operator">|</span>m<span class="token operator">|</span>h<span class="token punctuation">)</span>
      --health-retries int                 Consecutive failures needed to report unhealthy
      --health-start-period duration       Start period <span class="token keyword">for</span> the container to initialize before counting retries towards unstable <span class="token punctuation">(</span>ms<span class="token operator">|</span>s<span class="token operator">|</span>m<span class="token operator">|</span>h<span class="token punctuation">)</span>
      --health-timeout duration            Maximum <span class="token function">time</span> to allow one check to run <span class="token punctuation">(</span>ms<span class="token operator">|</span>s<span class="token operator">|</span>m<span class="token operator">|</span>h<span class="token punctuation">)</span>
      --host-add list                      Add a custom host-to-IP mapping <span class="token punctuation">(</span>host:ip<span class="token punctuation">)</span>
      --host-rm list                       Remove a custom host-to-IP mapping <span class="token punctuation">(</span>host:ip<span class="token punctuation">)</span>
      --hostname string                    Container <span class="token function">hostname</span>
      --image string                       Service image tag
      --init                               Use an init inside each <span class="token function">service</span> container to forward signals and reap processes
      --isolation string                   Service container isolation mode
      --label-add list                     Add or update a <span class="token function">service</span> label
      --label-rm list                      Remove a label by its key
      --limit-cpu decimal                  Limit CPUs
      --limit-memory bytes                 Limit Memory
      --limit-pids int                     Limit maximum number of processes <span class="token punctuation">(</span>default <span class="token number">0</span> <span class="token operator">=</span> unlimited<span class="token punctuation">)</span>
      --log-driver string                  Logging driver <span class="token keyword">for</span> <span class="token function">service</span>
      --log-opt list                       Logging driver options
      --max-concurrent uint                Number of job tasks to run concurrently <span class="token punctuation">(</span>default equal to --replicas<span class="token punctuation">)</span>
      --mount-add <span class="token function">mount</span>                    Add or update a <span class="token function">mount</span> on a <span class="token function">service</span>
      --mount-rm list                      Remove a <span class="token function">mount</span> by its target path
      --network-add network                Add a network
      --network-rm list                    Remove a network
      --no-healthcheck                     Disable any container-specified HEALTHCHECK
      --no-resolve-image                   Do not query the registry to resolve image digest and supported platforms
      --placement-pref-add pref            Add a placement preference
      --placement-pref-rm pref             Remove a placement preference
      --publish-add port                   Add or update a published port
      --publish-rm port                    Remove a published port by its target port
  -q, --quiet                              Suppress progress output
      --read-only                          Mount the container&#39;s root filesystem as <span class="token builtin class-name">read</span> only
      --replicas uint                      Number of tasks
      --replicas-max-per-node uint         Maximum number of tasks per <span class="token function">node</span> <span class="token punctuation">(</span>default <span class="token number">0</span> <span class="token operator">=</span> unlimited<span class="token punctuation">)</span>
      --reserve-cpu decimal                Reserve CPUs
      --reserve-memory bytes               Reserve Memory
      --restart-condition string           Restart when condition is met <span class="token punctuation">(</span><span class="token string">&quot;none&quot;</span><span class="token operator">|</span><span class="token string">&quot;on-failure&quot;</span><span class="token operator">|</span><span class="token string">&quot;any&quot;</span><span class="token punctuation">)</span>
      --restart-delay duration             Delay between restart attempts <span class="token punctuation">(</span>ns<span class="token operator">|</span>us<span class="token operator">|</span>ms<span class="token operator">|</span>s<span class="token operator">|</span>m<span class="token operator">|</span>h<span class="token punctuation">)</span>
      --restart-max-attempts uint          Maximum number of restarts before giving up
      --restart-window duration            Window used to evaluate the restart policy <span class="token punctuation">(</span>ns<span class="token operator">|</span>us<span class="token operator">|</span>ms<span class="token operator">|</span>s<span class="token operator">|</span>m<span class="token operator">|</span>h<span class="token punctuation">)</span>
      --rollback                           Rollback to previous specification
      --rollback-delay duration            Delay between task rollbacks <span class="token punctuation">(</span>ns<span class="token operator">|</span>us<span class="token operator">|</span>ms<span class="token operator">|</span>s<span class="token operator">|</span>m<span class="token operator">|</span>h<span class="token punctuation">)</span>
      --rollback-failure-action string     Action on rollback failure <span class="token punctuation">(</span><span class="token string">&quot;pause&quot;</span><span class="token operator">|</span><span class="token string">&quot;continue&quot;</span><span class="token punctuation">)</span>
      --rollback-max-failure-ratio float   Failure rate to tolerate during a rollback
      --rollback-monitor duration          Duration after each task rollback to monitor <span class="token keyword">for</span> failure <span class="token punctuation">(</span>ns<span class="token operator">|</span>us<span class="token operator">|</span>ms<span class="token operator">|</span>s<span class="token operator">|</span>m<span class="token operator">|</span>h<span class="token punctuation">)</span>
      --rollback-order string              Rollback order <span class="token punctuation">(</span><span class="token string">&quot;start-first&quot;</span><span class="token operator">|</span><span class="token string">&quot;stop-first&quot;</span><span class="token punctuation">)</span>
      --rollback-parallelism uint          Maximum number of tasks rolled back simultaneously <span class="token punctuation">(</span><span class="token number">0</span> to roll back all at once<span class="token punctuation">)</span>
      --secret-add secret                  Add or update a secret on a <span class="token function">service</span>
      --secret-rm list                     Remove a secret
      --stop-grace-period duration         Time to <span class="token function">wait</span> before force killing a container <span class="token punctuation">(</span>ns<span class="token operator">|</span>us<span class="token operator">|</span>ms<span class="token operator">|</span>s<span class="token operator">|</span>m<span class="token operator">|</span>h<span class="token punctuation">)</span>
      --stop-signal string                 Signal to stop the container
      --sysctl-add list                    Add or update a Sysctl option
      --sysctl-rm list                     Remove a Sysctl option
  -t, --tty                                Allocate a pseudo-TTY
      --ulimit-add <span class="token builtin class-name">ulimit</span>                  Add or update a <span class="token builtin class-name">ulimit</span> option <span class="token punctuation">(</span>default <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
      --ulimit-rm list                     Remove a <span class="token builtin class-name">ulimit</span> option
      --update-delay duration              Delay between updates <span class="token punctuation">(</span>ns<span class="token operator">|</span>us<span class="token operator">|</span>ms<span class="token operator">|</span>s<span class="token operator">|</span>m<span class="token operator">|</span>h<span class="token punctuation">)</span>
      --update-failure-action string       Action on update failure <span class="token punctuation">(</span><span class="token string">&quot;pause&quot;</span><span class="token operator">|</span><span class="token string">&quot;continue&quot;</span><span class="token operator">|</span><span class="token string">&quot;rollback&quot;</span><span class="token punctuation">)</span>
      --update-max-failure-ratio float     Failure rate to tolerate during an update
      --update-monitor duration            Duration after each task update to monitor <span class="token keyword">for</span> failure <span class="token punctuation">(</span>ns<span class="token operator">|</span>us<span class="token operator">|</span>ms<span class="token operator">|</span>s<span class="token operator">|</span>m<span class="token operator">|</span>h<span class="token punctuation">)</span>
      --update-order string                Update order <span class="token punctuation">(</span><span class="token string">&quot;start-first&quot;</span><span class="token operator">|</span><span class="token string">&quot;stop-first&quot;</span><span class="token punctuation">)</span>
      --update-parallelism uint            Maximum number of tasks updated simultaneously <span class="token punctuation">(</span><span class="token number">0</span> to update all at once<span class="token punctuation">)</span>
  -u, --user string                        Username or <span class="token environment constant">UID</span> <span class="token punctuation">(</span>format: <span class="token operator">&lt;</span>name<span class="token operator">|</span>uid<span class="token operator">&gt;</span><span class="token punctuation">[</span>:<span class="token operator">&lt;</span>group<span class="token operator">|</span>gid<span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
      --with-registry-auth                 Send registry authentication details to swarm agents
  -w, --workdir string                     Working directory inside the container
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost opt<span class="token punctuation">]</span><span class="token comment">## docker service update --replicas 3 my-nginx</span>
my-nginx
overall progress: <span class="token number">3</span> out of <span class="token number">3</span> tasks
<span class="token number">1</span>/3: running   <span class="token punctuation">[</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">&gt;</span><span class="token punctuation">]</span>
<span class="token number">2</span>/3: running   <span class="token punctuation">[</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">&gt;</span><span class="token punctuation">]</span>
<span class="token number">3</span>/3: running   <span class="token punctuation">[</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">&gt;</span><span class="token punctuation">]</span>
verify: Service converged
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E00\u65E6\u8FD9\u4E48\u90E8\u7F72\uFF0C\u65E0\u8BBA\u662F\u56DB\u4E2A\u4E2D\u7684\u90A3\u4E2AIP\u53BB\u8BBF\u95EENginx\u90FD\u53EF\u4EE5\u8BBF\u95EE\u5F97\u5230\uFF0C\u8FD9\u4E2A\u65F6\u5019\u7684\u96C6\u7FA4\u5176\u5B9E\u5C31\u662F\u4E00\u4E2A\u6574\u4F53\u4E86\uFF0C\u670D\u52A1\u53EF\u4EE5\u6709\u591A\u4E2A\u526F\u672C\u52A8\u6001\u6269\u7F29\u5BB9\uFF0C\u5B9E\u73B0\u9AD8\u53EF\u7528</p><p>\u5F39\u6027\u3001\u6269\u7F29\u5BB9</p><p>\u6BD4\u5982\u6211\u73B0\u5728\u67091000\u53F0\u670D\u52A1\u5668\uFF0C\u4F46\u662F\u5E73\u65F6\u7528\u4E0D\u5230\u8FD9\u4E48\u591A\uFF0C\u53EA\u9700\u8981100\u53F0\uFF0C\u7A81\u7136\u6709\u4E00\u5929\uFF0C\u5230\u4E86\u53CC\u5341\u4E00\u90A3\u4E00\u5929\uFF0C\u8FD9\u4E2A\u65F6\u5019\u5C31\u53EF\u4EE5\u628A\u5269\u4F59\u7684900\u53F0\u52A8\u6001\u6269\u7F29\u5BB9\u5230\u96C6\u7FA4\u4E2D</p><p><strong>\u51FA\u73B0\u9519\u8BEF</strong></p><p>Docker Swarm \u9519\u8BEF error creating external connectivity network: Failed to Setup IP tables: U \u73AF\u5883 CentOS7</p><p>\u5173\u95ED\u9632\u706B\u5899\u540E\u9700\u8981\u91CD\u542FDocker</p><p>service docker restart</p><p>\u8FD8\u6709\u4E00\u4E2A\u547D\u4EE4\uFF0C<code>docker service scale</code>\u4E5F\u53EF\u4EE5\u7528\u6765\u6269\u7F29\u5BB9\uFF0C\u548C\u66F4\u65B0\u5DEE\u4E0D\u591A</p><p><img src="`+Qn+'" alt=""></p><h5 id="\u79FB\u9664\u670D\u52A1"><a class="header-anchor" href="#\u79FB\u9664\u670D\u52A1" aria-hidden="true">#</a> \u79FB\u9664\u670D\u52A1</h5><p>\u901A\u8FC7\u547D\u4EE4<code>docker service rm xxx</code> \u6765\u79FB\u9664\u670D\u52A1</p><h3 id="\u603B\u7ED3-3"><a class="header-anchor" href="#\u603B\u7ED3-3" aria-hidden="true">#</a> \u603B\u7ED3</h3><p>docker swarm \u5176\u5B9E\u5E76\u4E0D\u96BE\uFF0C\u53EA\u8981\u4F1A\u642D\u5EFA\u96C6\u7FA4\uFF0C\u4F1A\u542F\u52A8\u670D\u52A1\uFF0C\u4F1A\u52A8\u6001\u7BA1\u7406\u5BB9\u5668\u5C31\u53EF\u4EE5\u4E86</p><h4 id="\u6982\u5FF5\u62D3\u5C55\u603B\u7ED3"><a class="header-anchor" href="#\u6982\u5FF5\u62D3\u5C55\u603B\u7ED3" aria-hidden="true">#</a> \u6982\u5FF5\u62D3\u5C55\u603B\u7ED3</h4><ol><li>swarm \u96C6\u7FA4\u7684\u7BA1\u7406\u548C\u7F16\u6392\u3002</li></ol><p>docker \u53EF\u4EE5\u521D\u59CB\u5316\u4E00\u4E2Aswarm\u96C6\u7FA4\uFF0C\u5176\u4ED6\u7684\u8282\u70B9\u53EF\u4EE5\u52A0\u5165\uFF0C\u6709\u4E24\u4E2A\u89D2\u8272\uFF1A\u7BA1\u7406\u5458\u548C\u5DE5\u4F5C\u8005</p><ol start="2"><li>node\uFF1A\u5C31\u662Fdocker\u8282\u70B9\uFF0C\u591A\u4E2A\u8282\u70B9\u5C31\u7EC4\u6210\u4E86\u7F51\u7EDC\u96C6\u7FA4\uFF0C\u8FD9\u4E2A\u96C6\u7FA4\u9700\u8981\u4E00\u4E2A\u7BA1\u7406\u8005\uFF0C\u8FD9\u4E2A\u7BA1\u7406\u8005\u5C31\u662Fswarm</li><li>service \u670D\u52A1\uFF0C\u5C31\u662F\u4EFB\u52A1\uFF0C\u53EF\u4EE5\u5728\u7BA1\u7406\u8282\u70B9\uFF0C\u6216\u8005\u5DE5\u4F5C\u8282\u70B9\u6765\u8FD0\u884C\uFF0C\u6838\u5FC3\uFF0C\u7528\u6237\u8BBF\u95EE\u7684\u5C31\u662F\u5B83\uFF0C\u6211\u4EEC\u90E8\u7F72\u7684\u4E5F\u662F\u5B83</li><li>task \u5BB9\u5668\u5185\u7684\u547D\u4EE4\uFF0C\u7EC6\u8282\u4EFB\u52A1</li></ol><h3 id="\u670D\u52A1\u526F\u672C\u548C\u5168\u5C40\u670D\u52A1"><a class="header-anchor" href="#\u670D\u52A1\u526F\u672C\u548C\u5168\u5C40\u670D\u52A1" aria-hidden="true">#</a> \u670D\u52A1\u526F\u672C\u548C\u5168\u5C40\u670D\u52A1</h3><p><img src="'+Zn+`" alt=""></p><p>\u8C03\u7528service\u4EE5\u4EC0\u4E48\u65B9\u5F0F\u8FD0\u884C</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>--mode string
<span class="token function">service</span> mode <span class="token punctuation">(</span>replicated or global<span class="token punctuation">)</span><span class="token punctuation">(</span>default <span class="token string">&quot;replicated&quot;</span><span class="token punctuation">)</span>

<span class="token function">docker</span> <span class="token function">service</span> create --mode replicated --name mytom tomcat:7 <span class="token comment">## \u9ED8\u8BA4\u7684</span>

<span class="token function">docker</span> <span class="token function">service</span> create --mode global --name haha alpine <span class="token function">ping</span> baidu.com
<span class="token comment">## \u573A\u666F\uFF1F\u65E5\u5FD7\u6536\u96C6</span>
\u6BCF\u4E2A\u8282\u70B9\u6709\u81EA\u5DF1\u7684\u65E5\u5FD7\u6536\u96C6\u5668\uFF0C\u8FC7\u6EE4\u3002\u628A\u6240\u6709\u7684\u65E5\u5FD7\u6700\u7EC8\u5728\u4F20\u7ED9\u65E5\u5FD7\u4E2D\u5FC3\uFF0C\u670D\u52A1\u76D1\u63A7\uFF0C\u72B6\u6001\u6027\u80FD
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6269\u5C55\uFF1A\u7F51\u7EDC\u6A21\u5F0F</p><ul><li>swarm\uFF1A</li><li>overlay\uFF1A\u5C31\u662F\u5728\u8FD9\u7FA4\u4F53\u7F51\u7EDC\u4E2D\uFF0C\u5BF9\u8FD9\u4E2A\u7FA4\u4F53\u7F51\u7EDC\u4E2D\u7684\u5176\u4ED6\u673A\u5668\u53EF\u89C1</li><li>ingress\uFF1A\u7279\u6B8A\u7684overlay\u7F51\u7EDC\uFF0C\u5177\u6709\u8D1F\u8F7D\u5747\u8861\u7684\u529F\u80FD\uFF0C\u4F1A\u81EA\u52A8\u505A\u8D1F\u8F7D\u5747\u8861</li></ul><p>\u867D\u7136\u5728docker\u57284\u53F0\u673A\u5668\u4E0A\uFF0C\u5B9E\u9645\u4F7F\u7528\u7684\u662F\u540C\u4E00\u4E2A\u7F51\u7EDC--ingress\u7F51\u7EDC</p><h2 id="docker-stack"><a class="header-anchor" href="#docker-stack" aria-hidden="true">#</a> docker stack</h2><p>docker-compose \u662F\u5355\u673A\u90E8\u7F72\u9879\u76EE</p><p>\u5728\u96C6\u7FA4\u4E0A\u90E8\u7F72\u9879\u76EE\u5C31\u662F\u4F7F\u7528docker stack</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">## \u5355\u673A\u4E0B\u4F7F\u7528</span>
<span class="token function">docker-compose</span> up -d wordpress.yaml

<span class="token comment">## \u96C6\u7FA4\u4E0B\u4F7F\u7528</span>
<span class="token function">docker</span> stack deply wordpress.yaml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4F7F\u7528\u7EC6\u8282</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> stack --help
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="docker-secret"><a class="header-anchor" href="#docker-secret" aria-hidden="true">#</a> docker secret</h2><p>\u5B89\u5168\uFF0C\u914D\u7F6E\u5BC6\u7801\u4F7F\u7528\u7684\uFF0C\u8BC1\u4E66\u7684</p><p>\u4F7F\u7528\u7EC6\u8282</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> secret --help
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="docker-cofigs"><a class="header-anchor" href="#docker-cofigs" aria-hidden="true">#</a> docker cofigs</h2><p>\u914D\u7F6E</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> configs --help
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="k8s"><a class="header-anchor" href="#k8s" aria-hidden="true">#</a> k8s</h2>`,894);function ns(ss,as){return $n}var ts=n(Jn,[["render",ns],["__file","01docker\u57FA\u7840.html.vue"]]);export{ts as default};
